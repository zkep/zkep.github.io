[{"title":"Gitbook 打造你的电子书","url":"/docs/gitbook.html","content":"<blockquote>\n<p>本文详细讲解了 <a class=\"link\"   href=\"https://www.gitbook.com/\" >GitBook<i class=\"fas fa-external-link-alt\"></i></a> 生成电子书的完整过程，内容包括：安装、命令、配置、文档结构、生成电子书、部署。</p>\n</blockquote>\n<span id=\"more\"></span>\n\n<h3 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h3><p>GitBook 是使用 GitHub &#x2F; Git 和 Markdown（或AsciiDoc）构建漂亮书籍的命令行工具（和Node.js库）。</p>\n<p>GitBook 可以将您的内容作为网站（可定制和可扩展）或电子书（PDF，ePub或Mobi）输出。</p>\n<p>GitBook.com 是使用 GitBook 格式创建和托管图书的在线平台。它提供托管，协作功能和易于使用的编辑器。</p>\n<h3 id=\"GitBook-安装\"><a href=\"#GitBook-安装\" class=\"headerlink\" title=\"GitBook 安装\"></a>GitBook 安装</h3><p>本地安装<br>环境要求</p>\n<p>安装 GitBook 是很简单的。您的系统只需要满足这两个要求：</p>\n<pre><code>NodeJS（推荐使用v4.0.0及以上版本）\nWindows，Linux，Unix 或 Mac OS X\n</code></pre>\n<p>通过NPM安装</p>\n<p>安装 GitBook 的最好办法是通过 NPM。在终端提示符下，只需运行以下命令即可安装 GitBook：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install gitbook-cli -g</span><br></pre></td></tr></table></figure>\n\n<p>gitbook-cli 是 GitBook 的一个命令行工具。它将自动安装所需版本的 GitBook 来构建一本书。</p>\n<p>执行下面的命令，查看 GitBook 版本，以验证安装成功</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook -V</span><br></pre></td></tr></table></figure>\n\n<p>安装历史版本</p>\n<p>gitbook-cli 可以轻松下载并安装其他版本的GitBook来测试您的书籍：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook fetch beta</span><br></pre></td></tr></table></figure>\n\n<p>使用 gitbook ls-remote 会列举可以下载的版本。</p>\n<h3 id=\"创建一本书\"><a href=\"#创建一本书\" class=\"headerlink\" title=\"创建一本书\"></a>创建一本书</h3><h4 id=\"初始化\"><a href=\"#初始化\" class=\"headerlink\" title=\"初始化\"></a>初始化</h4><p>GitBook可以设置一个样板书：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook init</span><br></pre></td></tr></table></figure>\n\n<p>如果您希望将书籍创建到一个新目录中，可以通过运行 gitbook init .&#x2F;directory 这样做。</p>\n<h4 id=\"构建\"><a href=\"#构建\" class=\"headerlink\" title=\"构建\"></a>构建</h4><p>使用下面的命令，会在项目的目录下生成一个 _book 目录，里面的内容为静态站点的资源文件：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook build</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Debugging\"><a href=\"#Debugging\" class=\"headerlink\" title=\"Debugging\"></a>Debugging</h4><p>您可以使用选项 –log&#x3D;debug 和 –debug 来获取更好的错误消息（使用堆栈跟踪）。例如：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook build ./ --log=debug --debug</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"启动服务\"><a href=\"#启动服务\" class=\"headerlink\" title=\"启动服务\"></a>启动服务</h4><p>使用下列命令会运行一个 web 服务, 通过 <a class=\"link\"   href=\"http://localhost:4000/\" >http://localhost:4000/<i class=\"fas fa-external-link-alt\"></i></a> 可以预览书籍</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook serve</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"GitBook-命令\"><a href=\"#GitBook-命令\" class=\"headerlink\" title=\"GitBook 命令\"></a>GitBook 命令</h3><p>这里主要介绍一下 GitBook 的命令行工具 gitbook-cli 的一些命令, 首先说明两点:</p>\n<pre><code>gitbook-cli 和 gitbook 是两个软件\ngitbook-cli 会将下载的 gitbook 的不同版本放到 ~/.gitbook中, 可以通过设置GITBOOK_DIR环境变量来指定另外的文件夹\n</code></pre>\n<p>输出 gitbook-cli 的帮助信息</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook --help</span><br></pre></td></tr></table></figure>\n\n<p>生成静态网页</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook build</span><br></pre></td></tr></table></figure>\n\n<p>生成静态网页并运行服务器</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook serve</span><br></pre></td></tr></table></figure>\n\n<p>生成时指定gitbook的版本, 本地没有会先下载</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook build --gitbook=2.0.1</span><br></pre></td></tr></table></figure>\n\n<p>列出本地所有的gitbook版本</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook ls</span><br></pre></td></tr></table></figure>\n\n<p>列出远程可用的gitbook版本</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook ls-remote</span><br></pre></td></tr></table></figure>\n\n<p>安装对应的gitbook版本</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook fetch 标签/版本号</span><br></pre></td></tr></table></figure>\n\n<p>更新到gitbook的最新版本</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook update</span><br></pre></td></tr></table></figure>\n\n<p>卸载对应的gitbook版本</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook uninstall 2.0.1</span><br></pre></td></tr></table></figure>\n\n<p>指定log的级别</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook build --log=debug</span><br></pre></td></tr></table></figure>\n\n<p>输出错误信息</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">gitbook builid --debug</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Gitbook-目录结构\"><a href=\"#Gitbook-目录结构\" class=\"headerlink\" title=\"Gitbook 目录结构\"></a>Gitbook 目录结构</h3><h4 id=\"GitBook-项目结构\"><a href=\"#GitBook-项目结构\" class=\"headerlink\" title=\"GitBook 项目结构\"></a>GitBook 项目结构</h4><p>GitBook使用简单的目录结构。在 SUMMARY （即 SUMMARY.md 文件）中列出的所有 Markdown &#x2F; Asciidoc 文件将被转换为 HTML。多语言书籍结构略有不同。</p>\n<p>一个基本的 GitBook 电子书结构通常如下：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">.</span><br><span class=\"line\">├── book.json</span><br><span class=\"line\">├── README.md</span><br><span class=\"line\">├── SUMMARY.md</span><br><span class=\"line\">├── chapter<span class=\"number\">-1</span>/</span><br><span class=\"line\">|   ├── README.md</span><br><span class=\"line\">|   └── something.md</span><br><span class=\"line\">└── chapter<span class=\"number\">-2</span>/</span><br><span class=\"line\">    ├── README.md</span><br><span class=\"line\">    └── something.md</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"GitBook-特殊文件的功能\"><a href=\"#GitBook-特殊文件的功能\" class=\"headerlink\" title=\"GitBook 特殊文件的功能\"></a>GitBook 特殊文件的功能</h4><table>\n<thead>\n<tr>\n<th>文件</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>book.json</td>\n<td>配置数据 (optional)</td>\n</tr>\n<tr>\n<td>README.md</td>\n<td>电子书的前言或简介 (required)</td>\n</tr>\n<tr>\n<td>SUMMARY.md</td>\n<td>电子书目录 (optional)</td>\n</tr>\n<tr>\n<td>GLOSSARY.md</td>\n<td>词汇&#x2F;注释术语列表 (optional)</td>\n</tr>\n</tbody></table>\n<h4 id=\"静态文件和图片\"><a href=\"#静态文件和图片\" class=\"headerlink\" title=\"静态文件和图片\"></a>静态文件和图片</h4><p>静态文件是在 SUMMARY.md 中未列出的文件。除非被忽略，否则所有静态文件都将复制到输出路径。<br>忽略文件和文件夹</p>\n<p>GitBook将读取 .gitignore，.bookignore 和 .ignore 文件，以获取要过滤的文件和文件夹。这些文件中的格式遵循 .gitignore 的规则：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\"># This is a comment</span><br><span class=\"line\"></span><br><span class=\"line\"># Ignore the file test.md</span><br><span class=\"line\">test.md</span><br><span class=\"line\"></span><br><span class=\"line\"># Ignore everything in the directory &quot;bin&quot;</span><br><span class=\"line\">bin/*</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"项目与子目录集成\"><a href=\"#项目与子目录集成\" class=\"headerlink\" title=\"项目与子目录集成\"></a>项目与子目录集成</h4><p>对于软件项目，您可以使用子目录（如 docs&#x2F; ）来存储项目文档的图书。您可以配置根选项来指示 GitBook 可以找到该图书文件的文件夹：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">.</span><br><span class=\"line\">├── book.json</span><br><span class=\"line\">└── docs/</span><br><span class=\"line\">    ├── README.md</span><br><span class=\"line\">    └── SUMMARY.md</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>在 book.json 中配置以下内容：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;root&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;./docs&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h4><p>GitBook 使用 SUMMARY.md 文件来定义本书的章节和子章节的结构。 SUMMARY.md 文件用于生成本书的目录。</p>\n<p>SUMMARY.md 的格式是一个链接列表。链接的标题将作为章节的标题，链接的目标是该章节文件的路径。</p>\n<p>向父章节添加嵌套列表将创建子章节。</p>\n<p>简单示例：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"># Summary</span><br><span class=\"line\"></span><br><span class=\"line\">* <span class=\"punctuation\">[</span>Part I<span class=\"punctuation\">]</span>(part1/README.md)</span><br><span class=\"line\">    * <span class=\"punctuation\">[</span>Writing is nice<span class=\"punctuation\">]</span>(part1/writing.md)</span><br><span class=\"line\">    * <span class=\"punctuation\">[</span>GitBook is nice<span class=\"punctuation\">]</span>(part1/gitbook.md)</span><br><span class=\"line\">* <span class=\"punctuation\">[</span>Part II<span class=\"punctuation\">]</span>(part2/README.md)</span><br><span class=\"line\">    * <span class=\"punctuation\">[</span>We love feedback<span class=\"punctuation\">]</span>(part2/feedback_please.md)</span><br><span class=\"line\">    * <span class=\"punctuation\">[</span>Better tools for authors<span class=\"punctuation\">]</span>(part2/better_tools.md)</span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure>\n\n<p>每章都有一个专用页面（part#&#x2F;README.md），并分为子章节。</p>\n<h4 id=\"锚点\"><a href=\"#锚点\" class=\"headerlink\" title=\"锚点\"></a>锚点</h4><p>目录中的章节可以使用锚点指向文件的特定部分。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"># Summary</span><br><span class=\"line\"></span><br><span class=\"line\">### Part I</span><br><span class=\"line\"></span><br><span class=\"line\">* <span class=\"punctuation\">[</span>Part I<span class=\"punctuation\">]</span>(part1/README.md)</span><br><span class=\"line\">  * <span class=\"punctuation\">[</span>Writing is nice<span class=\"punctuation\">]</span>(part1/README.md#writing)</span><br><span class=\"line\">  * <span class=\"punctuation\">[</span>GitBook is nice<span class=\"punctuation\">]</span>(part1/README.md#gitbook)</span><br><span class=\"line\">* <span class=\"punctuation\">[</span>Part II<span class=\"punctuation\">]</span>(part2/README.md)</span><br><span class=\"line\">  * <span class=\"punctuation\">[</span>We love feedback<span class=\"punctuation\">]</span>(part2/README.md#feedback)</span><br><span class=\"line\">  * <span class=\"punctuation\">[</span>Better tools for authors<span class=\"punctuation\">]</span>(part2/README.md#tools)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"部分\"><a href=\"#部分\" class=\"headerlink\" title=\"部分\"></a>部分</h4><p>目录可以分为以标题或水平线 —- 分隔的部分：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"># Summary</span><br><span class=\"line\"></span><br><span class=\"line\">### Part I</span><br><span class=\"line\"></span><br><span class=\"line\">* <span class=\"punctuation\">[</span>Writing is nice<span class=\"punctuation\">]</span>(part1/writing.md)</span><br><span class=\"line\">* <span class=\"punctuation\">[</span>GitBook is nice<span class=\"punctuation\">]</span>(part1/gitbook.md)</span><br><span class=\"line\"></span><br><span class=\"line\">### Part II</span><br><span class=\"line\"></span><br><span class=\"line\">* <span class=\"punctuation\">[</span>We love feedback<span class=\"punctuation\">]</span>(part2/feedback_please.md)</span><br><span class=\"line\">* <span class=\"punctuation\">[</span>Better tools for authors<span class=\"punctuation\">]</span>(part2/better_tools.md)</span><br><span class=\"line\"></span><br><span class=\"line\">----</span><br><span class=\"line\"></span><br><span class=\"line\">* <span class=\"punctuation\">[</span>Last part without title<span class=\"punctuation\">]</span>(part3/title.md)</span><br></pre></td></tr></table></figure>\n\n<p>Parts 只是章节组，没有专用页面，但根据主题，它将在导航中显示。</p>\n<h3 id=\"页面\"><a href=\"#页面\" class=\"headerlink\" title=\"页面\"></a>页面</h3><h4 id=\"Markdown-语法\"><a href=\"#Markdown-语法\" class=\"headerlink\" title=\"Markdown 语法\"></a>Markdown 语法</h4><p>默认情况下，GitBook 的大多数文件都使用 Markdown 语法。 GitBook 推荐使用这种语法。所使用的语法类似于 GitHub Flavored Markdown syntax 。</p>\n<p>页面内容示例：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"># Title of the chapter</span><br><span class=\"line\"></span><br><span class=\"line\">This is a great introduction.</span><br><span class=\"line\"></span><br><span class=\"line\">## Section <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">Markdown will dictates _most_ of your **book&#x27;s structure**</span><br><span class=\"line\"></span><br><span class=\"line\">## Section <span class=\"number\">2</span></span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"页面前言\"><a href=\"#页面前言\" class=\"headerlink\" title=\"页面前言\"></a>页面前言</h4><p>页面可以包含一个可选的前言。它可以用于定义页面的描述。前面的事情必须是文件中的第一件事，必须采取在三虚线之间设置的有效YAML的形式。这是一个基本的例子：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">description<span class=\"punctuation\">:</span> This is a short description of my page</span><br><span class=\"line\">---</span><br><span class=\"line\"></span><br><span class=\"line\"># The content of my page</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Glossary\"><a href=\"#Glossary\" class=\"headerlink\" title=\"Glossary\"></a>Glossary</h4><p>允许您指定要显示为注释的术语及其各自的定义。根据这些术语，GitBook 将自动构建索引并突出显示这些术语。</p>\n<p>GLOSSARY.md 的格式是 h2 标题的列表，以及描述段落：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">## Term</span><br><span class=\"line\">Definition for this term</span><br><span class=\"line\"></span><br><span class=\"line\">## Another term</span><br><span class=\"line\">With it&#x27;s definition<span class=\"punctuation\">,</span> this can contain bold text</span><br><span class=\"line\">and all other kinds of inline markup ...</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Gitbook-配置\"><a href=\"#Gitbook-配置\" class=\"headerlink\" title=\"Gitbook 配置\"></a>Gitbook 配置</h3><blockquote>\n<p>GitBook 允许您使用灵活的配置自定义您的电子书。<br>这些选项在 book.json 文件中指定。对于不熟悉 JSON 语法的作者，您可以使用 JSONlint 等工具验证语法。</p>\n</blockquote>\n<h4 id=\"常规设置\"><a href=\"#常规设置\" class=\"headerlink\" title=\"常规设置\"></a>常规设置</h4><table>\n<thead>\n<tr>\n<th>变量</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>root</td>\n<td>包含所有图书文件的根文件夹的路径，除了 book.json</td>\n</tr>\n<tr>\n<td>structure</td>\n<td>指定自述文件，摘要，词汇表等的路径，参考 Structure paragraph.</td>\n</tr>\n<tr>\n<td>title</td>\n<td>您的书名，默认值是从 README 中提取出来的。在 GitBook.com 上，这个字段是预填的。</td>\n</tr>\n<tr>\n<td>description</td>\n<td>您的书籍的描述，默认值是从 README 中提取出来的。在 GitBook.com 上，这个字段是预填的。</td>\n</tr>\n<tr>\n<td>author</td>\n<td>作者名。在GitBook.com上，这个字段是预填的。</td>\n</tr>\n<tr>\n<td>isbn</td>\n<td>国际标准书号 ISBN</td>\n</tr>\n<tr>\n<td>language</td>\n<td>本书的语言类型 —— ISO code 。默认值是 en</td>\n</tr>\n<tr>\n<td>direction</td>\n<td>文本阅读顺序。可以是 rtl （从右向左）或 ltr （从左向右），默认值依赖于 language 的值。</td>\n</tr>\n<tr>\n<td>gitbook</td>\n<td>应该使用的GitBook版本。使用 SemVer 规范，并接受类似于 “&gt; &#x3D; 3.0.0” 的条件。</td>\n</tr>\n</tbody></table>\n<p>language<br>Gitbook使用的语言, 版本2.6.4中可选的语言如下：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">en<span class=\"punctuation\">,</span> ar<span class=\"punctuation\">,</span> bn<span class=\"punctuation\">,</span> cs<span class=\"punctuation\">,</span> de<span class=\"punctuation\">,</span> en<span class=\"punctuation\">,</span> es<span class=\"punctuation\">,</span> fa<span class=\"punctuation\">,</span> fi<span class=\"punctuation\">,</span> fr<span class=\"punctuation\">,</span> he<span class=\"punctuation\">,</span> it<span class=\"punctuation\">,</span> ja<span class=\"punctuation\">,</span> ko<span class=\"punctuation\">,</span> no<span class=\"punctuation\">,</span> pl<span class=\"punctuation\">,</span> pt<span class=\"punctuation\">,</span> ro<span class=\"punctuation\">,</span> ru<span class=\"punctuation\">,</span> sv<span class=\"punctuation\">,</span> uk<span class=\"punctuation\">,</span> vi<span class=\"punctuation\">,</span> zh-hans<span class=\"punctuation\">,</span> zh-tw</span><br></pre></td></tr></table></figure>\n\n<p>例：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;language&quot;</span> <span class=\"punctuation\">:</span> <span class=\"string\">&quot;zh-hans&quot;</span><span class=\"punctuation\">,</span></span><br></pre></td></tr></table></figure>\n\n<p>links<br>在左侧导航栏添加链接信息</p>\n<p>例：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;links&quot;</span> <span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;sidebar&quot;</span> <span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;Home&quot;</span> <span class=\"punctuation\">:</span> <span class=\"string\">&quot;https://github.com/dunwu/gitbook-notes&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"生成电子书\"><a href=\"#生成电子书\" class=\"headerlink\" title=\"生成电子书\"></a>生成电子书</h3><p>GitBook 可以生成一个网站，但也可以输出内容作为电子书（ePub，Mobi，PDF）。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"># Generate a PDF file</span><br><span class=\"line\">$ gitbook pdf ./ ./mybook.pdf</span><br><span class=\"line\"></span><br><span class=\"line\"># Generate an ePub file</span><br><span class=\"line\">$ gitbook epub ./ ./mybook.epub</span><br><span class=\"line\"></span><br><span class=\"line\"># Generate a Mobi file</span><br><span class=\"line\">$ gitbook mobi ./ ./mybook.mobi</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"安装-ebook-convert\"><a href=\"#安装-ebook-convert\" class=\"headerlink\" title=\"安装 ebook-convert\"></a>安装 ebook-convert</h4><p>ebook-convert 可以用来生成电子书（epub，mobi，pdf）。</p>\n<h4 id=\"GNU-x2F-Linux\"><a href=\"#GNU-x2F-Linux\" class=\"headerlink\" title=\"GNU&#x2F;Linux\"></a>GNU&#x2F;Linux</h4><p>安装 <a class=\"link\"   href=\"https://link.jianshu.com/?t=https://calibre-ebook.com/download\" >Calibre application<i class=\"fas fa-external-link-alt\"></i></a></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo aptitude install calibre</span><br></pre></td></tr></table></figure>\n\n<p>在一些 GNU &#x2F; Linux 发行版中，节点被安装为 nodejs，您需要手动创建一个符号链接：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo ln -s /usr/bin/nodejs /usr/bin/node </span><br></pre></td></tr></table></figure>\n\n<h4 id=\"OS-X\"><a href=\"#OS-X\" class=\"headerlink\" title=\"OS X\"></a>OS X</h4><p>下载 <a class=\"link\"   href=\"https://link.jianshu.com/?t=https://calibre-ebook.com/download\" >Calibre application<i class=\"fas fa-external-link-alt\"></i></a>。将 calibre.app 移动到应用程序文件夹后，创建一个符号链接到 ebook-convert 工具：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo ln -s ~/Applications/calibre.app/Contents/MacOS/ebook-convert /usr/bin</span><br><span class=\"line\"><span class=\"meta\"># </span><span class=\"language-bash\">或</span></span><br><span class=\"line\">sudo ln -s /System/Volumes/Data/Applications/calibre.app/Contents/MacOS/ebook-convert /usr/bin</span><br></pre></td></tr></table></figure>\n\n<p>您可以使用 $PATH 中的任何目录替换 &#x2F;usr&#x2F;bin 。</p>\n<h4 id=\"封面\"><a href=\"#封面\" class=\"headerlink\" title=\"封面\"></a>封面</h4><p>封面用于所有电子书格式。您可以自己提供一个，也可以使用 <a class=\"link\"   href=\"https://plugins.gitbook.com/plugin/autocover\" >autocover plugin<i class=\"fas fa-external-link-alt\"></i></a> 生成一个。</p>\n<p>要提供封面，请将 cover.jpg 文件放在书本的根目录下。添加一个 cover_small.jpg 将指定一个较小版本的封面。封面应为 JPEG 文件。</p>\n<p>好的封面应该遵守以下准则：</p>\n<pre><code>cover.jpg 的尺寸为 1800x2360 像素，cover_small.jpg 为 200x262\n没有边界\n清晰可见的书名\n任何重要的文字应该在小版本中可见\n</code></pre>\n<h3 id=\"Gitbook-部署\"><a href=\"#Gitbook-部署\" class=\"headerlink\" title=\"Gitbook 部署\"></a>Gitbook 部署</h3><h4 id=\"托管到-gitbook-com\"><a href=\"#托管到-gitbook-com\" class=\"headerlink\" title=\"托管到 gitbook.com\"></a>托管到 gitbook.com</h4><p><a class=\"link\"   href=\"https://www.gitbook.com/\" >GitBook.com<i class=\"fas fa-external-link-alt\"></i></a> 是使用 GitBook 格式创建和托管图书的在线平台。它提供托管，协作功能和易于使用的编辑器。</p>\n<h4 id=\"托管到-Github\"><a href=\"#托管到-Github\" class=\"headerlink\" title=\"托管到 Github\"></a>托管到 Github</h4><p>如果你不希望使用 Gitbook 的仓库，而是想直接使用 Github 的仓库，也是可以的。</p>\n<p>首先，你需要绑定你的 Github 账号。最简单的方式当然就是登录 Gitbook.com 时使用 Github 账号登录方式了。否则，你也可以在 Account Settings 中的 Github 设置选项中去进行绑定。</p>\n<h4 id=\"托管到-Github-Pages\"><a href=\"#托管到-Github-Pages\" class=\"headerlink\" title=\"托管到 Github Pages\"></a>托管到 Github Pages</h4><p>也许你以前也了解 Github 的一个功能： <a class=\"link\"   href=\"https://pages.github.com/\" >GitHub Pages<i class=\"fas fa-external-link-alt\"></i></a> 。它允许用户在 GitHub 仓库托管你的个人、组织或项目的静态页面（自动识别 html、css、javascript）。</p>\n<p>建立 xxx.github.io 仓库</p>\n<p>要使用这个特性，首先，你必须建立一个严格遵循以下命名要求的仓库：Github账号名.github.io举例，我的 Github 账号为 dunwu，则这个仓库应该叫 dunwu.github.io。通常，这个仓库被用来作为个人或组织的博客。</p>\n<p>建立 gh-pages 分支</p>\n<p>完成第1步后，在任意一个 Github 仓库中建立一个名为 gh-pages 的分支。只要 gh-pages 中的内容符合一个静态站点要求，就可以在如下地址中进行访问：<a class=\"link\"   href=\"https://github用户名.gitbooks.io/Github\" >https://Github用户名.gitbooks.io/Github<i class=\"fas fa-external-link-alt\"></i></a> 仓库 。例如：我的一个 Github 仓库名为 xxx，则访问路径是：<a class=\"link\"   href=\"https://zkep.github.io/xxx\" >https://zkep.github.io/xxx<i class=\"fas fa-external-link-alt\"></i></a></p>\n<h4 id=\"自动化发布到-gh-pages\"><a href=\"#自动化发布到-gh-pages\" class=\"headerlink\" title=\"自动化发布到 gh-pages\"></a>自动化发布到 gh-pages</h4><p>如果每次都手动 git push 到远程 gh-pages 分支，略有点麻烦。</p>\n<p>怎么实现自动化发布呢？</p>\n<p>有两种方法：</p>\n<h5 id=\"使用-gh-pages-插件\"><a href=\"#使用-gh-pages-插件\" class=\"headerlink\" title=\"使用 gh-pages 插件\"></a>使用 gh-pages 插件</h5><p>如果你了解 Nodejs，那么最简单的发布方式就是使用 gh-pages 插件。</p>\n<p>先在本地安装插件</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm i -D gh-pages</span><br></pre></td></tr></table></figure>\n\n<p>然后，在 package.json 文件中添加脚本命令：</p>\n<p>如下：-d 命令参数后面是要发布的静态站点内容的目录</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;deploy&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;gh-pages -d build&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"脚本\"><a href=\"#脚本\" class=\"headerlink\" title=\"脚本\"></a>脚本</h5><p>写一个执行 git 命令的脚本就搞定了。</p>\n<p>下面的脚本无论是在 bat 或 sh 脚本中都可以执行。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">cd build</span><br><span class=\"line\">git init</span><br><span class=\"line\">git checkout -b gh-pages</span><br><span class=\"line\">git add .y</span><br><span class=\"line\">git commit -am &quot;Update&quot;</span><br><span class=\"line\">git push git@github.com:zkep/xxx gh-pages --force&quot;</span><br></pre></td></tr></table></figure>\n","categories":["gitbook"],"tags":["gitbook"]},{"title":"hexo搭建github博客","url":"/docs/hexo.html","content":"<h3 id=\"使用github-pages服务搭建博客\"><a href=\"#使用github-pages服务搭建博客\" class=\"headerlink\" title=\"使用github pages服务搭建博客\"></a>使用github pages服务搭建博客</h3><pre><code>全是静态文件，访问速度快；\n免费方便，不用花一分钱就可以搭建一个自由的个人博客，不需要服务器不需要后台；\n可以随意绑定自己的域名，不仔细看的话根本看不出来你的网站是基于github的；\n数据绝对安全，基于github的版本管理，想恢复到哪个历史版本都行；\n博客内容可以轻松打包、转移、发布到其它平台；\n等等；\n</code></pre>\n<span id=\"more\"></span>\n\n<h4 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h4><p>在开始一切之前，你必须已经：<br>有一个<a class=\"link\"   href=\"https://github.com/\" >github<i class=\"fas fa-external-link-alt\"></i></a>账号，没有的话去注册一个；<br>安装了node.js、npm，并了解相关基础知识；</p>\n<h4 id=\"搭建github博客\"><a href=\"#搭建github博客\" class=\"headerlink\" title=\"搭建github博客\"></a>搭建github博客</h4><h5 id=\"创建仓库\"><a href=\"#创建仓库\" class=\"headerlink\" title=\"创建仓库\"></a>创建仓库</h5><p>新建一个名为你的用户名.github.io的仓库，比如说，如果你的github用户名是test，那么你就新建test.github.io的仓库（必须是你的用户名，其它名称无效），将来你的网站访问地址就是 <a class=\"link\"   href=\"http://test.github.io/\" >http://test.github.io<i class=\"fas fa-external-link-alt\"></i></a> 了，是不是很方便？<br>由此可见，每一个github账户最多只能创建一个这样可以直接使用域名访问的仓库。<br>几个注意的地方：<br>注册的邮箱一定要验证，否则不会成功；<br>仓库名字必须是：username.github.io，其中username是你的用户名；<br>仓库创建成功不会立即生效，需要过一段时间，大概10-30分钟，或者更久，我的等了半个小时才生效；<br>创建成功后，默认会在你这个仓库里生成一些示例页面，以后你的网站所有代码都是放在这个仓库里啦。</p>\n<h5 id=\"绑定域名\"><a href=\"#绑定域名\" class=\"headerlink\" title=\"绑定域名\"></a>绑定域名</h5><p>当然，你不绑定域名肯定也是可以的，就用默认的 xxx.github.io 来访问，如果你想更个性一点，想拥有一个属于自己的域名，那也是OK的。</p>\n<p>首先你要注册一个域名，域名注册以前总是推荐去godaddy，现在觉得其实国内的阿里云也挺不错的，价格也不贵，毕竟是大公司，放心！</p>\n<p>绑定域名分2种情况：带www和不带www的。</p>\n<p>域名配置最常见有2种方式，CNAME和A记录，CNAME填写域名，A记录填写IP，由于不带www方式只能采用A记录，所以必须先ping一下你的用户名.github.io的IP，然后到你的域名DNS设置页，将A记录指向你ping出来的IP，将CNAME指向你的用户名.github.io，这样可以保证无论是否添加www都可以访问</p>\n<h5 id=\"配置SSH-key\"><a href=\"#配置SSH-key\" class=\"headerlink\" title=\"配置SSH key\"></a>配置SSH key</h5><p>为什么要配置这个呢？因为你提交代码肯定要拥有你的github权限才可以，但是直接使用用户名和密码太不安全了，所以我们使用ssh key来解决本地和服务器的连接问题。</p>\n<p>用git bash执行如下命令：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~/. ssh <span class=\"comment\">#检查本机已存在的ssh密钥</span></span><br></pre></td></tr></table></figure>\n\n<p>如果提示：No such file or directory 说明你是第一次使用git。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -C <span class=\"string\">&quot;邮件地址&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>然后连续3次回车，最终会生成一个文件在用户目录下，打开用户目录，找到.ssh\\id_rsa.pub文件，记事本打开并复制里面的内容，打开你的github主页，进入个人设置 -&gt; SSH and GPG keys -&gt; New SSH key：</p>\n<p>将刚复制的内容粘贴到key那里，title随便填，保存。</p>\n<h5 id=\"测试是否成功\"><a href=\"#测试是否成功\" class=\"headerlink\" title=\"测试是否成功\"></a>测试是否成功</h5><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">ssh -T git@github.com <span class=\"comment\"># 注意邮箱地址不用改</span></span><br></pre></td></tr></table></figure>\n\n<p>如果提示Are you sure you want to continue connecting (yes&#x2F;no)?，输入yes，然后会看到：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">Hi xxx! You’ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure>\n\n<p>看到这个信息说明SSH已配置成功！<br>此时你还需要配置：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">git config --global user.name <span class=\"string\">&quot;zkep&quot;</span>// 你的github用户名，非昵称</span><br><span class=\"line\">git config --global user.email  <span class=\"string\">&quot;xxx@qq.com&quot;</span>// 填写你的github注册邮箱</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"使用hexo写博客\"><a href=\"#使用hexo写博客\" class=\"headerlink\" title=\"使用hexo写博客\"></a>使用hexo写博客</h4><h5 id=\"hexo简介\"><a href=\"#hexo简介\" class=\"headerlink\" title=\"hexo简介\"></a>hexo简介</h5><p><a class=\"link\"   href=\"https://hexo.io/zh-cn/\" >Hexo<i class=\"fas fa-external-link-alt\"></i></a>是一个简单、快速、强大的基于 Github Pages 的博客发布工具，支持Markdown格式，有众多优秀插件和主题。</p>\n<h5 id=\"原理\"><a href=\"#原理\" class=\"headerlink\" title=\"原理\"></a>原理</h5><p>由于github pages存放的都是静态文件，博客存放的不只是文章内容，还有文章列表、分类、标签、翻页等动态内容，假如每次写完一篇文章都要手动更新博文目录和相关链接信息，相信谁都会疯掉，所以hexo所做的就是将这些md文件都放在本地，每次写完文章后调用写好的命令来批量完成相关页面的生成，然后再将有改动的页面提交到github。</p>\n<h5 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h5><p>安装之前先来说几个注意事项：</p>\n<p>很多命令既可以用Windows的cmd来完成，也可以使用git bash来完成，但是部分命令会有一些问题，为避免不必要的问题，建议全部使用git bash来执行；<br>hexo不同版本差别比较大，网上很多文章的配置信息都是基于2.x的，所以注意不要被误导；<br>hexo有2种_config.yml文件，一个是根目录下的全局的_config.yml，一个是各个theme下的；</p>\n<h5 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h5><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install -g hexo  <span class=\"comment\"># 全局安装</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /home/test.github.io   <span class=\"comment\"># 在指定目录下新建项目文件夹</span></span><br><span class=\"line\">hexo init</span><br><span class=\"line\">hexo g <span class=\"comment\"># 生成</span></span><br><span class=\"line\">hexo s <span class=\"comment\"># 启动服务</span></span><br></pre></td></tr></table></figure>\n\n<p>hexo s是开启本地预览服务，打开浏览器访问 <a class=\"link\"   href=\"http://localhost:4000/\" >http://localhost:4000<i class=\"fas fa-external-link-alt\"></i></a> 即可看到内容，很多人会碰到浏览器一直在转圈但是就是加载不出来的问题，一般情况下是因为端口占用的缘故</p>\n<h5 id=\"修改主题\"><a href=\"#修改主题\" class=\"headerlink\" title=\"修改主题\"></a>修改主题</h5><p>既然默认主题很丑，那我们别的不做，首先来替换一个好看点的主题。这是 <a class=\"link\"   href=\"https://hexo.io/themes/\" >官方主题<i class=\"fas fa-external-link-alt\"></i></a>。</p>\n<p>个人比较喜欢的2个主题：<a class=\"link\"   href=\"https://github.com/pinggod/hexo-theme-jekyll\" >hexo-theme-jekyll<i class=\"fas fa-external-link-alt\"></i></a> 和 <a class=\"link\"   href=\"https://github.com/litten/hexo-theme-yilia\" >hexo-theme-yilia<i class=\"fas fa-external-link-alt\"></i></a>。</p>\n<p>首先下载这个主题,放到项目的themes目录</p>\n<p>修改_config.yml中的theme: landscape改为theme: yilia，然后重新执行hexo g来重新生成。</p>\n<p>如果出现一些莫名其妙的问题，可以先执行hexo clean来清理一下public的内容，然后再来重新生成和发布。</p>\n<h5 id=\"上传之前\"><a href=\"#上传之前\" class=\"headerlink\" title=\"上传之前\"></a>上传之前</h5><p>在上传代码到github之前，一定要记得先把你以前所有代码下载下来（虽然github有版本管理，但备份一下总是好的），因为从hexo提交代码时会把你以前的所有代码都删掉。</p>\n<h5 id=\"上传到github\"><a href=\"#上传到github\" class=\"headerlink\" title=\"上传到github\"></a>上传到github</h5><p>如果你一切都配置好了，发布上传很容易，一句hexo d就搞定，当然关键还是你要把所有东西配置好。</p>\n<p>首先，ssh key肯定要配置好。</p>\n<p>其次，配置_config.yml中有关deploy的部分：</p>\n<p>正确写法：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">deploy:</span><br><span class=\"line\">  <span class=\"built_in\">type</span>: git</span><br><span class=\"line\">  repository: git@github.com:xxx/xxx.github.io.git</span><br><span class=\"line\">  branch: master</span><br></pre></td></tr></table></figure>\n\n<p>此时直接执行hexo d的话一般会报如下错误：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">Deployer not found: github 或者 Deployer not found: git</span><br></pre></td></tr></table></figure>\n\n<p>原因是还需要安装一个插件：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"常用hexo命令\"><a href=\"#常用hexo命令\" class=\"headerlink\" title=\"常用hexo命令\"></a>常用hexo命令</h5><p>常见命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo new <span class=\"string\">&quot;postName&quot;</span> <span class=\"comment\">#新建文章</span></span><br><span class=\"line\">hexo new page <span class=\"string\">&quot;pageName&quot;</span> <span class=\"comment\">#新建页面</span></span><br><span class=\"line\">hexo generate <span class=\"comment\">#生成静态页面至public目录</span></span><br><span class=\"line\">hexo server <span class=\"comment\">#开启预览访问端口（默认端口4000，&#x27;ctrl + c&#x27;关闭server）</span></span><br><span class=\"line\">hexo deploy <span class=\"comment\">#部署到GitHub</span></span><br><span class=\"line\">hexo <span class=\"built_in\">help</span>  <span class=\"comment\"># 查看帮助</span></span><br><span class=\"line\">hexo version  <span class=\"comment\">#查看Hexo的版本</span></span><br></pre></td></tr></table></figure>\n\n<p>缩写：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo n == hexo new</span><br><span class=\"line\">hexo g == hexo generate</span><br><span class=\"line\">hexo s == hexo server</span><br><span class=\"line\">hexo d == hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>组合命令：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo s -g <span class=\"comment\">#生成并本地预览</span></span><br><span class=\"line\">hexo d -g <span class=\"comment\">#生成并上传</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"config-yml\"><a href=\"#config-yml\" class=\"headerlink\" title=\"_config.yml\"></a>_config.yml</h5><p>这里面都是一些全局配置，每个参数的意思都比较简单明了，所以就不作详细介绍了。</p>\n<p>需要特别注意的地方是，冒号后面必须有一个空格，否则可能会出问题。</p>\n<h5 id=\"写博客\"><a href=\"#写博客\" class=\"headerlink\" title=\"写博客\"></a>写博客</h5><p>定位到我们的hexo根目录，执行命令：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo new <span class=\"string\">&#x27;my-first-blog&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>hexo会帮我们在_posts下生成相关md文件：</p>\n<p>我们只需要打开这个文件就可以开始写博客了，默认生成如下内容：<br>一般完整格式如下：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title<span class=\"punctuation\">:</span> postName #文章页面上的显示名称，一般是中文</span><br><span class=\"line\">date<span class=\"punctuation\">:</span> <span class=\"number\">2013</span><span class=\"number\">-12</span><span class=\"number\">-02</span> <span class=\"number\">15</span><span class=\"punctuation\">:</span><span class=\"number\">30</span><span class=\"punctuation\">:</span><span class=\"number\">16</span> #文章生成时间，一般不改，当然也可以任意修改</span><br><span class=\"line\">categories<span class=\"punctuation\">:</span> 默认分类 #分类</span><br><span class=\"line\">tags<span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span>tag1<span class=\"punctuation\">,</span>tag2<span class=\"punctuation\">,</span>tag3<span class=\"punctuation\">]</span> #文章标签，可空，多标签请用格式，注意<span class=\"punctuation\">:</span>后面有个空格</span><br><span class=\"line\">description<span class=\"punctuation\">:</span> 附加一段文章摘要，字数最好在<span class=\"number\">140</span>字以内，会出现在meta的description里面</span><br><span class=\"line\">---</span><br><span class=\"line\"></span><br><span class=\"line\">以下是正文</span><br></pre></td></tr></table></figure>\n\n<p>那么hexo new page ‘postName’命令和hexo new ‘postName’有什么区别呢？<br>最终部署时生成：hexo\\public\\my-second-blog\\index.html，但是它不会作为文章出现在博文目录。</p>\n<h5 id=\"如何让博文列表不显示全部内容\"><a href=\"#如何让博文列表不显示全部内容\" class=\"headerlink\" title=\"如何让博文列表不显示全部内容\"></a>如何让博文列表不显示全部内容</h5><p>默认情况下，生成的博文目录会显示全部的文章内容，如何设置文章摘要的长度呢？</p>\n<p>答案是在合适的位置加上<code>&lt;!--more--&gt;</code>即可，例如：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"># 前言</span><br><span class=\"line\"></span><br><span class=\"line\">使用github pages服务搭建博客的好处有：</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">1.</span> 全是静态文件，访问速度快；</span><br><span class=\"line\"><span class=\"number\">2.</span> 免费方便，不用花一分钱就可以搭建一个自由的个人博客，不需要服务器不需要后台；</span><br><span class=\"line\"><span class=\"number\">3.</span> 可以随意绑定自己的域名，不仔细看的话根本看不出来你的网站是基于github的；</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!--more--&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">4.</span> 数据绝对安全，基于github的版本管理，想恢复到哪个历史版本都行；</span><br><span class=\"line\"><span class=\"number\">5.</span> 博客内容可以轻松打包、转移、发布到其它平台；</span><br><span class=\"line\"><span class=\"number\">6.</span> 等等；</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Hexo安装mermaid-diagrams\"><a href=\"#Hexo安装mermaid-diagrams\" class=\"headerlink\" title=\"Hexo安装mermaid diagrams\"></a>Hexo安装<a class=\"link\"   href=\"https://mermaid-js.github.io/mermaid/#/\" >mermaid diagrams<i class=\"fas fa-external-link-alt\"></i></a></h3><h4 id=\"安装插件\"><a href=\"#安装插件\" class=\"headerlink\" title=\"安装插件\"></a>安装插件</h4><figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install hexo-filter-mermaid-diagrams</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"修改配置文件\"><a href=\"#修改配置文件\" class=\"headerlink\" title=\"修改配置文件\"></a>修改配置文件</h4><p>在hexo的_config.yml文件（根目录的并非主题的）中，添加以下内容：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># mermaid chart</span></span><br><span class=\"line\"><span class=\"attr\">mermaid:</span> <span class=\"comment\">## mermaid url https://github.com/knsv/mermaid</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span>  <span class=\"comment\"># default true</span></span><br><span class=\"line\">  <span class=\"attr\">version:</span> <span class=\"string\">&quot;7.1.2&quot;</span> <span class=\"comment\"># default v7.1.2</span></span><br><span class=\"line\">  <span class=\"attr\">options:</span>  <span class=\"comment\"># find more api options from https://github.com/knsv/mermaid/blob/master/src/mermaidAPI.js</span></span><br><span class=\"line\">    <span class=\"comment\">#startOnload: true  // default true</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"js文件修改\"><a href=\"#js文件修改\" class=\"headerlink\" title=\"js文件修改\"></a>js文件修改</h4><ol>\n<li>修改位置 （fluid主题为例）</li>\n</ol>\n<blockquote>\n<p>themes&#x2F;fluid&#x2F;layout&#x2F;_partials&#x2F;footer.ejs</p>\n</blockquote>\n<ol start=\"2\">\n<li>根据footer的格式不同，添加的内容不同。<br>格式有after_footer.pug , after-footer.ejs ,footer.swig等。<br>以下是在next的footer.swig添加的内容。其他格式参考<a class=\"link\"   href=\"https://github.com/webappdevelp/hexo-filter-mermaid-diagrams\" >github: hexo-filter-mermaid-diagrams<i class=\"fas fa-external-link-alt\"></i></a></li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">footer</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;text-center mt-5 py-3&quot;</span>&gt;</span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">footer</span>&gt;</span></span><br><span class=\"line\">&lt;% if (theme.mermaid.enable) &#123; %&gt;</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;https://unpkg.com/mermaid@&lt;%= theme.mermaid.version %&gt;/dist/mermaid.min.js&#x27;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">window</span>.<span class=\"property\">mermaid</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      mermaid.<span class=\"title function_\">initialize</span>(&#123;<span class=\"attr\">theme</span>: <span class=\"string\">&#x27;forest&#x27;</span>&#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"hexo博客链接持久化\"><a href=\"#hexo博客链接持久化\" class=\"headerlink\" title=\"hexo博客链接持久化\"></a>hexo博客链接持久化</h3><ol>\n<li>安装hexo-abbrlink插件</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>配置</li>\n</ol>\n<p>在根目录下的配置_config.yml里的配置:permalink</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">permalink:</span> <span class=\"string\">:abbrlink.html</span></span><br></pre></td></tr></table></figure>\n\n<p>生成之后的效果是这样的了<a class=\"link\"   href=\"http://url/abbrlink.html\" >http://url/abbrlink.html<i class=\"fas fa-external-link-alt\"></i></a></p>\n<ol start=\"3\">\n<li>说明</li>\n</ol>\n<blockquote>\n<p>如果文章头中存在abbrlink，则不会做任何处理。<br>如查文章头中不存在abbrlink，则会et title根据配置的alg算法来成生abbrlink字符串。<br>当然，你也可以自己手动为特殊的文章写链接地址。只要在文章中配置好abbrlink就可以了</p>\n</blockquote>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">go-zero</span></span><br><span class=\"line\"><span class=\"attr\">abbrlink:</span> <span class=\"string\">go-zero</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">2021-03-28 13:42:22</span></span><br><span class=\"line\"><span class=\"attr\">tags:</span> [<span class=\"string\">go</span>,<span class=\"string\">go-zero</span>]</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"将本地博客hexo静态页面部署github\"><a href=\"#将本地博客hexo静态页面部署github\" class=\"headerlink\" title=\"将本地博客hexo静态页面部署github\"></a>将本地博客hexo静态页面部署github</h3><blockquote>\n<p>基本做法是git上新建两个仓库 ，一个私有仓库存放markdown这些源代码（暂时定为blog吧），一个公开访问仓库的username.github.io存放生成的页面</p>\n</blockquote>\n<ol>\n<li><p>在Github的 blog 仓库上新建一个xxx分支，并切换到该分支，并在该仓库 -&gt;Settings-&gt;Branches-&gt;Default branch中将默认分支设为xxx，save保存；然后将该仓库克隆到本地，进入该blog文件目录。</p>\n</li>\n<li><p>将本地博客的部署文件拷贝进blog文件目录<br>  如题，先将本地博客的部署文件（Hexo目录下的全部文件）全部拷贝进blog文件目录中去。<br>  接下来，进入blog文件目录下，将该目录下的全部文件提交到xxx分支，提交之前需注意：</p>\n</li>\n</ol>\n<ul>\n<li>将themes目录以内中的主题的.git目录删除（如果有），因为一个git仓库中不能包含另一个git仓库，提交主题文件夹会失败。</li>\n<li>可能有人会问，删除了themes目录中的.git不就不能git pull更新主题了吗，很简单，需要更新主题时在另一个地方git clone下来该主题的最新版本，然后将内容拷到当前主题目录即可</li>\n<li>提交hexo分支，执行git add .、git commit -m ‘back up hexo files’（引号内容可改）、git push即可将博客的hexo部署环境提交到GitHub个人仓库的xxx分支。</li>\n</ul>\n<blockquote>\n<p>配置_config.yml的deploy</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Deployment</span></span><br><span class=\"line\"><span class=\"comment\">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class=\"line\">deploy:</span><br><span class=\"line\">  <span class=\"built_in\">type</span>: git</span><br><span class=\"line\">  repo: https://github.com/zkep/zkep.github.io.git</span><br><span class=\"line\">  branch: master</span><br><span class=\"line\">  message: </span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>这样blog私有仓库git的正常的commit，push都会提交到私有仓库。hexo d 的命令则会把生成的.deploy_git目录里的静态页面提交到username.github.io仓库</p>\n</blockquote>\n<h3 id=\"node版本太高导致的hexo-d-命令生成了空白页面解决方法\"><a href=\"#node版本太高导致的hexo-d-命令生成了空白页面解决方法\" class=\"headerlink\" title=\"node版本太高导致的hexo d 命令生成了空白页面解决方法\"></a>node版本太高导致的hexo d 命令生成了空白页面解决方法</h3><blockquote>\n<p> hexo-deployer-git 插件对node版本比较挑剔</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看本地node版本</span></span><br><span class=\"line\">node -v</span><br><span class=\"line\"><span class=\"comment\"># 如果版本大于v12.16.2，建议降低版本到v12.16.2试试</span></span><br><span class=\"line\"><span class=\"comment\"># 开始下n来管理node的版本。</span></span><br><span class=\"line\">sudo npm i -g n</span><br><span class=\"line\"><span class=\"comment\"># 替换node版本到v12.16.2</span></span><br><span class=\"line\">sudo n v12.16.2</span><br><span class=\"line\"><span class=\"comment\"># 再次在hexo代码目录执行</span></span><br><span class=\"line\">hexo clean</span><br><span class=\"line\">hexo g</span><br><span class=\"line\"><span class=\"comment\"># 再次查看生成的public文件夹中index.html，就正常了</span></span><br></pre></td></tr></table></figure>\n","categories":["hexo"],"tags":["hexo"]},{"title":"单例模式","url":"/go/design/singleton.html","content":"<h2 id=\"单例模式-Singleton-Design-Pattern\"><a href=\"#单例模式-Singleton-Design-Pattern\" class=\"headerlink\" title=\"单例模式(Singleton Design Pattern)\"></a>单例模式(Singleton Design Pattern)</h2><p>单例模式采用了 饿汉式 和 懒汉式 两种实现，个人其实更倾向于饿汉式的实现，简单，并且可以将问题及早暴露，懒汉式虽然支持延迟加载，但是这只是把冷启动时间放到了第一次使用的时候，并没有本质上解决问题，并且为了实现懒汉式还不可避免的需要加锁</p>\n<span id=\"more\"></span>\n\n<blockquote>\n<p>饿汉模式和懒汉模式不能仅从性能比，懒汉经过第一次 Do 操作之后跟饿汉并无区别，但是懒汉模式避免了 init 这种侵入式代码，对 go test 是非常友好的</p>\n</blockquote>\n<h3 id=\"饿汉式\"><a href=\"#饿汉式\" class=\"headerlink\" title=\"饿汉式\"></a>饿汉式</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Singleton 饿汉式单例</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Singleton <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> singleton *Singleton</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">init</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">   singleton = &amp;Singleton&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// GetInstance 获取实例</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">GetInstance</span><span class=\"params\">()</span></span> *Singleton &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> singleton</span><br><span class=\"line\">&#125;  </span><br></pre></td></tr></table></figure>\n\n<h4 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h4><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestGetInstance</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">   assert.Equal(t, GetInstance(), GetInstance())</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">BenchmarkGetInstanceParallel</span><span class=\"params\">(b *testing.B)</span></span> &#123;</span><br><span class=\"line\">    b.RunParallel(<span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(pb *testing.PB)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> pb.Next() &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> GetInstance() != GetInstance() &#123;</span><br><span class=\"line\">                b.Errorf(<span class=\"string\">&quot;test fail&quot;</span>)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"懒汉式（双重检测）\"><a href=\"#懒汉式（双重检测）\" class=\"headerlink\" title=\"懒汉式（双重检测）\"></a>懒汉式（双重检测）</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;sync&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> (</span><br><span class=\"line\">    lazySingleton *Singleton</span><br><span class=\"line\">    once          = &amp;sync.Once&#123;&#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">GetLazyInstance</span><span class=\"params\">()</span></span> *Singleton &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> lazySingleton == <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">        once.Do(<span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">        lazySingleton = &amp;Singleton&#123;&#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> lazySingleton</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"单元测试-1\"><a href=\"#单元测试-1\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h4><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestGetLazyInstance</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    assert.Equal(t, GetLazyInstance(), GetLazyInstance())</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">BenchmarkGetLazyInstanceParallel</span><span class=\"params\">(b *testing.B)</span></span> &#123;</span><br><span class=\"line\">    b.RunParallel(<span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(pb *testing.PB)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> pb.Next() &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> GetLazyInstance() != GetLazyInstance() &#123;</span><br><span class=\"line\">                b.Errorf(<span class=\"string\">&quot;test fail&quot;</span>)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","categories":["go"],"tags":["go"]},{"title":"工厂模式","url":"/go/design/factory.html","content":"<h3 id=\"简单工厂\"><a href=\"#简单工厂\" class=\"headerlink\" title=\"简单工厂\"></a>简单工厂</h3><p>由于 Go 本身是没有构造函数的，一般而言我们采用 NewName 的方式创建对象&#x2F;接口，当它返回的是接口的时候，其实就是简单工厂模式</p>\n<span id=\"more\"></span>\n\n<figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 简单工厂</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> IRuleConfigParser <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">     Pasre(data []<span class=\"type\">byte</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// jsonRuleConfigParser</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> jsonRuleConfigParser <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(J jsonRuleConfigParser)</span></span> Pasre(data []<span class=\"type\">byte</span>) &#123;</span><br><span class=\"line\">     <span class=\"built_in\">panic</span>(<span class=\"string\">&quot;implement me&quot;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// yamlRuleConfigParser</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> yamlRuleConfigParser <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(Y yamlRuleConfigParser)</span></span> Pasre(data []<span class=\"type\">byte</span>) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">panic</span>(<span class=\"string\">&quot;implement me&quot;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewIRuleConfigParser</span><span class=\"params\">(t <span class=\"type\">string</span>)</span></span> IRuleConfigParser&#123;</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> t &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&quot;json&quot;</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> jsonRuleConfigParser&#123;&#125;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&quot;yaml&quot;</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> yamlRuleConfigParser&#123;&#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h4><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;reflect&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestNewIRuleConfigParser</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\"> <span class=\"keyword\">type</span> args <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">     t <span class=\"type\">string</span></span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> tests := []<span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">        name <span class=\"type\">string</span></span><br><span class=\"line\">        args args</span><br><span class=\"line\">        want IRuleConfigParser</span><br><span class=\"line\">     &#125;&#123;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            name: <span class=\"string\">&quot;json&quot;</span>,</span><br><span class=\"line\">            args: args&#123;t: <span class=\"string\">&quot;json&quot;</span>&#125;,</span><br><span class=\"line\">            want: jsonRuleConfigParser&#123;&#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            name: <span class=\"string\">&quot;yaml&quot;</span>,</span><br><span class=\"line\">            args: args&#123;t: <span class=\"string\">&quot;yaml&quot;</span>&#125;,</span><br><span class=\"line\">            want: yamlRuleConfigParser&#123;&#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _, tt := <span class=\"keyword\">range</span> tests &#123;</span><br><span class=\"line\">        t.Run(tt.name, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> got := NewIRuleConfigParser(tt.args.t); !reflect.DeepEqual(got, tt.want) &#123;</span><br><span class=\"line\">                t.Errorf(<span class=\"string\">&quot;NewIRuleConfigParser() = %v, want %v&quot;</span>, got, tt.want)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"工厂方法\"><a href=\"#工厂方法\" class=\"headerlink\" title=\"工厂方法\"></a>工厂方法</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 工厂方法</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> IRuleConfigParserFactory <span class=\"keyword\">interface</span>&#123;</span><br><span class=\"line\">    CreateParser() IRuleConfigParser</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> jsonRuleConfigParserFactory <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(J jsonRuleConfigParserFactory)</span></span> CreateParser() IRuleConfigParser&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> jsonRuleConfigParser&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> yamlRuleConfigParserFactory <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(Y yamlRuleConfigParserFactory)</span></span> CreateParser() IRuleConfigParser&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> yamlRuleConfigParser&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewIRuleConfigParserFactory</span><span class=\"params\">(t <span class=\"type\">string</span>)</span></span> IRuleConfigParserFactory&#123;</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> t &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&quot;json&quot;</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> jsonRuleConfigParserFactory&#123;&#125;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">&quot;yaml&quot;</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> yamlRuleConfigParserFactory&#123;&#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"单元测试-1\"><a href=\"#单元测试-1\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h4><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestNewIRuleConfigParserFactory</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">type</span> args <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">        t <span class=\"type\">string</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> tests := []<span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">        name <span class=\"type\">string</span></span><br><span class=\"line\">        args args</span><br><span class=\"line\">        want IRuleConfigParserFactory</span><br><span class=\"line\">     &#125;&#123;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            name: <span class=\"string\">&quot;json&quot;</span>,</span><br><span class=\"line\">            args: args&#123;t: <span class=\"string\">&quot;json&quot;</span>&#125;,</span><br><span class=\"line\">            want: jsonRuleConfigParserFactory&#123;&#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            name: <span class=\"string\">&quot;yaml&quot;</span>,</span><br><span class=\"line\">            args: args&#123;t: <span class=\"string\">&quot;yaml&quot;</span>&#125;,</span><br><span class=\"line\">            want: yamlRuleConfigParserFactory&#123;&#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> _, tt := <span class=\"keyword\">range</span> tests &#123;</span><br><span class=\"line\">        t.Run(tt.name, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> got := NewIRuleConfigParserFactory(tt.args.t); !reflect.DeepEqual(got, tt.want) &#123;</span><br><span class=\"line\">                t.Errorf(<span class=\"string\">&quot;NewIRuleConfigParserFactory() = %v, want %v&quot;</span>, got, tt.want)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"抽象工厂\"><a href=\"#抽象工厂\" class=\"headerlink\" title=\"抽象工厂\"></a>抽象工厂</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> IRuleConfigParser <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">     Pasre(data []<span class=\"type\">byte</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// jsonRuleConfigParser</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> jsonRuleConfigParser <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(J jsonRuleConfigParser)</span></span> Pasre(data []<span class=\"type\">byte</span>) &#123;</span><br><span class=\"line\">     <span class=\"built_in\">panic</span>(<span class=\"string\">&quot;implement me&quot;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> ISystemConfigParser <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    ParseSystem(data []<span class=\"type\">byte</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> jsonSystemConfigParser <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(j jsonSystemConfigParser)</span></span> ParseSystem(data []<span class=\"type\">byte</span>) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">panic</span>(<span class=\"string\">&quot;implement me&quot;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> IConfigParserFactory <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    CreateRuleParser() IRuleConfigParser</span><br><span class=\"line\">    CreateSystemParser() ISystemConfigParser</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> jsonConfigParserFactory <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(J jsonConfigParserFactory)</span></span> CreateRuleParser() IRuleConfigParser &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> jsonRuleConfigParser&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(J jsonConfigParserFactory)</span></span> CreateSystemParser() ISystemConfigParser &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> jsonSystemConfigParser&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"单元测试-2\"><a href=\"#单元测试-2\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h4><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">Test_jsonConfigParserFactory_CreateRuleParser</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    tests := []<span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">            name <span class=\"type\">string</span></span><br><span class=\"line\">            want IRuleConfigParser</span><br><span class=\"line\">        &#125;&#123;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            name: <span class=\"string\">&quot;json&quot;</span>,</span><br><span class=\"line\">            want: jsonRuleConfigParser&#123;&#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _, tt := <span class=\"keyword\">range</span> tests &#123;</span><br><span class=\"line\">        t.Run(tt.name, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">            j := jsonConfigParserFactory&#123;&#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> got := j.CreateRuleParser(); !reflect.DeepEqual(got, tt.want) &#123;</span><br><span class=\"line\">                t.Errorf(<span class=\"string\">&quot;CreateRuleParser() = %v, want %v&quot;</span>, got, tt.want)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">Test_jsonConfigParserFactory_CreateSystemParser</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    tests := []<span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">            name <span class=\"type\">string</span></span><br><span class=\"line\">            want ISystemConfigParser</span><br><span class=\"line\">        &#125;&#123;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            name: <span class=\"string\">&quot;json&quot;</span>,</span><br><span class=\"line\">            want: jsonSystemConfigParser&#123;&#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _, tt := <span class=\"keyword\">range</span> tests &#123;</span><br><span class=\"line\">        t.Run(tt.name, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">            j := jsonConfigParserFactory&#123;&#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> got := j.CreateSystemParser(); !reflect.DeepEqual(got, tt.want) &#123;</span><br><span class=\"line\">                t.Errorf(<span class=\"string\">&quot;CreateSystemParser() = %v, want %v&quot;</span>, got, tt.want)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"DI-容器\"><a href=\"#DI-容器\" class=\"headerlink\" title=\"DI 容器\"></a>DI 容器</h3><p>golang 现有的依赖注入框架:</p>\n<ul>\n<li>使用反射实现的: <a class=\"link\"   href=\"https://github.com/uber-go/dig\" >https://github.com/uber-go/dig<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li>使用 generate 实现的: <a class=\"link\"   href=\"https://github.com/google/wire\" >https://github.com/google/wire<i class=\"fas fa-external-link-alt\"></i></a><br>下文将通过反射实现一个类似 dig 简单的 demo，在课程里面的例子是读取配置文件，然后进行生成，下面提供是通过 provider 进行构建依赖关系。</li>\n</ul>\n<figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Container DI 容器</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Container <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 假设一种类型只能有一个 providor 提供</span></span><br><span class=\"line\">    providers <span class=\"keyword\">map</span>[reflect.Type]provider</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//  缓存以生成的对象</span></span><br><span class=\"line\">    results <span class=\"keyword\">map</span>[reflect.Type]reflect.Value</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> provider <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    value  reflect.Value</span><br><span class=\"line\">    params []reflect.Type</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 创建容器</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">New</span><span class=\"params\">()</span></span> *Container &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &amp;Container&#123;</span><br><span class=\"line\">        providers: <span class=\"keyword\">map</span>[reflect.Type]provider&#123;&#125;,</span><br><span class=\"line\">        results:    <span class=\"keyword\">map</span>[reflect.Type]reflect.Value&#123;&#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">isError</span><span class=\"params\">(t reflect.Type)</span></span> <span class=\"type\">bool</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> t.Kind() != reflect.Interface &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> t.Implements(reflect.TypeOf(reflect.TypeOf((*<span class=\"type\">error</span>)(<span class=\"literal\">nil</span>)).Elem()))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Provide 对象提供者，需要传入一个对象的工厂方法，后续会用于对象的创建</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(c *Container)</span></span> Provide(constructor <span class=\"keyword\">interface</span>&#123;&#125;) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">    v := reflect.ValueOf(constructor)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> v.Kind() != reflect.Func &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> fmt.Errorf(<span class=\"string\">&quot;constructor must be a func&quot;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    vt := v.Type()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 获取参数</span></span><br><span class=\"line\">    params := <span class=\"built_in\">make</span>([]reflect.Type, vt.NumIn())</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i := <span class=\"number\">0</span>; i &lt; vt.NumIn(); i++ &#123;</span><br><span class=\"line\">         params[i] = vt.In(i)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 获取返回值</span></span><br><span class=\"line\">    results := <span class=\"built_in\">make</span>([]reflect.Type, vt.NumOut())</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i := <span class=\"number\">0</span>; i &lt; vt.NumOut(); i++ &#123;</span><br><span class=\"line\">        results[i] = vt.Out(i)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    provider := provider&#123; value: v, params: params&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 保存不同类型的provider</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _, result := <span class=\"keyword\">range</span> results &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 判断返回值error</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> isError(result) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> _, ok := c.providers[result]; ok &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> fmt.Errorf(<span class=\"string\">&quot;%s had a provider&quot;</span>, result)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        c.providers[result] = provider</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Invoke 函数执行入口</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(c *Container)</span></span> Invoke(function <span class=\"keyword\">interface</span>&#123;&#125;) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">    v := reflect.ValueOf(function)</span><br><span class=\"line\">    <span class=\"comment\">// 仅支持函数 provider</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> v.Kind() != reflect.Func &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> fmt.Errorf(<span class=\"string\">&quot;constructor must be a func&quot;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    vt := v.Type()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> err <span class=\"type\">error</span></span><br><span class=\"line\">    params:= <span class=\"built_in\">make</span>([]reflect.Value,vt.NumIn())</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i:=<span class=\"number\">0</span>;i&lt;vt.NumIn();i++&#123;</span><br><span class=\"line\">        params[i], err = c.buildParam(vt.In(i))</span><br><span class=\"line\">        <span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">             <span class=\"keyword\">return</span> err</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    v.Call(params)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// buildParam 构建参数</span></span><br><span class=\"line\"><span class=\"comment\">// 1. 从容器中获取 provider</span></span><br><span class=\"line\"><span class=\"comment\">// 2. 递归获取 provider 的参数值</span></span><br><span class=\"line\"><span class=\"comment\">// 3. 获取到参数之后执行函数</span></span><br><span class=\"line\"><span class=\"comment\">// 4. 将结果缓存并且返回结果</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(c *Container)</span></span> buildParam(param reflect.Type)(val reflect.Value, err <span class=\"type\">error</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> result, ok := c.results[param]; ok &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result, <span class=\"literal\">nil</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    provider, ok := c.providers[param]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> !ok &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> reflect.Value&#123;&#125;, fmt.Errorf(<span class=\"string\">&quot;can not found provider: %s&quot;</span>, param)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    params := <span class=\"built_in\">make</span>([]reflect.Value, <span class=\"built_in\">len</span>(provider.params))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, p := <span class=\"keyword\">range</span> provider.params &#123;</span><br><span class=\"line\">        params[i], err = c.buildParam(p)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    results := provider.value.Call(params)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _, result := <span class=\"keyword\">range</span> results &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 判断是否报错</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> isError(result.Type()) &amp;&amp; !result.IsNil() &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> reflect.Value&#123;&#125;, fmt.Errorf(<span class=\"string\">&quot;%s call err: %+v&quot;</span>, provider, result)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> !isError(result.Type()) &amp;&amp; !result.IsNil() &#123;</span><br><span class=\"line\">            c.results[result.Type()] = result</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> c.results[param], <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","categories":["go"],"tags":["go"]},{"title":"建造者模式","url":"/go/design/builder.html","content":"<blockquote>\n<p>其实在 Golang 中对于创建类参数比较多的对象的时候，我们常见的做法是必填参数直接传递，可选参数通过传递可变的方法进行创建。</p>\n</blockquote>\n<span id=\"more\"></span>\n\n<h3 id=\"建造者模式\"><a href=\"#建造者模式\" class=\"headerlink\" title=\"建造者模式\"></a>建造者模式</h3><p>  通过下面可以看到，使用 Go 编写建造者模式的代码其实会很长，这些是它的一个缺点，所以如果不是参数的校验逻辑很复杂的情况下一般我们在 Go 中不会采用这种方式，而会采用后面的另外一种方式</p>\n<h4 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h4><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;fmt&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> (</span><br><span class=\"line\">    defaultMaxTotal = <span class=\"number\">10</span></span><br><span class=\"line\">    defaultMaxIdle  = <span class=\"number\">9</span></span><br><span class=\"line\">    defaultMinIdle  = <span class=\"number\">1</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ResourcePoolConfig resource pool</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> ResourcePoolConfig <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    name     <span class=\"type\">string</span></span><br><span class=\"line\">    maxTotal <span class=\"type\">int</span></span><br><span class=\"line\">    maxIdle  <span class=\"type\">int</span></span><br><span class=\"line\">    minIdle  <span class=\"type\">int</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ResourcePoolConfigBuilder 用于构建 ResourcePoolConfig</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> ResourcePoolConfigBuilder <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    name     <span class=\"type\">string</span></span><br><span class=\"line\">    maxTotal <span class=\"type\">int</span></span><br><span class=\"line\">    maxIdle  <span class=\"type\">int</span></span><br><span class=\"line\">    minIdle  <span class=\"type\">int</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// SetName SetName</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(b *ResourcePoolConfigBuilder)</span></span> SetName(name <span class=\"type\">string</span>) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> name == <span class=\"string\">&quot;&quot;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> fmt.Errorf(<span class=\"string\">&quot;name can not be empty&quot;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    b.name = name</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// SetMinIdle SetMinIdle</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(b *ResourcePoolConfigBuilder)</span></span> SetMinIdle(minIdle <span class=\"type\">int</span>) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> minIdle &lt; <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> fmt.Errorf(<span class=\"string\">&quot;max tatal cannot &lt; 0, input: %d&quot;</span>, minIdle)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    b.minIdle = minIdle</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// SetMaxIdle SetMaxIdle</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(b *ResourcePoolConfigBuilder)</span></span> SetMaxIdle(maxIdle <span class=\"type\">int</span>) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> maxIdle &lt; <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> fmt.Errorf(<span class=\"string\">&quot;max tatal cannot &lt; 0, input: %d&quot;</span>, maxIdle)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    b.maxIdle = maxIdle</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// SetMaxTotal SetMaxTotal</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(b *ResourcePoolConfigBuilder)</span></span> SetMaxTotal(maxTotal <span class=\"type\">int</span>) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> maxTotal &lt;= <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> fmt.Errorf(<span class=\"string\">&quot;max tatal cannot &lt;= 0, input: %d&quot;</span>, maxTotal)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    b.maxTotal = maxTotal</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Build Build</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(b *ResourcePoolConfigBuilder)</span></span> Build() (*ResourcePoolConfig, <span class=\"type\">error</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> b.name == <span class=\"string\">&quot;&quot;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">nil</span>, fmt.Errorf(<span class=\"string\">&quot;name can not be empty&quot;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 设置默认值</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> b.minIdle == <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">        b.minIdle = defaultMinIdle</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> b.maxIdle == <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">        b.maxIdle = defaultMaxIdle</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> b.maxTotal == <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">        b.maxTotal = defaultMaxTotal</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> b.maxTotal &lt; b.maxIdle &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">nil</span>, fmt.Errorf(<span class=\"string\">&quot;max total(%d) cannot &lt; max idle(%d)&quot;</span>, b.maxTotal, b.maxIdle)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> b.minIdle &gt; b.maxIdle &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">nil</span>, fmt.Errorf(<span class=\"string\">&quot;max idle(%d) cannot &lt; min idle(%d)&quot;</span>, b.maxIdle, b.minIdle)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> &amp;ResourcePoolConfig&#123;</span><br><span class=\"line\">        name:     b.name,</span><br><span class=\"line\">        maxTotal: b.maxTotal,</span><br><span class=\"line\">        maxIdle:  b.maxIdle,</span><br><span class=\"line\">        minIdle:  b.minIdle,</span><br><span class=\"line\">     &#125;, <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h4><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/require&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestResourcePoolConfigBuilder_Build</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\"> tests := []<span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">        name    <span class=\"type\">string</span></span><br><span class=\"line\">        builder *ResourcePoolConfigBuilder</span><br><span class=\"line\">        want    *ResourcePoolConfig</span><br><span class=\"line\">        wantErr <span class=\"type\">bool</span></span><br><span class=\"line\">    &#125;&#123;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        name: <span class=\"string\">&quot;name empty&quot;</span>,</span><br><span class=\"line\">        builder: &amp;ResourcePoolConfigBuilder&#123;</span><br><span class=\"line\">            name:     <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">            maxTotal: <span class=\"number\">0</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        want:    <span class=\"literal\">nil</span>,</span><br><span class=\"line\">        wantErr: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        name: <span class=\"string\">&quot;maxIdle &lt; minIdle&quot;</span>,</span><br><span class=\"line\">        builder: &amp;ResourcePoolConfigBuilder&#123;</span><br><span class=\"line\">            name:     <span class=\"string\">&quot;test&quot;</span>,</span><br><span class=\"line\">            maxTotal: <span class=\"number\">0</span>,</span><br><span class=\"line\">            maxIdle:  <span class=\"number\">10</span>,</span><br><span class=\"line\">            minIdle:  <span class=\"number\">20</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        want:    <span class=\"literal\">nil</span>,</span><br><span class=\"line\">        wantErr: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        name: <span class=\"string\">&quot;success&quot;</span>,</span><br><span class=\"line\">        builder: &amp;ResourcePoolConfigBuilder&#123;</span><br><span class=\"line\">            name: <span class=\"string\">&quot;test&quot;</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        want: &amp;ResourcePoolConfig&#123;</span><br><span class=\"line\">            name:     <span class=\"string\">&quot;test&quot;</span>,</span><br><span class=\"line\">            maxTotal: defaultMaxTotal,</span><br><span class=\"line\">            maxIdle:  defaultMaxIdle,</span><br><span class=\"line\">            minIdle:  defaultMinIdle,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        wantErr: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">for</span> _, tt := <span class=\"keyword\">range</span> tests &#123;</span><br><span class=\"line\">    t.Run(tt.name, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">        got, err := tt.builder.Build()</span><br><span class=\"line\">        require.Equalf(t, tt.wantErr, err != <span class=\"literal\">nil</span>, <span class=\"string\">&quot;Build() error = %v, wantErr %v&quot;</span>, err, tt.wantErr)</span><br><span class=\"line\">        assert.Equal(t, tt.want, got)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Go-常用的参数传递方\"><a href=\"#Go-常用的参数传递方\" class=\"headerlink\" title=\"Go 常用的参数传递方\"></a>Go 常用的参数传递方</h3><h4 id=\"代码-1\"><a href=\"#代码-1\" class=\"headerlink\" title=\"代码\"></a>代码</h4><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ResourcePoolConfigOption option</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> ResourcePoolConfigOption <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    maxTotal <span class=\"type\">int</span></span><br><span class=\"line\">    maxIdle  <span class=\"type\">int</span></span><br><span class=\"line\">    minIdle  <span class=\"type\">int</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ResourcePoolConfigOptFunc to set option</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> ResourcePoolConfigOptFunc <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(option *ResourcePoolConfigOption)</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// NewResourcePoolConfig NewResourcePoolConfig</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewResourcePoolConfig</span><span class=\"params\">(name <span class=\"type\">string</span>, opts ...ResourcePoolConfigOptFunc)</span></span> (*ResourcePoolConfig, <span class=\"type\">error</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> name == <span class=\"string\">&quot;&quot;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">nil</span>, fmt.Errorf(<span class=\"string\">&quot;name can not be empty&quot;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    option := &amp;ResourcePoolConfigOption&#123;</span><br><span class=\"line\">            maxTotal: <span class=\"number\">10</span>,</span><br><span class=\"line\">            maxIdle:  <span class=\"number\">9</span>,</span><br><span class=\"line\">            minIdle:  <span class=\"number\">1</span>,</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _, opt := <span class=\"keyword\">range</span> opts &#123;</span><br><span class=\"line\">        opt(option)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> option.maxTotal &lt; <span class=\"number\">0</span> || option.maxIdle &lt; <span class=\"number\">0</span> || option.minIdle &lt; <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">nil</span>, fmt.Errorf(<span class=\"string\">&quot;args err, option: %v&quot;</span>, option)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> option.maxTotal &lt; option.maxIdle || option.minIdle &gt; option.maxIdle &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">nil</span>, fmt.Errorf(<span class=\"string\">&quot;args err, option: %v&quot;</span>, option)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> &amp;ResourcePoolConfig&#123;</span><br><span class=\"line\">        name:     name,</span><br><span class=\"line\">        maxTotal: option.maxTotal,</span><br><span class=\"line\">        maxIdle:  option.maxIdle,</span><br><span class=\"line\">        minIdle:  option.minIdle,</span><br><span class=\"line\">        &#125;, <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"单元测试-1\"><a href=\"#单元测试-1\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h4><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/require&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestNewResourcePoolConfig</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">type</span> args <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">        name <span class=\"type\">string</span></span><br><span class=\"line\">        opts []ResourcePoolConfigOptFunc</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    tests := []<span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">        name    <span class=\"type\">string</span></span><br><span class=\"line\">        args    args</span><br><span class=\"line\">        want    *ResourcePoolConfig</span><br><span class=\"line\">        wantErr <span class=\"type\">bool</span></span><br><span class=\"line\">    &#125;&#123;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        name: <span class=\"string\">&quot;name empty&quot;</span>,</span><br><span class=\"line\">        args: args&#123;</span><br><span class=\"line\">            name: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        want:    <span class=\"literal\">nil</span>,</span><br><span class=\"line\">        wantErr: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        name: <span class=\"string\">&quot;success&quot;</span>,</span><br><span class=\"line\">        args: args&#123;</span><br><span class=\"line\">            name: <span class=\"string\">&quot;test&quot;</span>,</span><br><span class=\"line\">            opts: []ResourcePoolConfigOptFunc&#123;</span><br><span class=\"line\">                <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(option *ResourcePoolConfigOption)</span></span> &#123;</span><br><span class=\"line\">                    option.minIdle = <span class=\"number\">2</span></span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        want: &amp;ResourcePoolConfig&#123;</span><br><span class=\"line\">            name:     <span class=\"string\">&quot;test&quot;</span>,</span><br><span class=\"line\">            maxTotal: <span class=\"number\">10</span>,</span><br><span class=\"line\">            maxIdle:  <span class=\"number\">9</span>,</span><br><span class=\"line\">            minIdle:  <span class=\"number\">2</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        wantErr: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _, tt := <span class=\"keyword\">range</span> tests &#123;</span><br><span class=\"line\">        t.Run(tt.name, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">            got, err := NewResourcePoolConfig(tt.args.name, tt.args.opts...)</span><br><span class=\"line\">            require.Equalf(t, tt.wantErr, err != <span class=\"literal\">nil</span>, <span class=\"string\">&quot;error = %v, wantErr %v&quot;</span>, err, tt.wantErr)</span><br><span class=\"line\">            assert.Equal(t, tt.want, got)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h3><p>其实可以看到，绝大多数情况下直接使用后面的这种方式就可以了，并且在编写公共库的时候，强烈建议入口的参数都可以这么传递，这样可以最大程度的保证我们公共库的兼容性，避免在后续的更新的时候出现破坏性的更新的情况。</p>\n","categories":["go"],"tags":["go"]},{"title":"代理模式","url":"/go/design/proxy.html","content":"<p>接下来会通过 golang 实现静态代理，我们无法比较方便的利用反射实现动态代理，但是我们可以利用 go generate 实现类似的效果，并且这样实现有两个比较大的好处，一个是有静态代码检查，我们在编译期间就可以及早发现问题，第二个是性能会更好。</p>\n<span id=\"more\"></span>\n\n<h2 id=\"静态代理\"><a href=\"#静态代理\" class=\"headerlink\" title=\"静态代理\"></a>静态代理</h2><h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;log&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;time&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// IUser IUser</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> IUser <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    Login(username, password <span class=\"type\">string</span>) <span class=\"type\">error</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// User 用户</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> User <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Login 用户登录</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(u *User)</span></span> Login(username, password <span class=\"type\">string</span>) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 不实现细节</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// UserProxy 代理类</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> UserProxy <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    user *User</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// NewUserProxy NewUserProxy</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewUserProxy</span><span class=\"params\">(user *User)</span></span> *UserProxy &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &amp;UserProxy&#123;</span><br><span class=\"line\">    user: user,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Login 登录，和 user 实现相同的接口</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(p *UserProxy)</span></span> Login(username, password <span class=\"type\">string</span>) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// before 这里可能会有一些统计的逻辑</span></span><br><span class=\"line\">    start := time.Now()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 这里是原有的业务逻辑</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> err := p.user.Login(username, password); err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> err</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// after 这里可能也有一些监控统计的逻辑</span></span><br><span class=\"line\">    log.Printf(<span class=\"string\">&quot;user login cost time: %s&quot;</span>, time.Now().Sub(start))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/require&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestUserProxy_Login</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    proxy := NewUserProxy(&amp;User&#123;&#125;)</span><br><span class=\"line\">    err := proxy.Login(<span class=\"string\">&quot;test&quot;</span>, <span class=\"string\">&quot;password&quot;</span>)</span><br><span class=\"line\">    require.Nil(t, err)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Go-Generate-实现-“动态代理”\"><a href=\"#Go-Generate-实现-“动态代理”\" class=\"headerlink\" title=\"Go Generate 实现 “动态代理”\"></a>Go Generate 实现 “动态代理”</h2><h3 id=\"需求\"><a href=\"#需求\" class=\"headerlink\" title=\"需求\"></a>需求</h3><p>动态代理相比静态代理主要就是为了解决生产力，将我们从繁杂的重复劳动中解放出来，正好，在 Go 中 Generate 也是干这个活的<br>如下面的代码所示，我们的 generate 会读取 struct 上的注释，如果出现 @proxy 接口名 的注释，我们就会为这个 struct 生成一个 proxy 类，同时实现相同的接口，这个接口就是在注释中指定的接口</p>\n<figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// User 用户</span></span><br><span class=\"line\"><span class=\"comment\">// @proxy IUser</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> User <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"代码实现-1\"><a href=\"#代码实现-1\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><p>接来下我们会简单的实现这个需求，由于篇幅和时间的关系，我们会略过一些检查之类的代码，例如 User 是否真正实现了 IUser 这种情况。<br>代码有点长，主要思路:</p>\n<p>读取文件, 获取文件的 ast 语法树</p>\n<ul>\n<li>通过 NewCommentMap 构建 node 和 comment 的关系</li>\n<li>通过 comment 是否包含 @proxy 接口名 的接口，判断该节点是否需要生成代理类</li>\n<li>通过 Lookup 方法找到接口</li>\n<li>循环获取接口的每个方法的，方法名、参数、返回值信息</li>\n<li>将方法信息，包名、需要代理类名传递给构建好的模板文件，生成代理类</li>\n<li>最后用 format 包的方法格式化源代码</li>\n</ul>\n<figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;bytes&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;fmt&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;go/ast&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;go/format&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;go/parser&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;go/token&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;strings&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;text/template&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">generate</span><span class=\"params\">(file <span class=\"type\">string</span>)</span></span> (<span class=\"type\">string</span>, <span class=\"type\">error</span>) &#123;</span><br><span class=\"line\">    fset := token.NewFileSet() <span class=\"comment\">// positions are relative to fset</span></span><br><span class=\"line\">    f, err := parser.ParseFile(fset, file, <span class=\"literal\">nil</span>, parser.ParseComments)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;&quot;</span>, err</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 获取代理需要的数据</span></span><br><span class=\"line\">    data := proxyData&#123;</span><br><span class=\"line\">        Package: f.Name.Name,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 构建注释和 node 的关系</span></span><br><span class=\"line\">    cmap := ast.NewCommentMap(fset, f, f.Comments)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> node, group := <span class=\"keyword\">range</span> cmap &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 从注释 @proxy 接口名，获取接口名称</span></span><br><span class=\"line\">        name := getProxyInterfaceName(group)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> name == <span class=\"string\">&quot;&quot;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">continue</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 获取代理的类名</span></span><br><span class=\"line\">        data.ProxyStructName = node.(*ast.GenDecl).Specs[<span class=\"number\">0</span>].(*ast.TypeSpec).Name.Name</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 从文件中查找接口</span></span><br><span class=\"line\">        obj := f.Scope.Lookup(name)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 类型转换，注意: 这里没有对断言进行判断，可能会导致 panic</span></span><br><span class=\"line\">        t := obj.Decl.(*ast.TypeSpec).Type.(*ast.InterfaceType)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> _, field := <span class=\"keyword\">range</span> t.Methods.List &#123;</span><br><span class=\"line\">            fc := field.Type.(*ast.FuncType)</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 代理的方法</span></span><br><span class=\"line\">            method := &amp;proxyMethod&#123;</span><br><span class=\"line\">                Name: field.Names[<span class=\"number\">0</span>].Name,</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 获取方法的参数和返回值</span></span><br><span class=\"line\">            method.Params, method.ParamNames = getParamsOrResults(fc.Params)</span><br><span class=\"line\">            method.Results, method.ResultNames = getParamsOrResults(fc.Results)</span><br><span class=\"line\"></span><br><span class=\"line\">            data.Methods = <span class=\"built_in\">append</span>(data.Methods, method)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 生成文件</span></span><br><span class=\"line\">    tpl, err := template.New(<span class=\"string\">&quot;&quot;</span>).Parse(proxyTpl)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;&quot;</span>, err</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    buf := &amp;bytes.Buffer&#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> err := tpl.Execute(buf, data); err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;&quot;</span>, err</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 使用 go fmt 对生成的代码进行格式化</span></span><br><span class=\"line\">    src, err := format.Source(buf.Bytes())</span><br><span class=\"line\">    <span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;&quot;</span>, err</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"type\">string</span>(src), <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// getParamsOrResults 获取参数或者是返回值</span></span><br><span class=\"line\"><span class=\"comment\">// 返回带类型的参数，以及不带类型的参数，以逗号间隔</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">getParamsOrResults</span><span class=\"params\">(fields *ast.FieldList)</span></span> (<span class=\"type\">string</span>, <span class=\"type\">string</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> (</span><br><span class=\"line\">        params     []<span class=\"type\">string</span></span><br><span class=\"line\">        paramNames []<span class=\"type\">string</span></span><br><span class=\"line\">    )</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, param := <span class=\"keyword\">range</span> fields.List &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 循环获取所有的参数名</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> names []<span class=\"type\">string</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> _, name := <span class=\"keyword\">range</span> param.Names &#123;</span><br><span class=\"line\">            names = <span class=\"built_in\">append</span>(names, name.Name)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(names) == <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">            names = <span class=\"built_in\">append</span>(names, fmt.Sprintf(<span class=\"string\">&quot;r%d&quot;</span>, i))</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        paramNames = <span class=\"built_in\">append</span>(paramNames, names...)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 参数名加参数类型组成完整的参数</span></span><br><span class=\"line\">        param := fmt.Sprintf(<span class=\"string\">&quot;%s %s&quot;</span>,</span><br><span class=\"line\">            strings.Join(names, <span class=\"string\">&quot;,&quot;</span>),</span><br><span class=\"line\">            param.Type.(*ast.Ident).Name,</span><br><span class=\"line\">        )</span><br><span class=\"line\">        params = <span class=\"built_in\">append</span>(params, strings.TrimSpace(param))</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> strings.Join(params, <span class=\"string\">&quot;,&quot;</span>), strings.Join(paramNames, <span class=\"string\">&quot;,&quot;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">getProxyInterfaceName</span><span class=\"params\">(groups []*ast.CommentGroup)</span></span> <span class=\"type\">string</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _, commentGroup := <span class=\"keyword\">range</span> groups &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> _, comment := <span class=\"keyword\">range</span> commentGroup.List &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> strings.Contains(comment.Text, <span class=\"string\">&quot;@proxy&quot;</span>) &#123;</span><br><span class=\"line\">                interfaceName := strings.TrimLeft(comment.Text, <span class=\"string\">&quot;// @proxy &quot;</span>)</span><br><span class=\"line\">                <span class=\"keyword\">return</span> strings.TrimSpace(interfaceName)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 生成代理类的文件模板</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> proxyTpl = <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">package &#123;&#123;.Package&#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">type &#123;&#123; .ProxyStructName &#125;&#125;Proxy struct &#123;</span></span><br><span class=\"line\"><span class=\"string\"> child *&#123;&#123; .ProxyStructName &#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">func New&#123;&#123; .ProxyStructName &#125;&#125;Proxy(child *&#123;&#123; .ProxyStructName &#125;&#125;) *&#123;&#123; .ProxyStructName &#125;&#125;Proxy &#123;</span></span><br><span class=\"line\"><span class=\"string\"> return &amp;&#123;&#123; .ProxyStructName &#125;&#125;Proxy&#123;child: child&#125;</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">&#123;&#123; range .Methods &#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\">func (p *&#123;&#123;$.ProxyStructName&#125;&#125;Proxy) &#123;&#123; .Name &#125;&#125; (&#123;&#123; .Params &#125;&#125;) (&#123;&#123; .Results &#125;&#125;) &#123;</span></span><br><span class=\"line\"><span class=\"string\"> // before 这里可能会有一些统计的逻辑</span></span><br><span class=\"line\"><span class=\"string\"> start := time.Now()</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"> &#123;&#123; .ResultNames &#125;&#125; = p.child.&#123;&#123; .Name &#125;&#125;(&#123;&#123; .ParamNames &#125;&#125;)</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"> // after 这里可能也有一些监控统计的逻辑</span></span><br><span class=\"line\"><span class=\"string\"> log.Printf(&quot;user login cost time: %s&quot;, time.Now().Sub(start))</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"> return &#123;&#123; .ResultNames &#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\">&#123;&#123; end &#125;&#125;</span></span><br><span class=\"line\"><span class=\"string\">`</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> proxyData <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 包名</span></span><br><span class=\"line\">    Package <span class=\"type\">string</span></span><br><span class=\"line\">    <span class=\"comment\">// 需要代理的类名</span></span><br><span class=\"line\">    ProxyStructName <span class=\"type\">string</span></span><br><span class=\"line\">    <span class=\"comment\">// 需要代理的方法</span></span><br><span class=\"line\">    Methods []*proxyMethod</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// proxyMethod 代理的方法</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> proxyMethod <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 方法名</span></span><br><span class=\"line\">    Name <span class=\"type\">string</span></span><br><span class=\"line\">    <span class=\"comment\">// 参数，含参数类型</span></span><br><span class=\"line\">    Params <span class=\"type\">string</span></span><br><span class=\"line\">    <span class=\"comment\">// 参数名</span></span><br><span class=\"line\">    ParamNames <span class=\"type\">string</span></span><br><span class=\"line\">    <span class=\"comment\">// 返回值</span></span><br><span class=\"line\">    Results <span class=\"type\">string</span></span><br><span class=\"line\">    <span class=\"comment\">// 返回值名</span></span><br><span class=\"line\">    ResultNames <span class=\"type\">string</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"单元测试-1\"><a href=\"#单元测试-1\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/require&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">Test_generate</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\"> want := <span class=\"string\">`package proxy</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">    type UserProxy struct &#123;</span></span><br><span class=\"line\"><span class=\"string\">        child *User</span></span><br><span class=\"line\"><span class=\"string\">    &#125;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">    func NewUserProxy(child *User) *UserProxy &#123;</span></span><br><span class=\"line\"><span class=\"string\">        return &amp;UserProxy&#123;child: child&#125;</span></span><br><span class=\"line\"><span class=\"string\">    &#125;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">    func (p *UserProxy) Login(username, password string) (r0 error) &#123;</span></span><br><span class=\"line\"><span class=\"string\">        // before 这里可能会有一些统计的逻辑</span></span><br><span class=\"line\"><span class=\"string\">        start := time.Now()</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        r0 = p.child.Login(username, password)</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        // after 这里可能也有一些监控统计的逻辑</span></span><br><span class=\"line\"><span class=\"string\">        log.Printf(&quot;user login cost time: %s&quot;, time.Now().Sub(start))</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        return r0</span></span><br><span class=\"line\"><span class=\"string\">    &#125;</span></span><br><span class=\"line\"><span class=\"string\">`</span></span><br><span class=\"line\">    got, err := generate(<span class=\"string\">&quot;./proxy.go&quot;</span>)</span><br><span class=\"line\">    require.Nil(t, err)</span><br><span class=\"line\">    assert.Equal(t, want, got)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","categories":["go"],"tags":["go"]},{"title":"装饰器模式","url":"/go/design/decorator.html","content":"<h2 id=\"装饰器模式\"><a href=\"#装饰器模式\" class=\"headerlink\" title=\"装饰器模式\"></a>装饰器模式</h2><blockquote>\n<p>装饰器模式主要解决继承关系过于复杂的问题，通过组合来替代继承，它主要的作用是给原始类添加增强功能</p>\n</blockquote>\n<span id=\"more\"></span>\n\n<blockquote>\n<p>实现方式 分为接口 ，继承。如果装饰器类的方法大部分和源类相同，不做改变选继承</p>\n</blockquote>\n<blockquote>\n<p>和代理模式的区别 ，代码形式上几乎没有什么差别，代理模式主要给原始类添加无关的功能<br>装饰器模式，主要是给原始类增强功能，添加的功能都是有关联的</p>\n</blockquote>\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><p>下面是一个简单的画画的例子，默认的Square只有基础的画画功能，ColorSquare 为他加上了颜色</p>\n<figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> IDraw <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">     Draw() <span class=\"type\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> Square <span class=\"keyword\">struct</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(s Square)</span></span> Draw() <span class=\"type\">string</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;this is a square&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> ColorSquare <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    square IDraw</span><br><span class=\"line\">    color <span class=\"type\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewColorSquare</span><span class=\"params\">(square IDraw,color <span class=\"type\">string</span>)</span></span> ColorSquare&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ColorSquare&#123;square: square,color: color&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(c ColorSquare)</span></span> Draw() <span class=\"type\">string</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>  c.square.Draw() +<span class=\"string\">&quot;, color is &quot;</span> +c.color</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestColorSquare_Draw</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    sq := Square&#123;&#125;</span><br><span class=\"line\">    csq := NewColorSquare(sq, <span class=\"string\">&quot;red&quot;</span>)</span><br><span class=\"line\">    got := csq.Draw()</span><br><span class=\"line\">    assert.Equal(t, <span class=\"string\">&quot;this is a square, color is red&quot;</span>, got)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","categories":["go"],"tags":["go"]},{"title":"原型模式","url":"/go/design/prototype.html","content":"<h2 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h2><ul>\n<li>接下来会按照一个类似课程中的例子使用深拷贝和浅拷贝结合的方式进行实现<br>需求: 假设现在数据库中有大量数据，包含了关键词，关键词被搜索的次数等信息，模块 A 为了业务需要<ul>\n<li>会在启动时加载这部分数据到内存中</li>\n<li>并且需要定时更新里面的数据</li>\n<li>同时展示给用户的数据每次必须要是相同版本的数据，不能一部分数据来自版本 1 一部分来自版本 2</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;encoding/json&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;time&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> Keyword <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    word   <span class=\"type\">string</span></span><br><span class=\"line\">    visit  <span class=\"type\">int</span></span><br><span class=\"line\">    UpdatedAt *time.Time</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Clone 这里使用序列化与反序列化的方式深拷贝</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(k *Keyword)</span></span> Clone() *Keyword &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> newKeyword Keyword</span><br><span class=\"line\">    b, _ := json.Marshal(k)</span><br><span class=\"line\">    json.Unmarshal(b, &amp;newKeyword)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &amp;newKeyword</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> Keywords <span class=\"keyword\">map</span>[<span class=\"type\">string</span>]*Keyword</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Clone 复制一个新的 keywords</span></span><br><span class=\"line\"><span class=\"comment\">// updatedWords: 需要更新的关键词列表，由于从数据库中获取数据常常是数组的方式</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(words Keywords)</span></span> Clone(updateWords []*Keyword) Keywords &#123;</span><br><span class=\"line\">    newKeywords := Keywords&#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> k, v := <span class=\"keyword\">range</span> words &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 这里是浅拷贝，直接拷贝了地址</span></span><br><span class=\"line\">        newKeywords[k] = v</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 替换需要更新的字段，这里用的深拷贝</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _, word := <span class=\"keyword\">range</span> updateWords &#123;</span><br><span class=\"line\">        newKeywords[word.word] = word.Clone()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> newKeywords</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;time&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestKeywords_Clone</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    updateAt, _ := time.Parse(<span class=\"string\">&quot;2006&quot;</span>, <span class=\"string\">&quot;2020&quot;</span>)</span><br><span class=\"line\">    words := Keywords&#123;</span><br><span class=\"line\">        <span class=\"string\">&quot;testA&quot;</span>: &amp;Keyword&#123;</span><br><span class=\"line\">        word:      <span class=\"string\">&quot;testA&quot;</span>,</span><br><span class=\"line\">        visit:     <span class=\"number\">1</span>,</span><br><span class=\"line\">        UpdatedAt: &amp;updateAt,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"string\">&quot;testB&quot;</span>: &amp;Keyword&#123;</span><br><span class=\"line\">        word:      <span class=\"string\">&quot;testB&quot;</span>,</span><br><span class=\"line\">        visit:     <span class=\"number\">2</span>,</span><br><span class=\"line\">        UpdatedAt: &amp;updateAt,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"string\">&quot;testC&quot;</span>: &amp;Keyword&#123;</span><br><span class=\"line\">        word:      <span class=\"string\">&quot;testC&quot;</span>,</span><br><span class=\"line\">        visit:     <span class=\"number\">3</span>,</span><br><span class=\"line\">        UpdatedAt: &amp;updateAt,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    now := time.Now()</span><br><span class=\"line\">    updatedWords := []*Keyword&#123;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            word:      <span class=\"string\">&quot;testB&quot;</span>,</span><br><span class=\"line\">            visit:     <span class=\"number\">10</span>,</span><br><span class=\"line\">            UpdatedAt: &amp;now,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    got := words.Clone(updatedWords)</span><br><span class=\"line\"></span><br><span class=\"line\">    assert.Equal(t, words[<span class=\"string\">&quot;testA&quot;</span>], got[<span class=\"string\">&quot;testA&quot;</span>])</span><br><span class=\"line\">    assert.NotEqual(t, words[<span class=\"string\">&quot;testB&quot;</span>], got[<span class=\"string\">&quot;testB&quot;</span>])</span><br><span class=\"line\">    assert.NotEqual(t, updatedWords[<span class=\"number\">0</span>], got[<span class=\"string\">&quot;testB&quot;</span>])</span><br><span class=\"line\">    assert.Equal(t, words[<span class=\"string\">&quot;testC&quot;</span>], got[<span class=\"string\">&quot;testC&quot;</span>])</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","categories":["go"],"tags":["go"]},{"title":"适配器模式","url":"/go/design/adapter.html","content":"<h2 id=\"适配器模式\"><a href=\"#适配器模式\" class=\"headerlink\" title=\"适配器模式\"></a>适配器模式</h2><blockquote>\n<p>顾名思义，这个模式就是用来适配的，它将不兼容的接口转为可以兼容的接口，让原本不兼容而不能一起工作的类可以一起工作</p>\n</blockquote>\n<blockquote>\n<p>实现方式：类适配器通过继承实现；对象适配器通过组合实现<br>如何选择：需要适配的接口不多，两种都可以。需要适配的接口很多的情况下，如果还需要大量修改选用对象适配器，不需要大量修改选用类适配器</p>\n</blockquote>\n<blockquote>\n<p>应用场景：接口不兼容的情况下，封装有缺陷的接口设计；统一多个类的接口设计；替换依赖的外部系统；兼容老版本接口；适配不同格式的数据。</p>\n</blockquote>\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 适配器模式</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> ICreateServer <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    CreateServer(cpu,mem <span class=\"type\">float64</span>)<span class=\"type\">error</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> QiNiuClient <span class=\"keyword\">struct</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(c *QiNiuClient)</span></span> RunInstance(cpu,mem <span class=\"type\">float64</span>) <span class=\"type\">error</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> QiniuClientAdapter <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    Client QiNiuClient</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(q *QiniuClientAdapter)</span></span> CreateServer(cpu,mem <span class=\"type\">float64</span>) <span class=\"type\">error</span>&#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> q.Client.RunInstance(cpu,mem)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> AliYunClient <span class=\"keyword\">struct</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(c *AliYunClient)</span></span> CreateServer(cpu,mem <span class=\"type\">float64</span>) <span class=\"type\">error</span>&#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> AliYunClientAdapter <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\"> Client AliYunClient</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(a *AliYunClientAdapter)</span></span> CreateServer(cpu,mem <span class=\"type\">float64</span>) <span class=\"type\">error</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a.Client.CreateServer(cpu,mem)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestAliyunClientAdapter_CreateServer</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> a ICreateServer = &amp;AliYunClientAdapter&#123;</span><br><span class=\"line\">    Client: AliYunClient&#123;&#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    a.CreateServer(<span class=\"number\">1.0</span>, <span class=\"number\">2.0</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestQiNiuClientAdapter_CreateServer</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> a ICreateServer = &amp;QiNiuClientAdapter&#123;</span><br><span class=\"line\">    Client: QiNiuClient&#123;&#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    a.CreateServer(<span class=\"number\">1.0</span>, <span class=\"number\">2.0</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","categories":["go"],"tags":["go"]},{"title":"门面模式","url":"/go/design/facade.html","content":"<h2 id=\"门面模式\"><a href=\"#门面模式\" class=\"headerlink\" title=\"门面模式\"></a>门面模式</h2><blockquote>\n<p>别名：为外观模式<br>定义：门面模式为子系统提供统一的接口，定义一组高层接口让子系统更易用；将几个细粒度的接口包装一下，成一个接口</p>\n</blockquote>\n<span id=\"more\"></span>\n<blockquote>\n<p>应用场景：解决易用性问题，用来封装系统底层实现，隐藏系统的复杂性，提供一组更加简单易用，更高层的接口；解决性能问题，减少网络请求；解决分布式事务问题，不用多次调用了，一次调用就可以同一个进程事务中解决；</p>\n</blockquote>\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  IUserinfo 用户接口</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> IUserInfo <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    Login(phone, code <span class=\"type\">int</span>) (*UserInfo, <span class=\"type\">error</span>)</span><br><span class=\"line\">    Register(phone, code <span class=\"type\">int</span>) (*UserInfo, <span class=\"type\">error</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> UserInfo <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    Name <span class=\"type\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// IUserInfoFacade门面模式</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> IUserInfoFacade <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    LoginOrRegister(phone, code <span class=\"type\">int</span>) (*UserInfo, <span class=\"type\">error</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> UserService <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(u UserService)</span></span> Login(phone, code <span class=\"type\">int</span>) (*UserInfo, <span class=\"type\">error</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &amp;UserInfo&#123;Name: <span class=\"string\">&quot;login&quot;</span>&#125;, <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(u UserService)</span></span> Register(phone, code <span class=\"type\">int</span>) (*UserInfo, <span class=\"type\">error</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &amp;UserInfo&#123;Name: <span class=\"string\">&quot;register&quot;</span>&#125;, <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(u UserService)</span></span> LoginOrRegister(phone, code <span class=\"type\">int</span>) (*UserInfo, <span class=\"type\">error</span>) &#123;</span><br><span class=\"line\">    user, err := u.Login(phone, code)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> <span class=\"literal\">nil</span>, err</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> user != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> user, <span class=\"literal\">nil</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> u.Register(phone, code)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestUserService_Login</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    service := UserService&#123;&#125;</span><br><span class=\"line\">    user, err := service.Login(<span class=\"number\">10506000010</span>, <span class=\"number\">1234</span>)</span><br><span class=\"line\">    assert.NoError(t, err)</span><br><span class=\"line\">    assert.Equal(t, &amp;UserInfo&#123;Name: <span class=\"string\">&quot;login&quot;</span>&#125;, user)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestUserService_LoginOrRegister</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    service := UserService&#123;&#125;</span><br><span class=\"line\">    user, err := service.LoginOrRegister(<span class=\"number\">10506000010</span>, <span class=\"number\">1234</span>)</span><br><span class=\"line\">    assert.NoError(t, err)</span><br><span class=\"line\">    assert.Equal(t, &amp;UserInfo&#123;Name: <span class=\"string\">&quot;login&quot;</span>&#125;, user)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestUserService_Register</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    service := UserService&#123;&#125;</span><br><span class=\"line\">    user, err := service.Register(<span class=\"number\">10506000010</span>, <span class=\"number\">1234</span>)</span><br><span class=\"line\">    assert.NoError(t, err)</span><br><span class=\"line\">    assert.Equal(t, &amp;UserInfo&#123;Name: <span class=\"string\">&quot;register&quot;</span>&#125;, user)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","categories":["go"],"tags":["go"]},{"title":"桥接模式","url":"/go/design/bridge.html","content":"<h2 id=\"桥接模式\"><a href=\"#桥接模式\" class=\"headerlink\" title=\"桥接模式\"></a>桥接模式</h2><blockquote>\n<p>将抽象和实现解藕，让它们可以独立变化<br>一个类存在两个或多个独立变化的纬度，我们通过组合的方式，让两个或多个纬度可以独立进行扩展</p>\n</blockquote>\n<!--nore-->\n\n<blockquote>\n<p>栗子，监控告警，有不同的告警类别，有不同的通知类型<br>将通知类型和告警类别进行拆分成两个类，将通知类型作为参数传递即可。<br>很多设计模式都是试图将庞大的类拆分成更小的类，然后再通过某种更合理的结构组装在一起</p>\n</blockquote>\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 桥接模式</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> IMsgSender <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    Send(msg <span class=\"type\">string</span>) <span class=\"type\">error</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> EmailMsgSender <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    emails []<span class=\"type\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewEmailMsgSender</span><span class=\"params\">(emails []<span class=\"type\">string</span>)</span></span> *EmailMsgSender &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &amp;EmailMsgSender&#123;emails: emails&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(s *EmailMsgSender)</span></span> Send(msg <span class=\"type\">string</span>) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 通知接口</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> INotification <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    Notify(msg <span class=\"type\">string</span>) <span class=\"type\">error</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 错误通知</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> ErrorNotification <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    sender IMsgSender</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewErrorNotification</span><span class=\"params\">(sender IMsgSender)</span></span> *ErrorNotification &#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> &amp;ErrorNotification&#123;sender: sender&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(n *ErrorNotification)</span></span> Notify(msg <span class=\"type\">string</span>) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> n.sender.Send(msg)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestErrorNotification_Notify</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    sender := NewEmailMsgSender([]<span class=\"type\">string</span>&#123;<span class=\"string\">&quot;test@test.com&quot;</span>&#125;)</span><br><span class=\"line\">    n := NewErrorNotification(sender)</span><br><span class=\"line\">    err := n.Notify(<span class=\"string\">&quot;test msg&quot;</span>)</span><br><span class=\"line\">    assert.Nil(t, err)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","categories":["go"],"tags":["go"]},{"title":"享元模式","url":"/go/design/flyweight.html","content":"<h2 id=\"享元模式\"><a href=\"#享元模式\" class=\"headerlink\" title=\"享元模式\"></a>享元模式</h2><blockquote>\n<p>享元模式的意图是复用对象，节省内存，前提是享元对象是不可变对象。</p>\n</blockquote>\n<span id=\"more\"></span>\n<blockquote>\n<p>享元：对象级别的复用；也可以是对象的字段进行复用<br>实现方式：主要通过工厂模式，在工厂类中，通过一个Map来缓存已经创建过的享元对象，来达到复用的目的</p>\n</blockquote>\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ChessPieceUnit 棋子享元</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> ChessPieceUnit <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    ID    <span class=\"type\">uint</span></span><br><span class=\"line\">    Name  <span class=\"type\">string</span></span><br><span class=\"line\">    Color <span class=\"type\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> units = <span class=\"keyword\">map</span>[<span class=\"type\">int</span>]*ChessPieceUnit&#123;</span><br><span class=\"line\">    <span class=\"number\">1</span>: &#123;</span><br><span class=\"line\">        ID:    <span class=\"number\">1</span>,</span><br><span class=\"line\">        Name:  <span class=\"string\">&quot;車&quot;</span>,</span><br><span class=\"line\">        Color: <span class=\"string\">&quot;red&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"number\">2</span>: &#123;</span><br><span class=\"line\">        ID:    <span class=\"number\">2</span>,</span><br><span class=\"line\">        Name:  <span class=\"string\">&quot;炮&quot;</span>,</span><br><span class=\"line\">        Color: <span class=\"string\">&quot;red&quot;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// ... 其他棋子</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// NewChessPieceUnit 工厂</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewChessPieceUnit</span><span class=\"params\">(id <span class=\"type\">int</span>)</span></span> *ChessPieceUnit &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> units[id]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ChessPiece 棋子</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> ChessPiece <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    Unit *ChessPieceUnit</span><br><span class=\"line\">    X    <span class=\"type\">int</span></span><br><span class=\"line\">    Y    <span class=\"type\">int</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ChessBoard 棋局</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> ChessBoard <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">     chessPieces <span class=\"keyword\">map</span>[<span class=\"type\">int</span>]*ChessPiece</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// NewChessBoard 初始化棋盘</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewChessBoard</span><span class=\"params\">()</span></span> *ChessBoard &#123;</span><br><span class=\"line\">    board := &amp;ChessBoard&#123;chessPieces: <span class=\"keyword\">map</span>[<span class=\"type\">int</span>]*ChessPiece&#123;&#125;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> id := <span class=\"keyword\">range</span> units &#123;</span><br><span class=\"line\">        board.chessPieces[id] = &amp;ChessPiece&#123;</span><br><span class=\"line\">            Unit: NewChessPieceUnit(id),</span><br><span class=\"line\">            X:    <span class=\"number\">0</span>,</span><br><span class=\"line\">            Y:    <span class=\"number\">0</span>,</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> board</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Move 移动棋子</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(c *ChessBoard)</span></span> Move(id, x, y <span class=\"type\">int</span>) &#123;</span><br><span class=\"line\">    c.chessPieces[id].X = x</span><br><span class=\"line\">    c.chessPieces[id].Y = y</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestNewChessBoard</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    board1 := NewChessBoard()</span><br><span class=\"line\">    board1.Move(<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\">    board2 := NewChessBoard()</span><br><span class=\"line\">    board2.Move(<span class=\"number\">2</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    assert.Equal(t, board1.chessPieces[<span class=\"number\">1</span>].Unit, board2.chessPieces[<span class=\"number\">1</span>].Unit)</span><br><span class=\"line\">    assert.Equal(t, board1.chessPieces[<span class=\"number\">2</span>].Unit, board2.chessPieces[<span class=\"number\">2</span>].Unit)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","categories":["go"],"tags":["go"]},{"title":"组合模式","url":"/go/design/composite.html","content":"<h2 id=\"组合模式\"><a href=\"#组合模式\" class=\"headerlink\" title=\"组合模式\"></a>组合模式</h2><blockquote>\n<p>定义： 将一组对象组织成树形结构，以表示一种“部分-整体”的层次结构，组合让客户端（代码使用者）可以统一单个对象和组合对象的处理逻辑</p>\n</blockquote>\n<span id=\"more\"></span>\n<blockquote>\n<p>应用场景：业务场景必须能够表示成树形结构；将一组对象组织成树形结构，将单个对象和组合对象都看做树中的节点，以统一处理逻辑，并且它利用树形结构的特点，递归处理每个子树，一次简化代码实现。</p>\n</blockquote>\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// IOrganization 组织接口，都实现统计人数的功能</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> IOrganization <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    Count() <span class=\"type\">int</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Employee 员工</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Employee <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    Name <span class=\"type\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Count 人数统计</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(Employee)</span></span> Count() <span class=\"type\">int</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Department 部门</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Department <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    Name <span class=\"type\">string</span></span><br><span class=\"line\">    SubOrganizations []IOrganization</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Count 人数统计</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(d Department)</span></span> Count() <span class=\"type\">int</span> &#123;</span><br><span class=\"line\">    c := <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> _, org := <span class=\"keyword\">range</span> d.SubOrganizations &#123;</span><br><span class=\"line\">        c += org.Count()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> c</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// AddSub 添加子节点</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(d *Department)</span></span> AddSub(org IOrganization) &#123;</span><br><span class=\"line\">    d.SubOrganizations = <span class=\"built_in\">append</span>(d.SubOrganizations, org)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// NewOrganization 构建组织架构 demo</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewOrganization</span><span class=\"params\">()</span></span> IOrganization &#123;</span><br><span class=\"line\">    root := &amp;Department&#123;Name: <span class=\"string\">&quot;root&quot;</span>&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i := <span class=\"number\">0</span>; i &lt; <span class=\"number\">10</span>; i++ &#123;</span><br><span class=\"line\">        root.AddSub(&amp;Employee&#123;&#125;)</span><br><span class=\"line\">        root.AddSub(&amp;Department&#123;Name: <span class=\"string\">&quot;sub&quot;</span>, SubOrganizations: []IOrganization&#123;&amp;Employee&#123;&#125;&#125;&#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> root</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestNewOrganization</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    got := NewOrganization().Count()</span><br><span class=\"line\">    assert.Equal(t, <span class=\"number\">20</span>, got)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","categories":["go"],"tags":["go"]},{"title":"观察者模式","url":"/go/design/observer.html","content":"<h2 id=\"观察者模式\"><a href=\"#观察者模式\" class=\"headerlink\" title=\"观察者模式\"></a>观察者模式</h2><blockquote>\n<p>别名：发布订阅模式<br>定义： 在对象之间定一个一对多的依赖，当一个对象的状态改变的时候，所有依赖的对象都会自动收到通知<br>实现方式： 同步阻塞；异步非阻塞（使用协程）；同进程；跨进程（消息队列）</p>\n</blockquote>\n<span id=\"more\"></span>\n\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;fmt&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> IObserver <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    Update(msg <span class=\"type\">string</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> Subject <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    observers []IObserver</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(self *Subject)</span></span> Register(observer IObserver) &#123;</span><br><span class=\"line\">    self.observers = <span class=\"built_in\">append</span>(self.observers, observer)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(self *Subject)</span></span> Remove(observer IObserver) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, obj := <span class=\"keyword\">range</span> self.observers &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> obj == observer &#123;</span><br><span class=\"line\">            self.observers = <span class=\"built_in\">append</span>(self.observers[:i], self.observers[i+<span class=\"number\">1</span>:]...)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(self *Subject)</span></span> Notify(msg <span class=\"type\">string</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> _, o := <span class=\"keyword\">range</span> self.observers &#123;</span><br><span class=\"line\">        o.Update(msg)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> ObserverOne <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(obj *ObserverOne)</span></span> Update(msg <span class=\"type\">string</span>) &#123;</span><br><span class=\"line\">    fmt.Printf(<span class=\"string\">&quot;ObserverOne:%s&quot;</span>, msg)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> ObserverTwo <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(obj *ObserverTwo)</span></span> Update(msg <span class=\"type\">string</span>) &#123;</span><br><span class=\"line\">    fmt.Printf(<span class=\"string\">&quot;ObserverTwo:%s&quot;</span>, msg)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestSubject_Notify</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    sub := &amp;Subject&#123;&#125;</span><br><span class=\"line\">    sub.Register(&amp;ObserverOne&#123;&#125;)</span><br><span class=\"line\">    sub.Register(&amp;ObserverTwo&#123;&#125;)</span><br><span class=\"line\">    sub.Notify(<span class=\"string\">&quot;hi&quot;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"使用-Golang-实现-EventBus\"><a href=\"#使用-Golang-实现-EventBus\" class=\"headerlink\" title=\"使用 Golang 实现 EventBus\"></a>使用 Golang 实现 EventBus</h2><p>我们实现一个支持以下功能的事件总线</p>\n<ul>\n<li>异步不阻塞</li>\n<li>支持任意参数值</li>\n</ul>\n<h3 id=\"代码实现-1\"><a href=\"#代码实现-1\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;fmt&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;reflect&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;sync&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> Bus <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    Subscribe(topic <span class=\"type\">string</span>, handelr <span class=\"keyword\">interface</span>&#123;&#125;) <span class=\"type\">error</span></span><br><span class=\"line\">    Publish(topic <span class=\"type\">string</span>, args ...<span class=\"keyword\">interface</span>&#123;&#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> AsyncEventBus <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    handlers <span class=\"keyword\">map</span>[<span class=\"type\">string</span>][]reflect.Value</span><br><span class=\"line\">    lock     sync.Mutex</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewAsyncEventBus</span><span class=\"params\">()</span></span> *AsyncEventBus &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &amp;AsyncEventBus&#123;</span><br><span class=\"line\">        handlers: <span class=\"keyword\">map</span>[<span class=\"type\">string</span>][]reflect.Value&#123;&#125;,</span><br><span class=\"line\">        lock:     sync.Mutex&#123;&#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(self *AsyncEventBus)</span></span> Subscribe(topic <span class=\"type\">string</span>, f <span class=\"keyword\">interface</span>&#123;&#125;) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">    self.lock.Lock()</span><br><span class=\"line\">    <span class=\"keyword\">defer</span> self.lock.Unlock()</span><br><span class=\"line\"></span><br><span class=\"line\">    v := reflect.ValueOf(f)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> v.Type().Kind() != reflect.Func &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> fmt.Errorf(<span class=\"string\">&quot;handler is not a function&quot;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    handler, ok := self.handlers[topic]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> !ok &#123;</span><br><span class=\"line\">        handler = []reflect.Value&#123;&#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    handler = <span class=\"built_in\">append</span>(handler, v)</span><br><span class=\"line\">    self.handlers[topic] = handler</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(self *AsyncEventBus)</span></span> Publish(topic <span class=\"type\">string</span>, args ...<span class=\"keyword\">interface</span>&#123;&#125;) &#123;</span><br><span class=\"line\">    handlers, ok := self.handlers[topic]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> !ok &#123;</span><br><span class=\"line\">        fmt.Println(<span class=\"string\">&quot;not found handlers in topic:&quot;</span>, topic)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    params := <span class=\"built_in\">make</span>([]reflect.Value, <span class=\"built_in\">len</span>(args))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i, arg := <span class=\"keyword\">range</span> args &#123;</span><br><span class=\"line\">        params[i] = reflect.ValueOf(arg)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i := <span class=\"keyword\">range</span> handlers &#123;</span><br><span class=\"line\">        <span class=\"keyword\">go</span> handlers[i].Call(params)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"单元测试-1\"><a href=\"#单元测试-1\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;fmt&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;time&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestAsyncEventBus</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    bus := NewAsyncEventBus()</span><br><span class=\"line\">    bus.Subscribe(<span class=\"string\">&quot;topic:1&quot;</span>, subOne)</span><br><span class=\"line\">    bus.Subscribe(<span class=\"string\">&quot;topic:2&quot;</span>, subTwo)</span><br><span class=\"line\">    bus.Publish(<span class=\"string\">&quot;topic:1&quot;</span>, <span class=\"string\">&quot;test1&quot;</span>, <span class=\"string\">&quot;test2&quot;</span>)</span><br><span class=\"line\">    bus.Publish(<span class=\"string\">&quot;topic:1&quot;</span>, <span class=\"string\">&quot;testA&quot;</span>, <span class=\"string\">&quot;testB&quot;</span>)</span><br><span class=\"line\">    time.Sleep(<span class=\"number\">1</span> * time.Second)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">subOne</span><span class=\"params\">(msgs ...<span class=\"type\">string</span>)</span></span> &#123;</span><br><span class=\"line\">    time.Sleep(<span class=\"number\">1</span> * time.Microsecond)</span><br><span class=\"line\">    fmt.Printf(<span class=\"string\">&quot;subOne,%+v&quot;</span>, msgs)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">subTwo</span><span class=\"params\">(msgs ...<span class=\"type\">string</span>)</span></span> &#123;</span><br><span class=\"line\">    fmt.Printf(<span class=\"string\">&quot;subTwo,%+v&quot;</span>, msgs)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","categories":["go"],"tags":["go"]},{"title":"模版模式","url":"/go/design/template.html","content":"<h2 id=\"模版模式\"><a href=\"#模版模式\" class=\"headerlink\" title=\"模版模式\"></a>模版模式</h2><blockquote>\n<p>定义：模版模式在一个方法中定义一个算法骨架，并将某些步骤推迟到子类中实现，模版模式可以让子类在不改变算法整体结构的情况下，重新定义算法中的某些步骤<br>应用场景：扩展，框架通过模版模式提供功能扩展点，让框架用户可以在不修复爱框架源码的情况下，基于扩展点定制化框架的功能；复用，复用是指所有子类可以复用父类中提供的模版方法的代码。</p>\n</blockquote>\n<span id=\"more\"></span>\n<p>与回调的区别：同步回调，回调基于组合关系来实现，把一个对象传递给另一个对象，是一种对象之间的关系。模版模式基于继承关系来实现，子类重写父类的抽象方法，是一种类之间的关系；异步回调，更类似观察者模式。</p>\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;fmt&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> ISMS <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">    send(content <span class=\"type\">string</span>, phone <span class=\"type\">int</span>) <span class=\"type\">error</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> sms <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    ISMS</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(s *sms)</span></span> Valid(content <span class=\"type\">string</span>) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(content) &gt; <span class=\"number\">63</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> fmt.Errorf(<span class=\"string\">&quot;content is too long&quot;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(s *sms)</span></span> Send(content <span class=\"type\">string</span>, phone <span class=\"type\">int</span>) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> err := s.Valid(content); err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> err</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> s.send(content, phone)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">type</span> TelecomSms <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">    *sms</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewTelecomSms</span><span class=\"params\">()</span></span> *TelecomSms &#123;</span><br><span class=\"line\">    tel := &amp;TelecomSms&#123;&#125;</span><br><span class=\"line\">    tel.sms = &amp;sms&#123;ISMS: tel&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> tel</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(tel *TelecomSms)</span></span> send(content <span class=\"type\">string</span>, phone <span class=\"type\">int</span>) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">    fmt.Println(<span class=\"string\">&quot;send by telecom success&quot;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> design</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">    <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\">    <span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">Test_sms_Send</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">    tel := NewTelecomSms()</span><br><span class=\"line\">    err := tel.Send(<span class=\"string\">&quot;test&quot;</span>, <span class=\"number\">123456</span>)</span><br><span class=\"line\">    assert.NoError(t, err)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","categories":["go"],"tags":["go"]},{"title":"策略模式","url":"/go/design/strategy.html","content":"<h2 id=\"策略模式\"><a href=\"#策略模式\" class=\"headerlink\" title=\"策略模式\"></a>策略模式</h2><blockquote>\n<p>定义： 定义一组算法类，将每个算法分别封装起来，让他们可以互相替换，策略模式可以使算法的变化独立于使用它们的客户端。</p>\n</blockquote>\n<span id=\"more\"></span>\n\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> strategy</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">&quot;fmt&quot;</span></span><br><span class=\"line\">\t<span class=\"string\">&quot;io/ioutil&quot;</span></span><br><span class=\"line\">\t<span class=\"string\">&quot;os&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// StorageStrategy 存储策略</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> StorageStrategy <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">\tSave(name <span class=\"type\">string</span>, data []<span class=\"type\">byte</span>) <span class=\"type\">error</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> strategys = <span class=\"keyword\">map</span>[<span class=\"type\">string</span>]StorageStrategy&#123;</span><br><span class=\"line\">\t<span class=\"string\">&quot;file&quot;</span>:         &amp;fileStorage&#123;&#125;,</span><br><span class=\"line\">\t<span class=\"string\">&quot;encrypt_file&quot;</span>: &amp;encryptFileStorage&#123;&#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// NewStorageStrategy NewStorageStrategy</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewStorageStrategy</span><span class=\"params\">(t <span class=\"type\">string</span>)</span></span> (StorageStrategy, <span class=\"type\">error</span>) &#123;</span><br><span class=\"line\">\ts, ok := strategys[t]</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> !ok &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">nil</span>, fmt.Errorf(<span class=\"string\">&quot;not found StorageStrategy: %s&quot;</span>, t)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> s, <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// FileStorage 保存到文件</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> fileStorage <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Save Save</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(s *fileStorage)</span></span> Save(name <span class=\"type\">string</span>, data []<span class=\"type\">byte</span>) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> ioutil.WriteFile(name, data, os.ModeAppend)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// encryptFileStorage 加密保存到文件</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> encryptFileStorage <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Save Save</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(s *encryptFileStorage)</span></span> Save(name <span class=\"type\">string</span>, data []<span class=\"type\">byte</span>) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 加密</span></span><br><span class=\"line\">\tdata, err := encrypt(data)</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> err</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> ioutil.WriteFile(name, data, os.ModeAppend)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">encrypt</span><span class=\"params\">(data []<span class=\"type\">byte</span>)</span></span> ([]<span class=\"type\">byte</span>, <span class=\"type\">error</span>) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 这里实现加密算法</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> data, <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> strategy</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">Test_demo</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 假设这里获取数据，以及数据是否敏感</span></span><br><span class=\"line\">\tdata, sensitive := getData()</span><br><span class=\"line\">\tstrategyType := <span class=\"string\">&quot;file&quot;</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> sensitive &#123;</span><br><span class=\"line\">\t\tstrategyType = <span class=\"string\">&quot;encrypt_file&quot;</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tstorage, err := NewStorageStrategy(strategyType)</span><br><span class=\"line\">\tassert.NoError(t, err)</span><br><span class=\"line\">\tassert.NoError(t, storage.Save(<span class=\"string\">&quot;./test.txt&quot;</span>, data))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// getData 获取数据的方法</span></span><br><span class=\"line\"><span class=\"comment\">// 返回数据，以及数据是否敏感</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">getData</span><span class=\"params\">()</span></span> ([]<span class=\"type\">byte</span>, <span class=\"type\">bool</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> []<span class=\"type\">byte</span>(<span class=\"string\">&quot;test data&quot;</span>), <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","categories":["go"],"tags":["go"]},{"title":"责任链模式","url":"/go/design/chain.html","content":"<h2 id=\"职责链模式\"><a href=\"#职责链模式\" class=\"headerlink\" title=\"职责链模式\"></a>职责链模式</h2><blockquote>\n<p>定义： 将请求的发送和接受解藕，让多个接收对象都有机会处理这个请求，将这些接收对象,</p>\n</blockquote>\n<span id=\"more\"></span>\n\n\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Package chain 职责链模式</span></span><br><span class=\"line\"><span class=\"comment\">// 🌰 假设我们现在有个校园论坛，由于社区规章制度、广告、法律法规的原因需要对用户的发言进行敏感词过滤</span></span><br><span class=\"line\"><span class=\"comment\">//    如果被判定为敏感词，那么这篇帖子将会被封禁</span></span><br><span class=\"line\"><span class=\"keyword\">package</span> chain</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// SensitiveWordFilter 敏感词过滤器，判定是否是敏感词</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> SensitiveWordFilter <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">\tFilter(content <span class=\"type\">string</span>) <span class=\"type\">bool</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// SensitiveWordFilterChain 职责链</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> SensitiveWordFilterChain <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\tfilters []SensitiveWordFilter</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// AddFilter 添加一个过滤器</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(c *SensitiveWordFilterChain)</span></span> AddFilter(filter SensitiveWordFilter) &#123;</span><br><span class=\"line\">\tc.filters = <span class=\"built_in\">append</span>(c.filters, filter)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Filter 执行过滤</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(c *SensitiveWordFilterChain)</span></span> Filter(content <span class=\"type\">string</span>) <span class=\"type\">bool</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> _, filter := <span class=\"keyword\">range</span> c.filters &#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">// 如果发现敏感直接返回结果</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> filter.Filter(content) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// AdSensitiveWordFilter 广告</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> AdSensitiveWordFilter <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Filter 实现过滤算法</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(f *AdSensitiveWordFilter)</span></span> Filter(content <span class=\"type\">string</span>) <span class=\"type\">bool</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// <span class=\"doctag\">TODO:</span> 实现算法</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// PoliticalWordFilter 政治敏感</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> PoliticalWordFilter <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Filter 实现过滤算法</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(f *PoliticalWordFilter)</span></span> Filter(content <span class=\"type\">string</span>) <span class=\"type\">bool</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// <span class=\"doctag\">TODO:</span> 实现算法</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> chain</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestSensitiveWordFilterChain_Filter</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\tchain := &amp;SensitiveWordFilterChain&#123;&#125;</span><br><span class=\"line\">\tchain.AddFilter(&amp;AdSensitiveWordFilter&#123;&#125;)</span><br><span class=\"line\">\tassert.Equal(t, <span class=\"literal\">false</span>, chain.Filter(<span class=\"string\">&quot;test&quot;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\">\tchain.AddFilter(&amp;PoliticalWordFilter&#123;&#125;)</span><br><span class=\"line\">\tassert.Equal(t, <span class=\"literal\">true</span>, chain.Filter(<span class=\"string\">&quot;test&quot;</span>))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","categories":["go"],"tags":["go"]},{"title":"迭代器模式","url":"/go/design/iterator.html","content":"<h2 id=\"迭代器模式\"><a href=\"#迭代器模式\" class=\"headerlink\" title=\"迭代器模式\"></a>迭代器模式</h2><blockquote>\n<p>定义：迭代器模式将集合对象的便利操作从集合类中拆分出来，放到迭代器类中，让两张职责更加单一</p>\n</blockquote>\n<span id=\"more\"></span>\n\n\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> iterator</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Iterator 迭代器接口</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Iterator <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">\tHasNext() <span class=\"type\">bool</span></span><br><span class=\"line\">\tNext()</span><br><span class=\"line\">\t<span class=\"comment\">// 获取当前元素，由于 Go 1.15 中还没有泛型，所以我们直接返回 interface&#123;&#125;</span></span><br><span class=\"line\">\tCurrentItem() <span class=\"keyword\">interface</span>&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ArrayInt 数组</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> ArrayInt []<span class=\"type\">int</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Iterator 返回迭代器</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(a ArrayInt)</span></span> Iterator() Iterator &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &amp;ArrayIntIterator&#123;</span><br><span class=\"line\">\t\tarrayInt: a,</span><br><span class=\"line\">\t\tindex:    <span class=\"number\">0</span>,</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ArrayIntIterator 数组迭代</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> ArrayIntIterator <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\tarrayInt ArrayInt</span><br><span class=\"line\">\tindex    <span class=\"type\">int</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// HasNext 是否有下一个</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(iter *ArrayIntIterator)</span></span> HasNext() <span class=\"type\">bool</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> iter.index &lt; <span class=\"built_in\">len</span>(iter.arrayInt)<span class=\"number\">-1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Next 游标加一</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(iter *ArrayIntIterator)</span></span> Next() &#123;</span><br><span class=\"line\">\titer.index++</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// CurrentItem 获取当前元素</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(iter *ArrayIntIterator)</span></span> CurrentItem() <span class=\"keyword\">interface</span>&#123;&#125; &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> iter.arrayInt[iter.index]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> iterator</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestArrayInt_Iterator</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\tdata := ArrayInt&#123;<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>&#125;</span><br><span class=\"line\">\titerator := data.Iterator()</span><br><span class=\"line\">\t<span class=\"comment\">// i 用于测试</span></span><br><span class=\"line\">\ti := <span class=\"number\">0</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> iterator.HasNext() &#123;</span><br><span class=\"line\">\t\tassert.Equal(t, data[i], iterator.CurrentItem())</span><br><span class=\"line\">\t\titerator.Next()</span><br><span class=\"line\">\t\ti++</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","categories":["go"],"tags":["go"]},{"title":"状态模式","url":"/go/design/state.html","content":"<h2 id=\"状态模式\"><a href=\"#状态模式\" class=\"headerlink\" title=\"状态模式\"></a>状态模式</h2><blockquote>\n<p>定义：引入状态模式来写状态机会有引入比较多的结构体，并且改动代码的时候如果要新增或者是删除某一个状态的话，修改也需要在其他状态的结构体方法中修改，所以这个不太适合状态经常变更或者是状态很多的情况</p>\n</blockquote>\n<span id=\"more\"></span>\n\n\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Package state 状态模式</span></span><br><span class=\"line\"><span class=\"comment\">// 假设我们有一个报销的流程: 员工提交报销申请 -&gt; 直属部门领导审批 -&gt; 财务审批 -&gt; 结束</span></span><br><span class=\"line\"><span class=\"comment\">// 在这个审批流中，处在不同的环节就是不同的状态</span></span><br><span class=\"line\"><span class=\"comment\">// 而流程的审批、驳回就是不同的事件</span></span><br><span class=\"line\"><span class=\"keyword\">package</span> state</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;fmt&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Machine 状态机</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Machine <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\tstate IState</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// SetState 更新状态</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(m *Machine)</span></span> SetState(state IState) &#123;</span><br><span class=\"line\">\tm.state = state</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// GetStateName 获取当前状态</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(m *Machine)</span></span> GetStateName() <span class=\"type\">string</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> m.state.GetName()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(m *Machine)</span></span> Approval() &#123;</span><br><span class=\"line\">\tm.state.Approval(m)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(m *Machine)</span></span> Reject() &#123;</span><br><span class=\"line\">\tm.state.Reject(m)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// IState 状态</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> IState <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 审批通过</span></span><br><span class=\"line\">\tApproval(m *Machine)</span><br><span class=\"line\">\t<span class=\"comment\">// 驳回</span></span><br><span class=\"line\">\tReject(m *Machine)</span><br><span class=\"line\">\t<span class=\"comment\">// 获取当前状态名称</span></span><br><span class=\"line\">\tGetName() <span class=\"type\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// leaderApproveState 直属领导审批</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> leaderApproveState <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Approval 获取状态名字</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(leaderApproveState)</span></span> Approval(m *Machine) &#123;</span><br><span class=\"line\">\tfmt.Println(<span class=\"string\">&quot;leader 审批成功&quot;</span>)</span><br><span class=\"line\">\tm.SetState(GetFinanceApproveState())</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// GetName 获取状态名字</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(leaderApproveState)</span></span> GetName() <span class=\"type\">string</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;LeaderApproveState&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Reject 获取状态名字</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(leaderApproveState)</span></span> Reject(m *Machine) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">GetLeaderApproveState</span><span class=\"params\">()</span></span> IState &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &amp;leaderApproveState&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// financeApproveState 财务审批</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> financeApproveState <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Approval 审批通过</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(f financeApproveState)</span></span> Approval(m *Machine) &#123;</span><br><span class=\"line\">\tfmt.Println(<span class=\"string\">&quot;财务审批成功&quot;</span>)</span><br><span class=\"line\">\tfmt.Println(<span class=\"string\">&quot;出发打款操作&quot;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 拒绝</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(f financeApproveState)</span></span> Reject(m *Machine) &#123;</span><br><span class=\"line\">\tm.SetState(GetLeaderApproveState())</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// GetName 获取名字</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(f financeApproveState)</span></span> GetName() <span class=\"type\">string</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"string\">&quot;FinanceApproveState&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// GetFinanceApproveState GetFinanceApproveState</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">GetFinanceApproveState</span><span class=\"params\">()</span></span> IState &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &amp;financeApproveState&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> state</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestMachine_GetStateName</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\tm := &amp;Machine&#123;state: GetLeaderApproveState()&#125;</span><br><span class=\"line\">\tassert.Equal(t, <span class=\"string\">&quot;LeaderApproveState&quot;</span>, m.GetStateName())</span><br><span class=\"line\">\tm.Approval()</span><br><span class=\"line\">\tassert.Equal(t, <span class=\"string\">&quot;FinanceApproveState&quot;</span>, m.GetStateName())</span><br><span class=\"line\">\tm.Reject()</span><br><span class=\"line\">\tassert.Equal(t, <span class=\"string\">&quot;LeaderApproveState&quot;</span>, m.GetStateName())</span><br><span class=\"line\">\tm.Approval()</span><br><span class=\"line\">\tassert.Equal(t, <span class=\"string\">&quot;FinanceApproveState&quot;</span>, m.GetStateName())</span><br><span class=\"line\">\tm.Approval()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","categories":["go"],"tags":["go"]},{"title":"访问者模式","url":"/go/design/visitor.html","content":"<h2 id=\"访问者模式\"><a href=\"#访问者模式\" class=\"headerlink\" title=\"访问者模式\"></a>访问者模式</h2><blockquote>\n<p>定义：允许一个或者多个操作应用到一组对象上，解藕操作和对象本身</p>\n</blockquote>\n<span id=\"more\"></span>\n\n\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> visitor</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">&quot;fmt&quot;</span></span><br><span class=\"line\">\t<span class=\"string\">&quot;path&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Visitor 访问者</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Visitor <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">\tVisit(IResourceFile) <span class=\"type\">error</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// IResourceFile IResourceFile</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> IResourceFile <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">\tAccept(Visitor) <span class=\"type\">error</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// NewResourceFile NewResourceFile</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewResourceFile</span><span class=\"params\">(filepath <span class=\"type\">string</span>)</span></span> (IResourceFile, <span class=\"type\">error</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">switch</span> path.Ext(filepath) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">case</span> <span class=\"string\">&quot;.ppt&quot;</span>:</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> &amp;PPTFile&#123;path: filepath&#125;, <span class=\"literal\">nil</span></span><br><span class=\"line\">\t<span class=\"keyword\">case</span> <span class=\"string\">&quot;.pdf&quot;</span>:</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> &amp;PdfFile&#123;path: filepath&#125;, <span class=\"literal\">nil</span></span><br><span class=\"line\">\t<span class=\"keyword\">default</span>:</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">nil</span>, fmt.Errorf(<span class=\"string\">&quot;not found file type: %s&quot;</span>, filepath)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// PdfFile PdfFile</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> PdfFile <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\tpath <span class=\"type\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Accept Accept</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(f *PdfFile)</span></span> Accept(visitor Visitor) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> visitor.Visit(f)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// PPTFile PPTFile</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> PPTFile <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\tpath <span class=\"type\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Accept Accept</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(f *PPTFile)</span></span> Accept(visitor Visitor) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> visitor.Visit(f)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Compressor 实现压缩功能</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Compressor <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Visit 实现访问者模式方法</span></span><br><span class=\"line\"><span class=\"comment\">// 我们可以发现由于没有函数重载，我们只能通过断言来根据不同的类型调用不同函数</span></span><br><span class=\"line\"><span class=\"comment\">// 但是我们即使不采用访问者模式，我们其实也是可以这么操作的</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(c *Compressor)</span></span> Visit(r IResourceFile) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">switch</span> f := r.(<span class=\"keyword\">type</span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">case</span> *PPTFile:</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> c.VisitPPTFile(f)</span><br><span class=\"line\">\t<span class=\"keyword\">case</span> *PdfFile:</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> c.VisitPDFFile(f)</span><br><span class=\"line\">\t<span class=\"keyword\">default</span>:</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> fmt.Errorf(<span class=\"string\">&quot;not found resource typr: %#v&quot;</span>, r)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// VisitPPTFile VisitPPTFile</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(c *Compressor)</span></span> VisitPPTFile(f *PPTFile) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">\tfmt.Println(<span class=\"string\">&quot;this is ppt file&quot;</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// VisitPDFFile VisitPDFFile</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(c *Compressor)</span></span> VisitPDFFile(f *PdfFile) <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">\tfmt.Println(<span class=\"string\">&quot;this is pdf file&quot;</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> visitor</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"string\">&quot;github.com/stretchr/testify/require&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestCompressor_Visit</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\ttests := []<span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\t\tname    <span class=\"type\">string</span></span><br><span class=\"line\">\t\tpath    <span class=\"type\">string</span></span><br><span class=\"line\">\t\twantErr <span class=\"type\">string</span></span><br><span class=\"line\">\t&#125;&#123;</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tname: <span class=\"string\">&quot;pdf&quot;</span>,</span><br><span class=\"line\">\t\t\tpath: <span class=\"string\">&quot;./xx.pdf&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tname: <span class=\"string\">&quot;ppt&quot;</span>,</span><br><span class=\"line\">\t\t\tpath: <span class=\"string\">&quot;./xx.ppt&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tname:    <span class=\"string\">&quot;404&quot;</span>,</span><br><span class=\"line\">\t\t\tpath:    <span class=\"string\">&quot;./xx.xx&quot;</span>,</span><br><span class=\"line\">\t\t\twantErr: <span class=\"string\">&quot;not found file type&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> _, tt := <span class=\"keyword\">range</span> tests &#123;</span><br><span class=\"line\">\t\tt.Run(tt.name, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\t\t\tf, err := NewResourceFile(tt.path)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> tt.wantErr != <span class=\"string\">&quot;&quot;</span> &#123;</span><br><span class=\"line\">\t\t\t\trequire.Error(t, err)</span><br><span class=\"line\">\t\t\t\trequire.Contains(t, err.Error(), tt.wantErr)</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\trequire.NoError(t, err)</span><br><span class=\"line\">\t\t\tcompressor := &amp;Compressor&#123;&#125;</span><br><span class=\"line\">\t\t\tf.Accept(compressor)</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 不用 Accept 其实也是可以的</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestCompressor_Visit2</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\ttests := []<span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\t\tname    <span class=\"type\">string</span></span><br><span class=\"line\">\t\tpath    <span class=\"type\">string</span></span><br><span class=\"line\">\t\twantErr <span class=\"type\">string</span></span><br><span class=\"line\">\t&#125;&#123;</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tname: <span class=\"string\">&quot;pdf&quot;</span>,</span><br><span class=\"line\">\t\t\tpath: <span class=\"string\">&quot;./xx.pdf&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tname: <span class=\"string\">&quot;ppt&quot;</span>,</span><br><span class=\"line\">\t\t\tpath: <span class=\"string\">&quot;./xx.ppt&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tname:    <span class=\"string\">&quot;404&quot;</span>,</span><br><span class=\"line\">\t\t\tpath:    <span class=\"string\">&quot;./xx.xx&quot;</span>,</span><br><span class=\"line\">\t\t\twantErr: <span class=\"string\">&quot;not found file type&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> _, tt := <span class=\"keyword\">range</span> tests &#123;</span><br><span class=\"line\">\t\tt.Run(tt.name, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\t\t\tf, err := NewResourceFile(tt.path)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> tt.wantErr != <span class=\"string\">&quot;&quot;</span> &#123;</span><br><span class=\"line\">\t\t\t\trequire.Error(t, err)</span><br><span class=\"line\">\t\t\t\trequire.Contains(t, err.Error(), tt.wantErr)</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\trequire.NoError(t, err)</span><br><span class=\"line\">\t\t\tcompressor := &amp;Compressor&#123;&#125;</span><br><span class=\"line\">\t\t\tcompressor.Visit(f)</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","categories":["go"],"tags":["go"]},{"title":"备忘录模式","url":"/go/design/memento.html","content":"<h2 id=\"备忘录模式\"><a href=\"#备忘录模式\" class=\"headerlink\" title=\"备忘录模式\"></a>备忘录模式</h2><blockquote>\n<p>定义：在不违背封装原则的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状态，以便之后恢复为先前的状态</p>\n</blockquote>\n<span id=\"more\"></span>\n\n\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Package memento 备忘录模式</span></span><br><span class=\"line\"><span class=\"comment\">// 下面这个例子采用原课程的例子，一个输入程序</span></span><br><span class=\"line\"><span class=\"comment\">// 如果输入 :list 则显示当前保存的内容</span></span><br><span class=\"line\"><span class=\"comment\">// 如果输入 :undo 则删除上一次的输入</span></span><br><span class=\"line\"><span class=\"comment\">// 如果输入其他的内容则追加保存</span></span><br><span class=\"line\"><span class=\"keyword\">package</span> memento</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// InputText 用于保存数据</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> InputText <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\tcontent <span class=\"type\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Append 追加数据</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(in *InputText)</span></span> Append(content <span class=\"type\">string</span>) &#123;</span><br><span class=\"line\">\tin.content += content</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// GetText 获取数据</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(in *InputText)</span></span> GetText() <span class=\"type\">string</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> in.content</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Snapshot 创建快照</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(in *InputText)</span></span> Snapshot() *Snapshot &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &amp;Snapshot&#123;content: in.content&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Restore 从快照中恢复</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(in *InputText)</span></span> Restore(s *Snapshot) &#123;</span><br><span class=\"line\">\tin.content = s.GetText()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Snapshot 快照，用于存储数据快照</span></span><br><span class=\"line\"><span class=\"comment\">// 对于快照来说，只能不能被外部（不同包）修改，只能获取数据，满足封装的特性</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Snapshot <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\tcontent <span class=\"type\">string</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// GetText GetText</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(s *Snapshot)</span></span> GetText() <span class=\"type\">string</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> s.content</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> memento</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestDemo</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\tin := &amp;InputText&#123;&#125;</span><br><span class=\"line\">\tsnapshots := []*Snapshot&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\ttests := []<span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\t\tinput <span class=\"type\">string</span></span><br><span class=\"line\">\t\twant  <span class=\"type\">string</span></span><br><span class=\"line\">\t&#125;&#123;</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tinput: <span class=\"string\">&quot;:list&quot;</span>,</span><br><span class=\"line\">\t\t\twant:  <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tinput: <span class=\"string\">&quot;hello&quot;</span>,</span><br><span class=\"line\">\t\t\twant:  <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tinput: <span class=\"string\">&quot;:list&quot;</span>,</span><br><span class=\"line\">\t\t\twant:  <span class=\"string\">&quot;hello&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tinput: <span class=\"string\">&quot;world&quot;</span>,</span><br><span class=\"line\">\t\t\twant:  <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tinput: <span class=\"string\">&quot;:list&quot;</span>,</span><br><span class=\"line\">\t\t\twant:  <span class=\"string\">&quot;helloworld&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tinput: <span class=\"string\">&quot;:undo&quot;</span>,</span><br><span class=\"line\">\t\t\twant:  <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tinput: <span class=\"string\">&quot;:list&quot;</span>,</span><br><span class=\"line\">\t\t\twant:  <span class=\"string\">&quot;hello&quot;</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> _, tt := <span class=\"keyword\">range</span> tests &#123;</span><br><span class=\"line\">\t\tt.Run(tt.input, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">switch</span> tt.input &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> <span class=\"string\">&quot;:list&quot;</span>:</span><br><span class=\"line\">\t\t\t\tassert.Equal(t, tt.want, in.GetText())</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> <span class=\"string\">&quot;:undo&quot;</span>:</span><br><span class=\"line\">\t\t\t\tin.Restore(snapshots[<span class=\"built_in\">len</span>(snapshots)<span class=\"number\">-1</span>])</span><br><span class=\"line\">\t\t\t\tsnapshots = snapshots[:<span class=\"built_in\">len</span>(snapshots)<span class=\"number\">-1</span>]</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">default</span>:</span><br><span class=\"line\">\t\t\t\tsnapshots = <span class=\"built_in\">append</span>(snapshots, in.Snapshot())</span><br><span class=\"line\">\t\t\t\tin.Append(tt.input)</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","categories":["go"],"tags":["go"]},{"title":"命令模式","url":"/go/design/command.html","content":"<h2 id=\"命令模式\"><a href=\"#命令模式\" class=\"headerlink\" title=\"命令模式\"></a>命令模式</h2><blockquote>\n<p>定义：命令模式将请求（命令）封装为一个对象，可以使用不同的请求参数化其他对象（将不同请求注入到其他对象），冰能够支持请求（命令）的排队执行，记录日志，撤销等（附加控制）功能</p>\n</blockquote>\n<span id=\"more\"></span>\n\n\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Package command 命令模式</span></span><br><span class=\"line\"><span class=\"comment\">// 这是示例二，采用将直接返回一个函数，不用对象</span></span><br><span class=\"line\"><span class=\"comment\">// 示例说明:</span></span><br><span class=\"line\"><span class=\"comment\">// 假设现在有一个游戏服务，我们正在实现一个游戏后端</span></span><br><span class=\"line\"><span class=\"comment\">// 使用一个 goroutine 不断接收来自客户端请求的命令，并且将它放置到一个队列当中</span></span><br><span class=\"line\"><span class=\"comment\">// 然后我们在另外一个 goroutine 中来执行它</span></span><br><span class=\"line\"><span class=\"keyword\">package</span> command</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;fmt&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ICommand 命令</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> ICommand <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">\tExecute() <span class=\"type\">error</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// StartCommand 游戏开始运行</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> StartCommand <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// NewStartCommand NewStartCommand</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewStartCommand</span><span class=\"params\">( /*正常情况下这里会有一些参数*/ )</span></span> *StartCommand &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &amp;StartCommand&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Execute Execute</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(c *StartCommand)</span></span> Execute() <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">\tfmt.Println(<span class=\"string\">&quot;game start&quot;</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ArchiveCommand 游戏存档</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> ArchiveCommand <span class=\"keyword\">struct</span>&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// NewArchiveCommand NewArchiveCommand</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewArchiveCommand</span><span class=\"params\">( /*正常情况下这里会有一些参数*/ )</span></span> *ArchiveCommand &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &amp;ArchiveCommand&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Execute Execute</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(c *ArchiveCommand)</span></span> Execute() <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">\tfmt.Println(<span class=\"string\">&quot;game archive&quot;</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Command 命令</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Command <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span> <span class=\"type\">error</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// StartCommandFunc 返回一个 Command 命令</span></span><br><span class=\"line\"><span class=\"comment\">// 是因为正常情况下不会是这么简单的函数</span></span><br><span class=\"line\"><span class=\"comment\">// 一般都会有一些参数</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">StartCommandFunc</span><span class=\"params\">()</span></span> Command &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span> <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">\t\tfmt.Println(<span class=\"string\">&quot;game start&quot;</span>)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ArchiveCommandFunc ArchiveCommandFunc</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">ArchiveCommandFunc</span><span class=\"params\">()</span></span> Command &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span> <span class=\"type\">error</span> &#123;</span><br><span class=\"line\">\t\tfmt.Println(<span class=\"string\">&quot;game archive&quot;</span>)</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">nil</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> command</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">&quot;fmt&quot;</span></span><br><span class=\"line\">\t<span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\">\t<span class=\"string\">&quot;time&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestDemo</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 用于测试，模拟来自客户端的事件</span></span><br><span class=\"line\">\teventChan := <span class=\"built_in\">make</span>(<span class=\"keyword\">chan</span> <span class=\"type\">string</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">go</span> <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">\t\tevents := []<span class=\"type\">string</span>&#123;<span class=\"string\">&quot;start&quot;</span>, <span class=\"string\">&quot;archive&quot;</span>, <span class=\"string\">&quot;start&quot;</span>, <span class=\"string\">&quot;archive&quot;</span>, <span class=\"string\">&quot;start&quot;</span>, <span class=\"string\">&quot;start&quot;</span>&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> _, e := <span class=\"keyword\">range</span> events &#123;</span><br><span class=\"line\">\t\t\teventChan &lt;- e</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;()</span><br><span class=\"line\">\t<span class=\"keyword\">defer</span> <span class=\"built_in\">close</span>(eventChan)</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// 使用命令队列缓存命令</span></span><br><span class=\"line\">\tcommands := <span class=\"built_in\">make</span>(<span class=\"keyword\">chan</span> ICommand, <span class=\"number\">1000</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">defer</span> <span class=\"built_in\">close</span>(commands)</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">go</span> <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 从请求或者其他地方获取相关事件参数</span></span><br><span class=\"line\">\t\t\tevent, ok := &lt;-eventChan</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> !ok &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">var</span> command ICommand</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">switch</span> event &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> <span class=\"string\">&quot;start&quot;</span>:</span><br><span class=\"line\">\t\t\t\tcommand = NewStartCommand()</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> <span class=\"string\">&quot;archive&quot;</span>:</span><br><span class=\"line\">\t\t\t\tcommand = NewArchiveCommand()</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 将命令入队</span></span><br><span class=\"line\">\t\t\tcommands &lt;- command</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;()</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">select</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> c := &lt;-commands:</span><br><span class=\"line\">\t\t\tc.Execute()</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> &lt;-time.After(<span class=\"number\">1</span> * time.Second):</span><br><span class=\"line\">\t\t\tfmt.Println(<span class=\"string\">&quot;timeout 1s&quot;</span>)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestDemoFunc</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 用于测试，模拟来自客户端的事件</span></span><br><span class=\"line\">\teventChan := <span class=\"built_in\">make</span>(<span class=\"keyword\">chan</span> <span class=\"type\">string</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">go</span> <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">\t\tevents := []<span class=\"type\">string</span>&#123;<span class=\"string\">&quot;start&quot;</span>, <span class=\"string\">&quot;archive&quot;</span>, <span class=\"string\">&quot;start&quot;</span>, <span class=\"string\">&quot;archive&quot;</span>, <span class=\"string\">&quot;start&quot;</span>, <span class=\"string\">&quot;start&quot;</span>&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> _, e := <span class=\"keyword\">range</span> events &#123;</span><br><span class=\"line\">\t\t\teventChan &lt;- e</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t&#125;()</span><br><span class=\"line\">\t<span class=\"keyword\">defer</span> <span class=\"built_in\">close</span>(eventChan)</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// 使用命令队列缓存命令</span></span><br><span class=\"line\">\tcommands := <span class=\"built_in\">make</span>(<span class=\"keyword\">chan</span> Command, <span class=\"number\">1000</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">defer</span> <span class=\"built_in\">close</span>(commands)</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">go</span> <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 从请求或者其他地方获取相关事件参数</span></span><br><span class=\"line\">\t\t\tevent, ok := &lt;-eventChan</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> !ok &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">return</span></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">var</span> command Command</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">switch</span> event &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> <span class=\"string\">&quot;start&quot;</span>:</span><br><span class=\"line\">\t\t\t\tcommand = StartCommandFunc()</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">case</span> <span class=\"string\">&quot;archive&quot;</span>:</span><br><span class=\"line\">\t\t\t\tcommand = ArchiveCommandFunc()</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 将命令入队</span></span><br><span class=\"line\">\t\t\tcommands &lt;- command</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;()</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">select</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> c := &lt;-commands:</span><br><span class=\"line\">\t\t\tc()</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> &lt;-time.After(<span class=\"number\">1</span> * time.Second):</span><br><span class=\"line\">\t\t\tfmt.Println(<span class=\"string\">&quot;timeout 1s&quot;</span>)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","categories":["go"],"tags":["go"]},{"title":"中介模式","url":"/go/design/mediator.html","content":"<h2 id=\"中介模式\"><a href=\"#中介模式\" class=\"headerlink\" title=\"中介模式\"></a>中介模式</h2><blockquote>\n<p>定义：中介模式定义了一个单独（中介）对象，来封装一组对象之前的交互，将这组对象之间的交互委派与中介对象交互，避免对象之前的直接交互</p>\n</blockquote>\n<span id=\"more\"></span>\n\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Package mediator 中介模式</span></span><br><span class=\"line\"><span class=\"comment\">// 采用原课程的示例，并且做了一些裁剪</span></span><br><span class=\"line\"><span class=\"comment\">// 假设我们现在有一个较为复杂的对话框，里面包括，登录组件，注册组件，以及选择框</span></span><br><span class=\"line\"><span class=\"comment\">// 当选择框选择“登录”时，展示登录相关组件</span></span><br><span class=\"line\"><span class=\"comment\">// 当选择框选择“注册”时，展示注册相关组件</span></span><br><span class=\"line\"><span class=\"keyword\">package</span> mediator</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">&quot;fmt&quot;</span></span><br><span class=\"line\">\t<span class=\"string\">&quot;reflect&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Input 假设这表示一个输入框</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Input <span class=\"type\">string</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// String String</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(i Input)</span></span> String() <span class=\"type\">string</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"type\">string</span>(i)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Selection 假设这表示一个选择框</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Selection <span class=\"type\">string</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Selected 当前选中的对象</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(s Selection)</span></span> Selected() <span class=\"type\">string</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"type\">string</span>(s)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Button 假设这表示一个按钮</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Button <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\tonClick <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// SetOnClick 添加点击事件回调</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(b *Button)</span></span> SetOnClick(f <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">()</span></span>) &#123;</span><br><span class=\"line\">\tb.onClick = f</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// IMediator 中介模式接口</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> IMediator <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">\tHandleEvent(component <span class=\"keyword\">interface</span>&#123;&#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Dialog 对话框组件</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> Dialog <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\tLoginButton         *Button</span><br><span class=\"line\">\tRegButton           *Button</span><br><span class=\"line\">\tSelection           *Selection</span><br><span class=\"line\">\tUsernameInput       *Input</span><br><span class=\"line\">\tPasswordInput       *Input</span><br><span class=\"line\">\tRepeatPasswordInput *Input</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// HandleEvent HandleEvent</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(d *Dialog)</span></span> HandleEvent(component <span class=\"keyword\">interface</span>&#123;&#125;) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">switch</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">case</span> reflect.DeepEqual(component, d.Selection):</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> d.Selection.Selected() == <span class=\"string\">&quot;登录&quot;</span> &#123;</span><br><span class=\"line\">\t\t\tfmt.Println(<span class=\"string\">&quot;select login&quot;</span>)</span><br><span class=\"line\">\t\t\tfmt.Printf(<span class=\"string\">&quot;show: %s\\n&quot;</span>, d.UsernameInput)</span><br><span class=\"line\">\t\t\tfmt.Printf(<span class=\"string\">&quot;show: %s\\n&quot;</span>, d.PasswordInput)</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> d.Selection.Selected() == <span class=\"string\">&quot;注册&quot;</span> &#123;</span><br><span class=\"line\">\t\t\tfmt.Println(<span class=\"string\">&quot;select register&quot;</span>)</span><br><span class=\"line\">\t\t\tfmt.Printf(<span class=\"string\">&quot;show: %s\\n&quot;</span>, d.UsernameInput)</span><br><span class=\"line\">\t\t\tfmt.Printf(<span class=\"string\">&quot;show: %s\\n&quot;</span>, d.PasswordInput)</span><br><span class=\"line\">\t\t\tfmt.Printf(<span class=\"string\">&quot;show: %s\\n&quot;</span>, d.RepeatPasswordInput)</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"comment\">// others, 如果点击了登录按钮，注册按钮</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> mediator</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestDemo</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\tusernameInput := Input(<span class=\"string\">&quot;username input&quot;</span>)</span><br><span class=\"line\">\tpasswordInput := Input(<span class=\"string\">&quot;password input&quot;</span>)</span><br><span class=\"line\">\trepeatPwdInput := Input(<span class=\"string\">&quot;repeat password input&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">\tselection := Selection(<span class=\"string\">&quot;登录&quot;</span>)</span><br><span class=\"line\">\td := &amp;Dialog&#123;</span><br><span class=\"line\">\t\tSelection:           &amp;selection,</span><br><span class=\"line\">\t\tUsernameInput:       &amp;usernameInput,</span><br><span class=\"line\">\t\tPasswordInput:       &amp;passwordInput,</span><br><span class=\"line\">\t\tRepeatPasswordInput: &amp;repeatPwdInput,</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\td.HandleEvent(&amp;selection)</span><br><span class=\"line\"></span><br><span class=\"line\">\tregSelection := Selection(<span class=\"string\">&quot;注册&quot;</span>)</span><br><span class=\"line\">\td.Selection = &amp;regSelection</span><br><span class=\"line\">\td.HandleEvent(&amp;regSelection)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","categories":["go"],"tags":["go"]},{"title":"解释器模式","url":"/go/design/interpreter.html","content":"<h2 id=\"解释器模式\"><a href=\"#解释器模式\" class=\"headerlink\" title=\"解释器模式\"></a>解释器模式</h2><blockquote>\n<p>定义：为某个语言定义它的语法表示，并定义一个解释器来处理这个语法</p>\n</blockquote>\n<span id=\"more\"></span>\n\n\n<h3 id=\"代码实现\"><a href=\"#代码实现\" class=\"headerlink\" title=\"代码实现\"></a>代码实现</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Package interpreter 解释器模式</span></span><br><span class=\"line\"><span class=\"comment\">// 采用原课程的示例, 并且做了一下简化</span></span><br><span class=\"line\"><span class=\"comment\">// 假设我们现在有一个监控系统</span></span><br><span class=\"line\"><span class=\"comment\">// 现在需要实现一个告警模块，可以根据输入的告警规则来决定是否触发告警</span></span><br><span class=\"line\"><span class=\"comment\">// 告警规则支持 &amp;&amp;、&gt;、&lt; 3种运算符</span></span><br><span class=\"line\"><span class=\"comment\">// 其中 &gt;、&lt; 优先级比  &amp;&amp; 更高</span></span><br><span class=\"line\"><span class=\"keyword\">package</span> interpreter</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">&quot;fmt&quot;</span></span><br><span class=\"line\">\t<span class=\"string\">&quot;regexp&quot;</span></span><br><span class=\"line\">\t<span class=\"string\">&quot;strconv&quot;</span></span><br><span class=\"line\">\t<span class=\"string\">&quot;strings&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// AlertRule 告警规则</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> AlertRule <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\texpression IExpression</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// NewAlertRule NewAlertRule</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewAlertRule</span><span class=\"params\">(rule <span class=\"type\">string</span>)</span></span> (*AlertRule, <span class=\"type\">error</span>) &#123;</span><br><span class=\"line\">\texp, err := NewAndExpression(rule)</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &amp;AlertRule&#123;expression: exp&#125;, err</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Interpret 判断告警是否触发</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(r AlertRule)</span></span> Interpret(stats <span class=\"keyword\">map</span>[<span class=\"type\">string</span>]<span class=\"type\">float64</span>) <span class=\"type\">bool</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> r.expression.Interpret(stats)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// IExpression 表达式接口</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> IExpression <span class=\"keyword\">interface</span> &#123;</span><br><span class=\"line\">\tInterpret(stats <span class=\"keyword\">map</span>[<span class=\"type\">string</span>]<span class=\"type\">float64</span>) <span class=\"type\">bool</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// GreaterExpression &gt;</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> GreaterExpression <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\tkey   <span class=\"type\">string</span></span><br><span class=\"line\">\tvalue <span class=\"type\">float64</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Interpret Interpret</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(g GreaterExpression)</span></span> Interpret(stats <span class=\"keyword\">map</span>[<span class=\"type\">string</span>]<span class=\"type\">float64</span>) <span class=\"type\">bool</span> &#123;</span><br><span class=\"line\">\tv, ok := stats[g.key]</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> !ok &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> v &gt; g.value</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// NewGreaterExpression NewGreaterExpression</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewGreaterExpression</span><span class=\"params\">(exp <span class=\"type\">string</span>)</span></span> (*GreaterExpression, <span class=\"type\">error</span>) &#123;</span><br><span class=\"line\">\tdata := regexp.MustCompile(<span class=\"string\">`\\s+`</span>).Split(strings.TrimSpace(exp), <span class=\"number\">-1</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(data) != <span class=\"number\">3</span> || data[<span class=\"number\">1</span>] != <span class=\"string\">&quot;&gt;&quot;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">nil</span>, fmt.Errorf(<span class=\"string\">&quot;exp is invalid: %s&quot;</span>, exp)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tval, err := strconv.ParseFloat(data[<span class=\"number\">2</span>], <span class=\"number\">10</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">nil</span>, fmt.Errorf(<span class=\"string\">&quot;exp is invalid: %s&quot;</span>, exp)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &amp;GreaterExpression&#123;</span><br><span class=\"line\">\t\tkey:   data[<span class=\"number\">0</span>],</span><br><span class=\"line\">\t\tvalue: val,</span><br><span class=\"line\">\t&#125;, <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// LessExpression &lt;</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> LessExpression <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\tkey   <span class=\"type\">string</span></span><br><span class=\"line\">\tvalue <span class=\"type\">float64</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Interpret Interpret</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(g LessExpression)</span></span> Interpret(stats <span class=\"keyword\">map</span>[<span class=\"type\">string</span>]<span class=\"type\">float64</span>) <span class=\"type\">bool</span> &#123;</span><br><span class=\"line\">\tv, ok := stats[g.key]</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> !ok &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> v &lt; g.value</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// NewLessExpression NewLessExpression</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewLessExpression</span><span class=\"params\">(exp <span class=\"type\">string</span>)</span></span> (*LessExpression, <span class=\"type\">error</span>) &#123;</span><br><span class=\"line\">\tdata := regexp.MustCompile(<span class=\"string\">`\\s+`</span>).Split(strings.TrimSpace(exp), <span class=\"number\">-1</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(data) != <span class=\"number\">3</span> || data[<span class=\"number\">1</span>] != <span class=\"string\">&quot;&lt;&quot;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">nil</span>, fmt.Errorf(<span class=\"string\">&quot;exp is invalid: %s&quot;</span>, exp)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tval, err := strconv.ParseFloat(data[<span class=\"number\">2</span>], <span class=\"number\">10</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"literal\">nil</span>, fmt.Errorf(<span class=\"string\">&quot;exp is invalid: %s&quot;</span>, exp)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &amp;LessExpression&#123;</span><br><span class=\"line\">\t\tkey:   data[<span class=\"number\">0</span>],</span><br><span class=\"line\">\t\tvalue: val,</span><br><span class=\"line\">\t&#125;, <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// AndExpression &amp;&amp;</span></span><br><span class=\"line\"><span class=\"keyword\">type</span> AndExpression <span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\texpressions []IExpression</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Interpret Interpret</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"params\">(e AndExpression)</span></span> Interpret(stats <span class=\"keyword\">map</span>[<span class=\"type\">string</span>]<span class=\"type\">float64</span>) <span class=\"type\">bool</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> _, expression := <span class=\"keyword\">range</span> e.expressions &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> !expression.Interpret(stats) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// NewAndExpression NewAndExpression</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">NewAndExpression</span><span class=\"params\">(exp <span class=\"type\">string</span>)</span></span> (*AndExpression, <span class=\"type\">error</span>) &#123;</span><br><span class=\"line\">\texps := strings.Split(exp, <span class=\"string\">&quot;&amp;&amp;&quot;</span>)</span><br><span class=\"line\">\texpressions := <span class=\"built_in\">make</span>([]IExpression, <span class=\"built_in\">len</span>(exps))</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> i, e := <span class=\"keyword\">range</span> exps &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">var</span> expression IExpression</span><br><span class=\"line\">\t\t<span class=\"keyword\">var</span> err <span class=\"type\">error</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">switch</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> strings.Contains(e, <span class=\"string\">&quot;&gt;&quot;</span>):</span><br><span class=\"line\">\t\t\texpression, err = NewGreaterExpression(e)</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> strings.Contains(e, <span class=\"string\">&quot;&lt;&quot;</span>):</span><br><span class=\"line\">\t\t\texpression, err = NewLessExpression(e)</span><br><span class=\"line\">\t\t<span class=\"keyword\">default</span>:</span><br><span class=\"line\">\t\t\terr = fmt.Errorf(<span class=\"string\">&quot;exp is invalid: %s&quot;</span>, exp)</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> err != <span class=\"literal\">nil</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">nil</span>, err</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\texpressions[i] = expression</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &amp;AndExpression&#123;expressions: expressions&#125;, <span class=\"literal\">nil</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h3><figure class=\"highlight go\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> interpreter</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> (</span><br><span class=\"line\">\t<span class=\"string\">&quot;testing&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"string\">&quot;github.com/stretchr/testify/assert&quot;</span></span><br><span class=\"line\">\t<span class=\"string\">&quot;github.com/stretchr/testify/require&quot;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">TestAlertRule_Interpret</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\tstats := <span class=\"keyword\">map</span>[<span class=\"type\">string</span>]<span class=\"type\">float64</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;a&quot;</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;b&quot;</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">\t\t<span class=\"string\">&quot;c&quot;</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\ttests := []<span class=\"keyword\">struct</span> &#123;</span><br><span class=\"line\">\t\tname  <span class=\"type\">string</span></span><br><span class=\"line\">\t\tstats <span class=\"keyword\">map</span>[<span class=\"type\">string</span>]<span class=\"type\">float64</span></span><br><span class=\"line\">\t\trule  <span class=\"type\">string</span></span><br><span class=\"line\">\t\twant  <span class=\"type\">bool</span></span><br><span class=\"line\">\t&#125;&#123;</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tname:  <span class=\"string\">&quot;case1&quot;</span>,</span><br><span class=\"line\">\t\t\tstats: stats,</span><br><span class=\"line\">\t\t\trule:  <span class=\"string\">&quot;a &gt; 1 &amp;&amp; b &gt; 10 &amp;&amp; c &lt; 5&quot;</span>,</span><br><span class=\"line\">\t\t\twant:  <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tname:  <span class=\"string\">&quot;case2&quot;</span>,</span><br><span class=\"line\">\t\t\tstats: stats,</span><br><span class=\"line\">\t\t\trule:  <span class=\"string\">&quot;a &lt; 2 &amp;&amp; b &gt; 10 &amp;&amp; c &lt; 5&quot;</span>,</span><br><span class=\"line\">\t\t\twant:  <span class=\"literal\">false</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tname:  <span class=\"string\">&quot;case3&quot;</span>,</span><br><span class=\"line\">\t\t\tstats: stats,</span><br><span class=\"line\">\t\t\trule:  <span class=\"string\">&quot;a &lt; 5 &amp;&amp; b &gt; 1 &amp;&amp; c &lt; 10&quot;</span>,</span><br><span class=\"line\">\t\t\twant:  <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> _, tt := <span class=\"keyword\">range</span> tests &#123;</span><br><span class=\"line\">\t\tt.Run(tt.name, <span class=\"function\"><span class=\"keyword\">func</span><span class=\"params\">(t *testing.T)</span></span> &#123;</span><br><span class=\"line\">\t\t\tr, err := NewAlertRule(tt.rule)</span><br><span class=\"line\">\t\t\trequire.NoError(t, err)</span><br><span class=\"line\">\t\t\tassert.Equal(t, tt.want, r.Interpret(tt.stats))</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","categories":["go"],"tags":["go"]},{"title":"markdown语法","url":"/docs/markdown.html","content":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p><a class=\"link\"   href=\"http://www.markdown.cn/\" >Markdown<i class=\"fas fa-external-link-alt\"></i></a> 是一种可以使用普通文本编辑器编写的标记语言，通过简单的标记语法，它可以使普通文本内容具有一定的格式, Markdown 的目标是实现「易读易写」</p>\n<span id=\"more\"></span>\n<h2 id=\"区块元素\"><a href=\"#区块元素\" class=\"headerlink\" title=\"区块元素\"></a>区块元素</h2><p>段落和换行<br>一个 Markdown 段落是由一个或多个连续的文本行组成，它的前后要有一个以上的空行（空行的定义是显示上看起来像是空的，便会被视为空行。比方说，若某一行只包含空格和制表符，则该行也会被视为空行）。普通段落不该用空格或制表符来缩进。</p>\n<p>「由一个或多个连续的文本行组成」这句话其实暗示了 Markdown 允许段落内的强迫换行（插入换行符），这个特性和其他大部分的 text-to-HTML 格式不一样（包括 Movable Type 的「Convert Line Breaks」选项），其它的格式会把每个换行符都转成 <br /> 标签。</p>\n<p>如果你确实想要依赖 Markdown 来插入 <br /> 标签的话，在插入处先按入两个以上的空格然后回车。</p>\n<p>的确，需要多费点事（多加空格）来产生 <br /> ，但是简单地「每个换行都转换为 <br />」的方法在 Markdown 中并不适合， Markdown 中 email 式的 区块引用 和多段落的 列表 在使用换行来排版的时候，不但更好用，还更方便阅读。</p>\n<h3 id=\"标题\"><a href=\"#标题\" class=\"headerlink\" title=\"标题\"></a>标题</h3><p>Markdown 支持两种标题的语法，类 Setext 和类 atx 形式。</p>\n<p>类 Setext 形式是用底线的形式，利用 &#x3D; （最高阶标题）和 - （第二阶标题），例如：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">This is an H1</span><br><span class=\"line\">=============</span><br><span class=\"line\"></span><br><span class=\"line\">This is an H2</span><br><span class=\"line\">-------------</span><br></pre></td></tr></table></figure>\n\n<p>任何数量的 &#x3D; 和 - 都可以有效果。</p>\n<p>类 Atx 形式则是在行首插入 1 到 6 个 # ，对应到标题 1 到 6 阶，例如：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"># 这是 H1</span><br><span class=\"line\"></span><br><span class=\"line\">## 这是 H2</span><br><span class=\"line\"></span><br><span class=\"line\">###### 这是 H6</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>你可以选择性地「闭合」类 atx 样式的标题，这纯粹只是美观用的，若是觉得这样看起来比较舒适，你就可以在行尾加上 #，而行尾的 # 数量也不用和开头一样（行首的井字符数量决定标题的阶数）：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"># 这是 H1 #</span><br><span class=\"line\"></span><br><span class=\"line\">## 这是 H2 ##</span><br><span class=\"line\"></span><br><span class=\"line\">### 这是 H3 ######</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"区块引用Blockquotes\"><a href=\"#区块引用Blockquotes\" class=\"headerlink\" title=\"区块引用Blockquotes\"></a>区块引用Blockquotes</h3><p>Markdown 标记区块引用是使用类似 email 中用 &gt; 的引用方式。如果你还熟悉在 email 信件中的引言部分，你就知道怎么在 Markdown 文件中建立一个区块引用，那会看起来像是你自己先断好行，然后在每行的最前面加上 &gt; ：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&gt; This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet<span class=\"punctuation\">,</span></span><br><span class=\"line\">&gt; consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.</span><br><span class=\"line\">&gt; Vestibulum enim wisi<span class=\"punctuation\">,</span> viverra nec<span class=\"punctuation\">,</span> fringilla in<span class=\"punctuation\">,</span> laoreet vitae<span class=\"punctuation\">,</span> risus.</span><br><span class=\"line\">&gt; </span><br><span class=\"line\">&gt; Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse</span><br><span class=\"line\">&gt; id sem consectetuer libero luctus adipiscing.</span><br></pre></td></tr></table></figure>\n\n<p>效果是酱紫的：</p>\n<blockquote>\n<p>This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,<br>consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.<br>Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.</p>\n<p>Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse<br>id sem consectetuer libero luctus adipiscing.</p>\n</blockquote>\n<p>Markdown 也允许你偷懒只在整个段落的第一行最前面加上 &gt; ：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&gt; This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet<span class=\"punctuation\">,</span></span><br><span class=\"line\">consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.</span><br><span class=\"line\">Vestibulum enim wisi<span class=\"punctuation\">,</span> viverra nec<span class=\"punctuation\">,</span> fringilla in<span class=\"punctuation\">,</span> laoreet vitae<span class=\"punctuation\">,</span> risus.</span><br><span class=\"line\"></span><br><span class=\"line\">&gt; Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse</span><br><span class=\"line\">id sem consectetuer libero luctus adipiscing.</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,<br>consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.<br>Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.</p>\n</blockquote>\n<blockquote>\n<p>Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse<br>id sem consectetuer libero luctus adipiscing.</p>\n</blockquote>\n<p>区块引用可以嵌套（例如：引用内的引用），只要根据层次加上不同数量的 &gt; ：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"> This is the first level of quoting.</span><br><span class=\"line\">&gt;</span><br><span class=\"line\">&gt; &gt; This is nested blockquote.</span><br><span class=\"line\">&gt;</span><br><span class=\"line\">&gt; Back to the first level.</span><br></pre></td></tr></table></figure>\n\n<p> This is the first level of quoting.</p>\n<blockquote>\n<blockquote>\n<p>This is nested blockquote.</p>\n</blockquote>\n<p>Back to the first level.</p>\n</blockquote>\n<p>引用的区块内也可以使用其他的 Markdown 语法，包括标题、列表、代码区块等：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&gt; </span><br><span class=\"line\">&gt; <span class=\"number\">1.</span>   这是第一行列表项。</span><br><span class=\"line\">&gt; <span class=\"number\">2.</span>   这是第二行列表项。</span><br><span class=\"line\">&gt; </span><br><span class=\"line\">&gt; 给出一些例子代码：</span><br><span class=\"line\">&gt; </span><br><span class=\"line\">&gt;     return shell_exec(<span class=\"string\">&quot;echo $input | $markdown_script&quot;</span>);</span><br></pre></td></tr></table></figure>\n<blockquote>\n<ol>\n<li>这是第一行列表项。</li>\n<li>这是第二行列表项。</li>\n</ol>\n<p>给出一些例子代码：</p>\n<pre><code>return shell_exec(&quot;echo $input | $markdown_script&quot;);\n</code></pre>\n</blockquote>\n<p>任何像样的文本编辑器都能轻松地建立 email 型的引用。例如在 BBEdit 中，你可以选取文字后然后从选单中选择增加引用阶层。</p>\n<h3 id=\"列表\"><a href=\"#列表\" class=\"headerlink\" title=\"列表\"></a>列表</h3><p>Markdown 支持有序列表和无序列表。</p>\n<p>无序列表使用星号、加号或是减号作为列表标记：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">*   Red</span><br><span class=\"line\">*   Green</span><br><span class=\"line\">*   Blue</span><br><span class=\"line\">等同于：</span><br><span class=\"line\"></span><br><span class=\"line\">+   Red</span><br><span class=\"line\">+   Green</span><br><span class=\"line\">+   Blue</span><br><span class=\"line\">也等同于：</span><br><span class=\"line\"></span><br><span class=\"line\">-   Red</span><br><span class=\"line\">-   Green</span><br><span class=\"line\">-   Blue</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>Red</li>\n<li>Green</li>\n<li>Blue</li>\n</ul>\n<p>有序列表则使用数字接着一个英文句点：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1.</span>  Bird</span><br><span class=\"line\"><span class=\"number\">2.</span>  McHale</span><br><span class=\"line\"><span class=\"number\">3.</span>  Parish</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>Bird</li>\n<li>McHale</li>\n<li>Parish</li>\n</ol>\n<p>很重要的一点是，你在列表标记上使用的数字并不会影响输出的 HTML 结果，上面的列表所产生的 HTML 标记为：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;ol&gt;</span><br><span class=\"line\">&lt;li&gt;Bird&lt;/li&gt;</span><br><span class=\"line\">&lt;li&gt;McHale&lt;/li&gt;</span><br><span class=\"line\">&lt;li&gt;Parish&lt;/li&gt;</span><br><span class=\"line\">&lt;/ol&gt;</span><br></pre></td></tr></table></figure>\n\n<p>如果你的列表标记写成：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1.</span>  Bird</span><br><span class=\"line\"><span class=\"number\">1.</span>  McHale</span><br><span class=\"line\"><span class=\"number\">1.</span>  Parish</span><br><span class=\"line\"></span><br><span class=\"line\">或甚至是：</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">3.</span> Bird</span><br><span class=\"line\"><span class=\"number\">1.</span> McHale</span><br><span class=\"line\"><span class=\"number\">8.</span> Parish</span><br></pre></td></tr></table></figure>\n\n<p>你都会得到完全相同的 HTML 输出。重点在于，你可以让 Markdown 文件的列表数字和输出的结果相同，或是你懒一点，你可以完全不用在意数字的正确性。</p>\n<p>如果你使用懒惰的写法，建议第一个项目最好还是从 1. 开始，因为 Markdown 未来可能会支持有序列表的 start 属性。</p>\n<p>列表项目标记通常是放在最左边，但是其实也可以缩进，最多 3 个空格，项目标记后面则一定要接着至少一个空格或制表符。</p>\n<p>要让列表看起来更漂亮，你可以把内容用固定的缩进整理好：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">*   Lorem ipsum dolor sit amet<span class=\"punctuation\">,</span> consectetuer adipiscing elit.</span><br><span class=\"line\">    Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi<span class=\"punctuation\">,</span></span><br><span class=\"line\">    viverra nec<span class=\"punctuation\">,</span> fringilla in<span class=\"punctuation\">,</span> laoreet vitae<span class=\"punctuation\">,</span> risus.</span><br><span class=\"line\">*   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.</span><br><span class=\"line\">    Suspendisse id sem consectetuer libero luctus adipiscing.</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>但是如果你懒，那也行：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">*   Lorem ipsum dolor sit amet<span class=\"punctuation\">,</span> consectetuer adipiscing elit.</span><br><span class=\"line\">Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi<span class=\"punctuation\">,</span></span><br><span class=\"line\">viverra nec<span class=\"punctuation\">,</span> fringilla in<span class=\"punctuation\">,</span> laoreet vitae<span class=\"punctuation\">,</span> risus.</span><br><span class=\"line\">*   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.</span><br><span class=\"line\">Suspendisse id sem consectetuer libero luctus adipiscing.</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.<br>Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,<br>viverra nec, fringilla in, laoreet vitae, risus.</li>\n<li>Donec sit amet nisl. Aliquam semper ipsum sit amet velit.<br>Suspendisse id sem consectetuer libero luctus adipiscing.</li>\n</ul>\n<p>如果列表项目间用空行分开，在输出 HTML 时 Markdown 就会将项目内容用 <p> 标签包起来，举例来说：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">*   Bird</span><br><span class=\"line\">*   Magic</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>Bird</li>\n<li>Magic</li>\n</ul>\n<p>会被转换为：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;ul&gt;</span><br><span class=\"line\">&lt;li&gt;Bird&lt;/li&gt;</span><br><span class=\"line\">&lt;li&gt;Magic&lt;/li&gt;</span><br><span class=\"line\">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>\n\n<p>但是这个：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">*   Bird</span><br><span class=\"line\"></span><br><span class=\"line\">*   Magic</span><br></pre></td></tr></table></figure>\n\n<p>会被转换为：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;ul&gt;</span><br><span class=\"line\">&lt;li&gt;&lt;p&gt;Bird&lt;/p&gt;&lt;/li&gt;</span><br><span class=\"line\">&lt;li&gt;&lt;p&gt;Magic&lt;/p&gt;&lt;/li&gt;</span><br><span class=\"line\">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>\n\n<p>列表项目可以包含多个段落，每个项目下的段落都必须缩进 4 个空格或是 1 个制表符：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1.</span>  This is a list item with two paragraphs. Lorem ipsum dolor</span><br><span class=\"line\">    sit amet<span class=\"punctuation\">,</span> consectetuer adipiscing elit. Aliquam hendrerit</span><br><span class=\"line\">    mi posuere lectus.</span><br><span class=\"line\"></span><br><span class=\"line\">    Vestibulum enim wisi<span class=\"punctuation\">,</span> viverra nec<span class=\"punctuation\">,</span> fringilla in<span class=\"punctuation\">,</span> laoreet</span><br><span class=\"line\">    vitae<span class=\"punctuation\">,</span> risus. Donec sit amet nisl. Aliquam semper ipsum</span><br><span class=\"line\">    sit amet velit.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">2.</span>  Suspendisse id sem consectetuer libero luctus adipiscing.</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li><p>This is a list item with two paragraphs. Lorem ipsum dolor<br> sit amet, consectetuer adipiscing elit. Aliquam hendrerit<br> mi posuere lectus.</p>\n<p> Vestibulum enim wisi, viverra nec, fringilla in, laoreet<br> vitae, risus. Donec sit amet nisl. Aliquam semper ipsum<br> sit amet velit.</p>\n</li>\n<li><p>Suspendisse id sem consectetuer libero luctus adipiscing.</p>\n</li>\n</ol>\n<p>如果你每行都有缩进，看起来会看好很多，当然，再次地，如果你很懒惰，Markdown 也允许：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">*   This is a list item with two paragraphs.</span><br><span class=\"line\"></span><br><span class=\"line\">    This is the second paragraph in the list item. You&#x27;re</span><br><span class=\"line\">only required to indent the first line. Lorem ipsum dolor</span><br><span class=\"line\">sit amet<span class=\"punctuation\">,</span> consectetuer adipiscing elit.</span><br><span class=\"line\"></span><br><span class=\"line\">*   Another item in the same list.</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>This is a list item with two paragraphs.</p>\n<p>  This is the second paragraph in the list item. You’re</p>\n</li>\n</ul>\n<p>only required to indent the first line. Lorem ipsum dolor<br>sit amet, consectetuer adipiscing elit.</p>\n<ul>\n<li>Another item in the same list.</li>\n</ul>\n<p>如果要在列表项目内放进引用，那 &gt; 就需要缩进：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">*   A list item with a blockquote<span class=\"punctuation\">:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    &gt; This is a blockquote</span><br><span class=\"line\">    &gt; inside a list item.</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>A list item with a blockquote:</p>\n<blockquote>\n<p>This is a blockquote<br>inside a list item.</p>\n</blockquote>\n</li>\n</ul>\n<p>如果要放代码区块的话，该区块就需要缩进两次，也就是 8 个空格或是 2 个制表符：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">*   一列表项包含一个列表区块：</span><br><span class=\"line\"></span><br><span class=\"line\">        &lt;代码写在这&gt;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>一列表项包含一个列表区块：</p>\n<pre><code>  &lt;代码写在这&gt;\n</code></pre>\n</li>\n</ul>\n<p>当然，项目列表很可能会不小心产生，像是下面这样的写法<br>1986. What a great season.<br>换句话说，也就是在行首出现数字-句点-空白，要避免这样的状况，你可以在句点前面加上反斜杠。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1986</span>\\. What a great season.</span><br></pre></td></tr></table></figure>\n\n<p>1986. What a great season.</p>\n<h3 id=\"代码区块\"><a href=\"#代码区块\" class=\"headerlink\" title=\"代码区块\"></a>代码区块</h3><p>和程序相关的写作或是标签语言原始码通常会有已经排版好的代码区块，通常这些区块我们并不希望它以一般段落文件的方式去排版，而是照原来的样子显示，Markdown 会用 <code>&lt;pre&gt;</code> 和 <code>&lt;code&gt;</code> 标签来把代码区块包起来。</p>\n<p>要在 Markdown 中建立代码区块很简单，只要简单地缩进 4 个空格或是 1 个制表符就可以，例如，下面的输入：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">这是一个普通段落：</span><br><span class=\"line\"></span><br><span class=\"line\">    这是一个代码区块。</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>这是一个普通段落：</p>\n<pre><code>这是一个代码区块。\n</code></pre>\n<p>Markdown 会转换成：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;p&gt;这是一个普通段落：&lt;/p&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;pre&gt;&lt;code&gt;这是一个代码区块。</span><br><span class=\"line\">&lt;/code&gt;&lt;/pre&gt;</span><br></pre></td></tr></table></figure>\n\n<p>这个每行一阶的缩进（4 个空格或是 1 个制表符），都会被移除，例如：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">Here is an example of AppleScript<span class=\"punctuation\">:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    tell application <span class=\"string\">&quot;Foo&quot;</span></span><br><span class=\"line\">        beep</span><br><span class=\"line\">    end tell</span><br></pre></td></tr></table></figure>\n\n<p>Here is an example of AppleScript:</p>\n<pre><code>tell application &quot;Foo&quot;\n    beep\nend tell\n</code></pre>\n<p>会被转换为：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;p&gt;Here is an example of AppleScript<span class=\"punctuation\">:</span>&lt;/p&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;pre&gt;&lt;code&gt;tell application <span class=\"string\">&quot;Foo&quot;</span></span><br><span class=\"line\">    beep</span><br><span class=\"line\">end tell</span><br><span class=\"line\">&lt;/code&gt;&lt;/pre&gt;</span><br></pre></td></tr></table></figure>\n\n<p>一个代码区块会一直持续到没有缩进的那一行（或是文件结尾）。<br>在代码区块里面， &amp; 、 &lt; 和 &gt; 会自动转成 HTML 实体，这样的方式让你非常容易使用 Markdown 插入范例用的 HTML 原始码，只需要复制贴上，再加上缩进就可以了，剩下的 Markdown 都会帮你处理，例如：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;footer&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"symbol\">&amp;copy;</span> 2004 Foo Corporation</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<div class=\"footer\">\n  &copy; 2004 Foo Corporation\n</div>\n\n<p>会被转换为：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;pre&gt;&lt;code&gt;&amp;lt;div class=<span class=\"string\">&quot;footer&quot;</span>&amp;gt;</span><br><span class=\"line\">    &amp;amp;copy; <span class=\"number\">2004</span> Foo Corporation</span><br><span class=\"line\">&amp;lt;/div&amp;gt;</span><br><span class=\"line\">&lt;/code&gt;&lt;/pre&gt;</span><br></pre></td></tr></table></figure>\n\n<p>代码区块中，一般的 Markdown 语法不会被转换，像是星号便只是星号，这表示你可以很容易地以 Markdown 语法撰写 Markdown 语法相关的文件。</p>\n<h3 id=\"分隔线\"><a href=\"#分隔线\" class=\"headerlink\" title=\"分隔线\"></a>分隔线</h3><p>你可以在一行中用三个以上的星号、减号、底线来建立一个分隔线，行内不能有其他东西。你也可以在星号或是减号中间插入空格。下面每种写法都可以建立分隔线：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">* * *</span><br><span class=\"line\"></span><br><span class=\"line\">***</span><br><span class=\"line\"></span><br><span class=\"line\">*****</span><br><span class=\"line\"></span><br><span class=\"line\">- - -</span><br><span class=\"line\"></span><br><span class=\"line\">---------------------------------------</span><br></pre></td></tr></table></figure>\n\n<p>效果：</p>\n<hr>\n<hr>\n<hr>\n<hr>\n<hr>\n<h2 id=\"区段元素\"><a href=\"#区段元素\" class=\"headerlink\" title=\"区段元素\"></a>区段元素</h2><h3 id=\"链接\"><a href=\"#链接\" class=\"headerlink\" title=\"链接\"></a>链接</h3><p>Markdown 支持两种形式的链接语法： 行内式和参考式两种形式。</p>\n<p>不管是哪一种，链接文字都是用 [方括号] 来标记。</p>\n<p>要建立一个行内式的链接，只要在方块括号后面紧接着圆括号并插入网址链接即可，如果你还想要加上链接的 title 文字，只要在网址后面，用双引号把 title 文字包起来即可，例如：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">This is <span class=\"punctuation\">[</span>an example<span class=\"punctuation\">]</span>(http<span class=\"punctuation\">:</span><span class=\"comment\">//example.com/ &quot;Title&quot;) inline link.</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"punctuation\">[</span>This link<span class=\"punctuation\">]</span>(http<span class=\"punctuation\">:</span><span class=\"comment\">//example.net/) has no title attribute.</span></span><br></pre></td></tr></table></figure>\n\n<p>This is <a class=\"link\"   href=\"http://example.com/\"  title=\"Title\">an example<i class=\"fas fa-external-link-alt\"></i></a> inline link.</p>\n<p><a class=\"link\"   href=\"http://example.net/\" >This link<i class=\"fas fa-external-link-alt\"></i></a> has no title attribute.</p>\n<p>会产生：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;p&gt;This is &lt;a href=<span class=\"string\">&quot;http://example.com/&quot;</span> title=<span class=\"string\">&quot;Title&quot;</span>&gt;</span><br><span class=\"line\">an example&lt;/a&gt; inline link.&lt;/p&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;p&gt;&lt;a href=<span class=\"string\">&quot;http://example.net/&quot;</span>&gt;This link&lt;/a&gt; has no</span><br><span class=\"line\">title attribute.&lt;/p&gt;</span><br></pre></td></tr></table></figure>\n\n<p>如果你是要链接到同样主机的资源，你可以使用相对路径：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">See my <span class=\"punctuation\">[</span>About<span class=\"punctuation\">]</span>(/about/) page for details.</span><br></pre></td></tr></table></figure>\n\n<p>参考式的链接是在链接文字的括号后面再接上另一个方括号，而在第二个方括号里面要填入用以辨识链接的标记：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">This is <span class=\"punctuation\">[</span>an example<span class=\"punctuation\">]</span><span class=\"punctuation\">[</span>id<span class=\"punctuation\">]</span> reference-style link.</span><br></pre></td></tr></table></figure>\n\n<p>This is <a class=\"link\"   href=\"http://example.com/\"  title=\"Optional Title Here\">an example<i class=\"fas fa-external-link-alt\"></i></a> reference-style link.</p>\n<p>你也可以选择性地在两个方括号中间加上一个空格：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">This is <span class=\"punctuation\">[</span>an example<span class=\"punctuation\">]</span> <span class=\"punctuation\">[</span>id<span class=\"punctuation\">]</span> reference-style link.</span><br></pre></td></tr></table></figure>\n\n<p>接着，在文件的任意处，你可以把这个标记的链接内容定义出来：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">[</span>id<span class=\"punctuation\">]</span><span class=\"punctuation\">:</span> http<span class=\"punctuation\">:</span><span class=\"comment\">//example.com/  &quot;Optional Title Here&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>链接内容定义的形式为：</p>\n<p>方括号（前面可以选择性地加上至多三个空格来缩进），里面输入链接文字<br>接着一个冒号<br>接着一个以上的空格或制表符<br>接着链接的网址<br>选择性地接着 title 内容，可以用单引号、双引号或是括弧包着<br>下面这三种链接的定义都是相同：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">[</span>foo<span class=\"punctuation\">]</span><span class=\"punctuation\">:</span> http<span class=\"punctuation\">:</span><span class=\"comment\">//example.com/  &quot;Optional Title Here&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">[</span>foo<span class=\"punctuation\">]</span><span class=\"punctuation\">:</span> http<span class=\"punctuation\">:</span><span class=\"comment\">//example.com/  &#x27;Optional Title Here&#x27;</span></span><br><span class=\"line\"><span class=\"punctuation\">[</span>foo<span class=\"punctuation\">]</span><span class=\"punctuation\">:</span> http<span class=\"punctuation\">:</span><span class=\"comment\">//example.com/  (Optional Title Here)</span></span><br></pre></td></tr></table></figure>\n\n<p>请注意：有一个已知的问题是 Markdown.pl 1.0.1 会忽略单引号包起来的链接 title。</p>\n<p>链接网址也可以用方括号包起来：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">[</span>id<span class=\"punctuation\">]</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;Optional Title Here&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>你也可以把 title 属性放到下一行，也可以加一些缩进，若网址太长的话，这样会比较好看：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">[</span>id<span class=\"punctuation\">]</span><span class=\"punctuation\">:</span> http<span class=\"punctuation\">:</span><span class=\"comment\">//example.com/longish/path/to/resource/here</span></span><br><span class=\"line\">    <span class=\"string\">&quot;Optional Title Here&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>网址定义只有在产生链接的时候用到，并不会直接出现在文件之中。</p>\n<p>链接辨别标签可以有字母、数字、空白和标点符号，但是并不区分大小写，因此下面两个链接是一样的：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">[</span>link text<span class=\"punctuation\">]</span><span class=\"punctuation\">[</span>a<span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">[</span>link text<span class=\"punctuation\">]</span><span class=\"punctuation\">[</span>A<span class=\"punctuation\">]</span></span><br></pre></td></tr></table></figure>\n\n<p>[link text][a]<br>[link text][A]</p>\n<p>隐式链接标记功能让你可以省略指定链接标记，这种情形下，链接标记会视为等同于链接文字，要用隐式链接标记只要在链接文字后面加上一个空的方括号，如果你要让 “Google” 链接到 google.com，你可以简化成：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">[</span>Google<span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"punctuation\">]</span></span><br><span class=\"line\"></span><br><span class=\"line\">然后定义链接内容：</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"punctuation\">[</span>Google<span class=\"punctuation\">]</span><span class=\"punctuation\">:</span> http<span class=\"punctuation\">:</span><span class=\"comment\">//google.com/</span></span><br></pre></td></tr></table></figure>\n\n<p>由于链接文字可能包含空白，所以这种简化型的标记内也许包含多个单词：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">Visit <span class=\"punctuation\">[</span>Daring Fireball<span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"punctuation\">]</span> for more information.</span><br></pre></td></tr></table></figure>\n\n<p>然后接着定义链接</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">[</span>Daring Fireball<span class=\"punctuation\">]</span><span class=\"punctuation\">:</span> http<span class=\"punctuation\">:</span><span class=\"comment\">//daringfireball.net/</span></span><br></pre></td></tr></table></figure>\n\n<p>链接的定义可以放在文件中的任何一个地方，我比较偏好直接放在链接出现段落的后面，你也可以把它放在文件最后面，就像是注解一样。</p>\n<p>下面是一个参考式链接的范例：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">I get <span class=\"number\">10</span> times more traffic from <span class=\"punctuation\">[</span>Google<span class=\"punctuation\">]</span> <span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span> than from</span><br><span class=\"line\"><span class=\"punctuation\">[</span>Yahoo<span class=\"punctuation\">]</span> <span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span> or <span class=\"punctuation\">[</span>MSN<span class=\"punctuation\">]</span> <span class=\"punctuation\">[</span><span class=\"number\">3</span><span class=\"punctuation\">]</span>.</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">:</span> http<span class=\"punctuation\">:</span><span class=\"comment\">//google.com/        &quot;Google&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">:</span> http<span class=\"punctuation\">:</span><span class=\"comment\">//search.yahoo.com/  &quot;Yahoo Search&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">[</span><span class=\"number\">3</span><span class=\"punctuation\">]</span><span class=\"punctuation\">:</span> http<span class=\"punctuation\">:</span><span class=\"comment\">//search.msn.com/    &quot;MSN Search&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>如果改成用链接名称的方式写：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">I get <span class=\"number\">10</span> times more traffic from <span class=\"punctuation\">[</span>Google<span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"punctuation\">]</span> than from</span><br><span class=\"line\"><span class=\"punctuation\">[</span>Yahoo<span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"punctuation\">]</span> or <span class=\"punctuation\">[</span>MSN<span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"punctuation\">]</span>.</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"punctuation\">[</span>google<span class=\"punctuation\">]</span><span class=\"punctuation\">:</span> http<span class=\"punctuation\">:</span><span class=\"comment\">//google.com/        &quot;Google&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">[</span>yahoo<span class=\"punctuation\">]</span><span class=\"punctuation\">:</span>  http<span class=\"punctuation\">:</span><span class=\"comment\">//search.yahoo.com/  &quot;Yahoo Search&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">[</span>msn<span class=\"punctuation\">]</span><span class=\"punctuation\">:</span>    http<span class=\"punctuation\">:</span><span class=\"comment\">//search.msn.com/    &quot;MSN Search&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>I get 10 times more traffic from <a class=\"link\"   href=\"http://google.com/\"  title=\"Google\">Google<i class=\"fas fa-external-link-alt\"></i></a> than from<br><a class=\"link\"   href=\"http://search.yahoo.com/\"  title=\"Yahoo Search\">Yahoo<i class=\"fas fa-external-link-alt\"></i></a> or <a class=\"link\"   href=\"http://search.msn.com/\"  title=\"MSN Search\">MSN<i class=\"fas fa-external-link-alt\"></i></a>.</p>\n<p>上面两种写法都会产生下面的 HTML。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;p&gt;I get <span class=\"number\">10</span> times more traffic from &lt;a href=<span class=\"string\">&quot;http://google.com/&quot;</span></span><br><span class=\"line\">title=<span class=\"string\">&quot;Google&quot;</span>&gt;Google&lt;/a&gt; than from</span><br><span class=\"line\">&lt;a href=<span class=\"string\">&quot;http://search.yahoo.com/&quot;</span> title=<span class=\"string\">&quot;Yahoo Search&quot;</span>&gt;Yahoo&lt;/a&gt;</span><br><span class=\"line\">or &lt;a href=<span class=\"string\">&quot;http://search.msn.com/&quot;</span> title=<span class=\"string\">&quot;MSN Search&quot;</span>&gt;MSN&lt;/a&gt;.&lt;/p&gt;</span><br></pre></td></tr></table></figure>\n\n<p>下面是用行内式写的同样一段内容的 Markdown 文件，提供作为比较之用：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">I get <span class=\"number\">10</span> times more traffic from <span class=\"punctuation\">[</span>Google<span class=\"punctuation\">]</span>(http<span class=\"punctuation\">:</span><span class=\"comment\">//google.com/ &quot;Google&quot;)</span></span><br><span class=\"line\">than from <span class=\"punctuation\">[</span>Yahoo<span class=\"punctuation\">]</span>(http<span class=\"punctuation\">:</span><span class=\"comment\">//search.yahoo.com/ &quot;Yahoo Search&quot;) or</span></span><br><span class=\"line\"><span class=\"punctuation\">[</span>MSN<span class=\"punctuation\">]</span>(http<span class=\"punctuation\">:</span><span class=\"comment\">//search.msn.com/ &quot;MSN Search&quot;).</span></span><br></pre></td></tr></table></figure>\n\n<p>参考式的链接其实重点不在于它比较好写，而是它比较好读，比较一下上面的范例，使用参考式的文章本身只有 81 个字符，但是用行内形式的却会增加到 176 个字元，如果是用纯 HTML 格式来写，会有 234 个字元，在 HTML 格式中，标签比文本还要多。</p>\n<p>使用 Markdown 的参考式链接，可以让文件更像是浏览器最后产生的结果，让你可以把一些标记相关的元数据移到段落文字之外，你就可以增加链接而不让文章的阅读感觉被打断。</p>\n<h3 id=\"强调\"><a href=\"#强调\" class=\"headerlink\" title=\"强调\"></a>强调</h3><p>Markdown 使用星号（<em>）和底线（_）作为标记强调字词的符号，被</em> 或 <em>包围的字词会被转成用 <em> 标签包围，用两个 * 或</em> 包起来的话，则会被转成 <strong>，例如</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">*single asterisks*</span><br><span class=\"line\"></span><br><span class=\"line\">_single underscores_</span><br><span class=\"line\"></span><br><span class=\"line\">**double asterisks**</span><br><span class=\"line\"></span><br><span class=\"line\">__double underscores__</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">会转成：</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;em&gt;single asterisks&lt;/em&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;em&gt;single underscores&lt;/em&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;strong&gt;double asterisks&lt;/strong&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;strong&gt;double underscores&lt;/strong&gt;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><em>single asterisks</em></p>\n<p><em>single underscores</em></p>\n<p><strong>double asterisks</strong></p>\n<p><strong>double underscores</strong></p>\n<p>你可以随便用你喜欢的样式，唯一的限制是，你用什么符号开启标签，就要用什么符号结束。</p>\n<p>强调也可以直接插在文字中间：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">un*frigging*believable</span><br></pre></td></tr></table></figure>\n\n<p>un<em>frigging</em>believable</p>\n<p>但是如果你的 * 和 _ 两边都有空白的话，它们就只会被当成普通的符号。</p>\n<p>如果要在文字前后直接插入普通的星号或底线，你可以用反斜线：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">\\*this text is surrounded by literal asterisks\\*</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>*this text is surrounded by literal asterisks*</p>\n<h3 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h3><p>如果要标记一小段行内代码，你可以用反引号把它包起来（&#96;），例如</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">Use the `printf()` function.</span><br></pre></td></tr></table></figure>\n\n<p>会产生：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;p&gt;Use the &lt;code&gt;printf()&lt;/code&gt; function.&lt;/p&gt;</span><br></pre></td></tr></table></figure>\n\n<p>如果要在代码区段内插入反引号，你可以用多个反引号来开启和结束代码区段：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">``There is a literal backtick (`) here.``</span><br></pre></td></tr></table></figure>\n\n<p>这段语法会产生：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;p&gt;&lt;code&gt;There is a literal backtick (`) here.&lt;/code&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>\n\n<p><code>There is a literal backtick (`) here.</code></p>\n<p>代码区段的起始和结束端都可以放入一个空白，起始端后面一个，结束端前面一个，这样你就可以在区段的一开始就插入反引号：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">A single backtick in a code span<span class=\"punctuation\">:</span> `` ` ``</span><br><span class=\"line\"></span><br><span class=\"line\">A backtick-delimited string in a code span<span class=\"punctuation\">:</span> `` `foo` ``</span><br></pre></td></tr></table></figure>\n\n<p>会产生：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;p&gt;A single backtick in a code span<span class=\"punctuation\">:</span> &lt;code&gt;`&lt;/code&gt;&lt;/p&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;p&gt;A backtick-delimited string in a code span<span class=\"punctuation\">:</span> &lt;code&gt;`foo`&lt;/code&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>\n\n<p>在代码区段内，&amp; 和方括号都会被自动地转成 HTML 实体，这使得插入 HTML 原始码变得很容易，Markdown 会把下面这段：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">Please don&#x27;t use any `&lt;blink&gt;` tags.</span><br></pre></td></tr></table></figure>\n\n<p>转为：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;p&gt;Please don&#x27;t use any &lt;code&gt;&lt;blink&gt;&lt;/code&gt; tags.&lt;/p&gt;</span><br></pre></td></tr></table></figure>\n\n<p>你也可以这样写：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">`&amp;#<span class=\"number\">8212</span>;` is the decimal-encoded equivalent of `&amp;mdash;`.</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>以产生：</p>\n<pre><code>&lt;p&gt;&lt;code&gt;&amp;amp;#8212;&lt;/code&gt; is the decimal-encoded\nequivalent of &lt;code&gt;&amp;amp;mdash;&lt;/code&gt;.&lt;/p&gt;\n</code></pre>\n<h3 id=\"图片\"><a href=\"#图片\" class=\"headerlink\" title=\"图片\"></a>图片</h3><p>很明显地，要在纯文字应用中设计一个「自然」的语法来插入图片是有一定难度的。</p>\n<p>Markdown 使用一种和链接很相似的语法来标记图片，同样也允许两种样式： 行内式和参考式。</p>\n<p>行内式的图片语法看起来像是：</p>\n<pre><code>![Alt text](/path/to/img.jpg)\n\n![Alt text](/path/to/img.jpg &quot;Optional title&quot;)\n</code></pre>\n<p>详细叙述如下：</p>\n<p>一个惊叹号 !<br>接着一个方括号，里面放上图片的替代文字<br>接着一个普通括号，里面放上图片的网址，最后还可以用引号包住并加上 选择性的 ‘title’ 文字。<br>参考式的图片语法则长得像这样：</p>\n<pre><code>![Alt text][id]\n</code></pre>\n<p>「id」是图片参考的名称，图片参考的定义方式则和连结参考一样：</p>\n<pre><code>[id]: url/to/image  &quot;Optional title attribute&quot;\n</code></pre>\n<p>到目前为止， Markdown 还没有办法指定图片的宽高，如果你需要的话，你可以使用普通的 <img> 标签。</p>\n<h4 id=\"把图片存入markdown\"><a href=\"#把图片存入markdown\" class=\"headerlink\" title=\"把图片存入markdown\"></a>把图片存入markdown</h4><p>用base64转码工具把图片转成一段字符串，然后把字符串填到基础格式中链接的那个位置。</p>\n<pre><code>基础用法：\n![avatar](data:image/png;base64,iVBORw0......)\n这个时候会发现插入的这一长串字符串会把整个文章分割开，非常影响编写文章时的体验。\n如果能够把大段的base64字符串放在文章末尾，然后在文章中通过一个id来调用，文章就\n不会被分割的这么乱了。\n高级用法\n比如：\n![avatar][base64str]\n[base64str]:data:image/png;base64,iVBORw0......\n</code></pre>\n<h3 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h3><h4 id=\"反斜杠\"><a href=\"#反斜杠\" class=\"headerlink\" title=\"反斜杠\"></a>反斜杠</h4><p>Markdown 可以利用反斜杠来插入一些在语法中有其它意义的符号，例如：如果你想要用星号加在文字旁边的方式来做出强调效果（但不用 <em> 标签），你可以在星号的前面加上反斜杠：</p>\n<p><code>\\*literal asterisks\\*</code></p>\n<p>*literal asterisks*</p>\n<p>Markdown 支持以下这些符号前面加上反斜杠来帮助插入普通的符号：</p>\n<pre><code>\\   反斜线\n`   反引号\n*   星号\n_   底线\n&#123;&#125;  花括号\n[]  方括号\n()  括弧\n#   井字号\n+   加号\n-   减号\n.   英文句点\n!   惊叹号\n</code></pre>\n<h4 id=\"自动链接\"><a href=\"#自动链接\" class=\"headerlink\" title=\"自动链接\"></a>自动链接</h4><p>Markdown 支持以比较简短的自动链接形式来处理网址和电子邮件信箱，只要是用方括号包起来， Markdown 就会自动把它转成链接。一般网址的链接文字就和链接地址一样，例如：<br><code>&lt;http://example.com/&gt;</code><br>Markdown 会转为：<br><code>&lt;a href=&quot;http://example.com/&quot;&gt;http://example.com/&lt;/a&gt;</code></p>\n<p>邮址的自动链接也很类似，只是 Markdown 会先做一个编码转换的过程，把文字字符转成 16 进位码的 HTML 实体，这样的格式可以糊弄一些不好的邮址收集机器人，例如：<br><code>&lt;address@example.com&gt;</code><br>Markdown 会转成：<br><code>&lt;a href=&quot;mailto:addre ss@example.co m&quot;&gt;address@exa mple.com&lt;/a&gt;</code><br>在浏览器里面，这段字串（其实是 <a class=\"link\"   href=\"mailto:address@example.com\" >address@example.com<i class=\"fas fa-external-link-alt\"></i></a>）会变成一个可以点击的「<a class=\"link\"   href=\"mailto:&#x61;&#x64;&#x64;&#x72;&#101;&#x73;&#x73;&#64;&#101;&#x78;&#x61;&#109;&#x70;&#x6c;&#101;&#46;&#99;&#111;&#x6d;\" >&#x61;&#x64;&#x64;&#x72;&#101;&#x73;&#x73;&#64;&#101;&#x78;&#x61;&#109;&#x70;&#x6c;&#101;&#46;&#99;&#111;&#x6d;<i class=\"fas fa-external-link-alt\"></i></a>」链接。</p>\n<p>（这种作法虽然可以糊弄不少的机器人，但并不能全部挡下来，不过总比什么都不做好些。不管怎样，公开你的信箱终究会引来广告信件的。）</p>\n<h3 id=\"表格\"><a href=\"#表格\" class=\"headerlink\" title=\"表格\"></a>表格</h3><p>Markdown 制作表格使用 | 来分隔不同的单元格，使用 - 来分隔表头和其他行。</p>\n<p>语法格式如下：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">|  表头   | 表头  |</span><br><span class=\"line\">|  ----  | ----  |</span><br><span class=\"line\">| 单元格  | 单元格 |</span><br><span class=\"line\">| 单元格  | 单元格 |</span><br></pre></td></tr></table></figure>\n\n<table>\n<thead>\n<tr>\n<th>表头</th>\n<th>表头</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>单元格</td>\n<td>单元格</td>\n</tr>\n<tr>\n<td>单元格</td>\n<td>单元格</td>\n</tr>\n</tbody></table>\n<h3 id=\"显示反引号\"><a href=\"#显示反引号\" class=\"headerlink\" title=\"显示反引号\"></a>显示反引号</h3><p>使用4个反引号开始并关闭</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">```go</span><br><span class=\"line\">    var (</span><br><span class=\"line\">       mark = <span class=\"string\">&quot;markdown&quot;</span> </span><br><span class=\"line\">    )</span><br><span class=\"line\">```</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Markdown-高级技巧\"><a href=\"#Markdown-高级技巧\" class=\"headerlink\" title=\"Markdown 高级技巧\"></a>Markdown 高级技巧</h2><h3 id=\"画流程图、时序图-顺序图-、甘特图\"><a href=\"#画流程图、时序图-顺序图-、甘特图\" class=\"headerlink\" title=\"画流程图、时序图(顺序图)、甘特图\"></a>画流程图、时序图(顺序图)、甘特图</h3><p>复制以下代码使用 typora 的源码模式粘贴到编辑器中可以查看效果</p>\n<h4 id=\"横向流程图源码格式\"><a href=\"#横向流程图源码格式\" class=\"headerlink\" title=\"横向流程图源码格式\"></a>横向流程图源码格式</h4><figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">...mermaid #由于渲染问题，请自行将 · 替换为 `</span><br><span class=\"line\">  graph LR</span><br><span class=\"line\">  A<span class=\"punctuation\">[</span>方形<span class=\"punctuation\">]</span> --&gt;B(圆角)</span><br><span class=\"line\">    B --&gt; C<span class=\"punctuation\">&#123;</span>条件a<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    C --&gt;|a=<span class=\"number\">1</span>| D<span class=\"punctuation\">[</span>结果<span class=\"number\">1</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">    C --&gt;|a=<span class=\"number\">2</span>| E<span class=\"punctuation\">[</span>结果<span class=\"number\">2</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">   F<span class=\"punctuation\">[</span>横向流程图<span class=\"punctuation\">]</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">graph LR</span><br><span class=\"line\">A[方形] --&gt;B(圆角)</span><br><span class=\"line\">  B --&gt; C&#123;条件a&#125;</span><br><span class=\"line\">  C --&gt;|a=1| D[结果1]</span><br><span class=\"line\">  C --&gt;|a=2| E[结果2]</span><br><span class=\"line\"> F[横向流程图]</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"竖向流程图源码格式\"><a href=\"#竖向流程图源码格式\" class=\"headerlink\" title=\"竖向流程图源码格式\"></a>竖向流程图源码格式</h4><figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">...mermaid #由于渲染问题，请自行将 · 替换为 `</span><br><span class=\"line\">graph TD</span><br><span class=\"line\">A<span class=\"punctuation\">[</span>方形<span class=\"punctuation\">]</span> --&gt; B(圆角)</span><br><span class=\"line\">    B --&gt; C<span class=\"punctuation\">&#123;</span>条件a<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    C --&gt; |a=<span class=\"number\">1</span>| D<span class=\"punctuation\">[</span>结果<span class=\"number\">1</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">    C --&gt; |a=<span class=\"number\">2</span>| E<span class=\"punctuation\">[</span>结果<span class=\"number\">2</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">    F<span class=\"punctuation\">[</span>竖向流程图<span class=\"punctuation\">]</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">graph TD</span><br><span class=\"line\">A[方形] --&gt; B(圆角)</span><br><span class=\"line\">    B --&gt; C&#123;条件a&#125;</span><br><span class=\"line\">    C --&gt; |a=1| D[结果1]</span><br><span class=\"line\">    C --&gt; |a=2| E[结果2]</span><br><span class=\"line\">    F[竖向流程图]</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"标准流程图源码格式\"><a href=\"#标准流程图源码格式\" class=\"headerlink\" title=\"标准流程图源码格式\"></a>标准流程图源码格式</h4><figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">...flow #由于渲染问题，请自行将 · 替换为 `</span><br><span class=\"line\">    st=&gt;start<span class=\"punctuation\">:</span> 开始框</span><br><span class=\"line\">    op=&gt;operation<span class=\"punctuation\">:</span> 处理框</span><br><span class=\"line\">    cond=&gt;condition<span class=\"punctuation\">:</span> 判断框(是或否?)</span><br><span class=\"line\">    sub1=&gt;subroutine<span class=\"punctuation\">:</span> 子流程</span><br><span class=\"line\">    io=&gt;inputoutput<span class=\"punctuation\">:</span> 输入输出框</span><br><span class=\"line\">    e=&gt;end<span class=\"punctuation\">:</span> 结束框</span><br><span class=\"line\">    st-&gt;op-&gt;cond</span><br><span class=\"line\">    cond(yes)-&gt;io-&gt;e</span><br><span class=\"line\">    cond(no)-&gt;sub1(right)-&gt;op</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">st=&gt;start: 开始框</span><br><span class=\"line\">op=&gt;operation: 处理框</span><br><span class=\"line\">cond=&gt;condition: 判断框(是或否?)</span><br><span class=\"line\">sub1=&gt;subroutine: 子流程</span><br><span class=\"line\">io=&gt;inputoutput: 输入输出框</span><br><span class=\"line\">e=&gt;end: 结束框</span><br><span class=\"line\">st-&gt;op-&gt;cond</span><br><span class=\"line\">cond(yes)-&gt;io-&gt;e</span><br><span class=\"line\">cond(no)-&gt;sub1(right)-&gt;op</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"标准流程图源码格式（横向）\"><a href=\"#标准流程图源码格式（横向）\" class=\"headerlink\" title=\"标准流程图源码格式（横向）\"></a>标准流程图源码格式（横向）</h4><figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">...flow #由于渲染问题，请自行将 · 替换为 `</span><br><span class=\"line\">st=&gt;start<span class=\"punctuation\">:</span> 开始框</span><br><span class=\"line\">op=&gt;operation<span class=\"punctuation\">:</span> 处理框</span><br><span class=\"line\">cond=&gt;condition<span class=\"punctuation\">:</span> 判断框(是或否?)</span><br><span class=\"line\">sub1=&gt;subroutine<span class=\"punctuation\">:</span> 子流程</span><br><span class=\"line\">io=&gt;inputoutput<span class=\"punctuation\">:</span> 输入输出框</span><br><span class=\"line\">e=&gt;end<span class=\"punctuation\">:</span> 结束框</span><br><span class=\"line\">st(right)-&gt;op(right)-&gt;cond</span><br><span class=\"line\">cond(yes)-&gt;io(bottom)-&gt;e</span><br><span class=\"line\">cond(no)-&gt;sub1(right)-&gt;op</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">st=&gt;start: 开始框</span><br><span class=\"line\">op=&gt;operation: 处理框</span><br><span class=\"line\">cond=&gt;condition: 判断框(是或否?)</span><br><span class=\"line\">sub1=&gt;subroutine: 子流程</span><br><span class=\"line\">io=&gt;inputoutput: 输入输出框</span><br><span class=\"line\">e=&gt;end: 结束框</span><br><span class=\"line\">st(right)-&gt;op(right)-&gt;cond</span><br><span class=\"line\">cond(yes)-&gt;io(bottom)-&gt;e</span><br><span class=\"line\">cond(no)-&gt;sub1(right)-&gt;op</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"UML时序图源码样例\"><a href=\"#UML时序图源码样例\" class=\"headerlink\" title=\"UML时序图源码样例\"></a>UML时序图源码样例</h4><figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">...sequence #由于渲染问题，请自行将 · 替换为 `</span><br><span class=\"line\">对象A-&gt;对象B<span class=\"punctuation\">:</span> 对象B你好吗?（请求）</span><br><span class=\"line\">Note right of 对象B<span class=\"punctuation\">:</span> 对象B的描述</span><br><span class=\"line\">Note left of 对象A<span class=\"punctuation\">:</span> 对象A的描述(提示)</span><br><span class=\"line\">对象B--&gt;对象A<span class=\"punctuation\">:</span> 我很好(响应)</span><br><span class=\"line\">对象A-&gt;对象B<span class=\"punctuation\">:</span> 你真的好吗？</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">对象A-&gt;对象B: 对象B你好吗?（请求）</span><br><span class=\"line\">Note right of 对象B: 对象B的描述</span><br><span class=\"line\">Note left of 对象A: 对象A的描述(提示)</span><br><span class=\"line\">对象B--&gt;对象A: 我很好(响应)</span><br><span class=\"line\">对象A-&gt;对象B: 你真的好吗？</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"UML时序图源码复杂样例\"><a href=\"#UML时序图源码复杂样例\" class=\"headerlink\" title=\"UML时序图源码复杂样例\"></a>UML时序图源码复杂样例</h4><figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">...sequence #由于渲染问题，请自行将 · 替换为 `</span><br><span class=\"line\">Title<span class=\"punctuation\">:</span> 标题：复杂使用</span><br><span class=\"line\">对象A-&gt;对象B<span class=\"punctuation\">:</span> 对象B你好吗?（请求）</span><br><span class=\"line\">Note right of 对象B<span class=\"punctuation\">:</span> 对象B的描述</span><br><span class=\"line\">Note left of 对象A<span class=\"punctuation\">:</span> 对象A的描述(提示)</span><br><span class=\"line\">对象B--&gt;对象A<span class=\"punctuation\">:</span> 我很好(响应)</span><br><span class=\"line\">对象B-&gt;小三<span class=\"punctuation\">:</span> 你好吗</span><br><span class=\"line\">小三--&gt;&gt;对象A<span class=\"punctuation\">:</span> 对象B找我了</span><br><span class=\"line\">对象A-&gt;对象B<span class=\"punctuation\">:</span> 你真的好吗？</span><br><span class=\"line\">Note over 小三<span class=\"punctuation\">,</span>对象B<span class=\"punctuation\">:</span> 我们是朋友</span><br><span class=\"line\">participant C</span><br><span class=\"line\">Note right of C<span class=\"punctuation\">:</span> 没人陪我玩</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">Title: 标题：复杂使用</span><br><span class=\"line\">对象A-&gt;对象B: 对象B你好吗?（请求）</span><br><span class=\"line\">Note right of 对象B: 对象B的描述</span><br><span class=\"line\">Note left of 对象A: 对象A的描述(提示)</span><br><span class=\"line\">对象B--&gt;对象A: 我很好(响应)</span><br><span class=\"line\">对象B-&gt;小三: 你好吗</span><br><span class=\"line\">小三--&gt;&gt;对象A: 对象B找我了</span><br><span class=\"line\">对象A-&gt;对象B: 你真的好吗？</span><br><span class=\"line\">Note over 小三,对象B: 我们是朋友</span><br><span class=\"line\">participant C</span><br><span class=\"line\">Note right of C: 没人陪我玩</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"UML标准时序图样例\"><a href=\"#UML标准时序图样例\" class=\"headerlink\" title=\"UML标准时序图样例\"></a>UML标准时序图样例</h4><figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">...mermaid #由于渲染问题，请自行将 · 替换为 `</span><br><span class=\"line\">%% 时序图例子<span class=\"punctuation\">,</span>-&gt; 直线，--&gt;虚线，-&gt;&gt;实线箭头</span><br><span class=\"line\">  sequenceDiagram</span><br><span class=\"line\">    participant 张三</span><br><span class=\"line\">    participant 李四</span><br><span class=\"line\">    张三-&gt;王五<span class=\"punctuation\">:</span> 王五你好吗？</span><br><span class=\"line\">    loop 健康检查</span><br><span class=\"line\">        王五-&gt;王五<span class=\"punctuation\">:</span> 与疾病战斗</span><br><span class=\"line\">    end</span><br><span class=\"line\">    Note right of 王五<span class=\"punctuation\">:</span> 合理 食物 &lt;br/&gt;看医生...</span><br><span class=\"line\">    李四--&gt;&gt;张三<span class=\"punctuation\">:</span> 很好!</span><br><span class=\"line\">    王五-&gt;李四<span class=\"punctuation\">:</span> 你怎么样?</span><br><span class=\"line\">    李四--&gt;王五<span class=\"punctuation\">:</span> 很好!</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">%% 时序图例子,-&gt; 直线，--&gt;虚线，-&gt;&gt;实线箭头</span><br><span class=\"line\">  sequenceDiagram</span><br><span class=\"line\">    participant 张三</span><br><span class=\"line\">    participant 李四</span><br><span class=\"line\">    张三-&gt;王五: 王五你好吗？</span><br><span class=\"line\">    loop 健康检查</span><br><span class=\"line\">        王五-&gt;王五: 与疾病战斗</span><br><span class=\"line\">    end</span><br><span class=\"line\">    Note right of 王五: 合理 食物 &lt;br/&gt;看医生...</span><br><span class=\"line\">    李四--&gt;&gt;张三: 很好!</span><br><span class=\"line\">    王五-&gt;李四: 你怎么样?</span><br><span class=\"line\">    李四--&gt;王五: 很好!</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"甘特图样例\"><a href=\"#甘特图样例\" class=\"headerlink\" title=\"甘特图样例\"></a>甘特图样例</h4><figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">...mermaid #由于渲染问题，请自行将 · 替换为 `</span><br><span class=\"line\">%% 语法示例</span><br><span class=\"line\">        gantt</span><br><span class=\"line\">        dateFormat  YYYY-MM-DD</span><br><span class=\"line\">        title 软件开发甘特图</span><br><span class=\"line\">        section 设计</span><br><span class=\"line\">        需求                      <span class=\"punctuation\">:</span>done<span class=\"punctuation\">,</span>    des1<span class=\"punctuation\">,</span> <span class=\"number\">2014</span><span class=\"number\">-01</span><span class=\"number\">-06</span><span class=\"punctuation\">,</span><span class=\"number\">2014</span><span class=\"number\">-01</span><span class=\"number\">-08</span></span><br><span class=\"line\">        原型                      <span class=\"punctuation\">:</span>active<span class=\"punctuation\">,</span>  des2<span class=\"punctuation\">,</span> <span class=\"number\">2014</span><span class=\"number\">-01</span><span class=\"number\">-09</span><span class=\"punctuation\">,</span> <span class=\"number\">3</span>d</span><br><span class=\"line\">        UI设计                     <span class=\"punctuation\">:</span>         des3<span class=\"punctuation\">,</span> after des2<span class=\"punctuation\">,</span> <span class=\"number\">5</span>d</span><br><span class=\"line\">    未来任务                     <span class=\"punctuation\">:</span>         des4<span class=\"punctuation\">,</span> after des3<span class=\"punctuation\">,</span> <span class=\"number\">5</span>d</span><br><span class=\"line\">        section 开发</span><br><span class=\"line\">        学习准备理解需求                      <span class=\"punctuation\">:</span>crit<span class=\"punctuation\">,</span> done<span class=\"punctuation\">,</span> <span class=\"number\">2014</span><span class=\"number\">-01</span><span class=\"number\">-06</span><span class=\"punctuation\">,</span><span class=\"number\">24</span>h</span><br><span class=\"line\">        设计框架                             <span class=\"punctuation\">:</span>crit<span class=\"punctuation\">,</span> done<span class=\"punctuation\">,</span> after des2<span class=\"punctuation\">,</span> <span class=\"number\">2</span>d</span><br><span class=\"line\">        开发                                 <span class=\"punctuation\">:</span>crit<span class=\"punctuation\">,</span> active<span class=\"punctuation\">,</span> <span class=\"number\">3</span>d</span><br><span class=\"line\">        未来任务                              <span class=\"punctuation\">:</span>crit<span class=\"punctuation\">,</span> <span class=\"number\">5</span>d</span><br><span class=\"line\">        耍                                   <span class=\"punctuation\">:</span><span class=\"number\">2</span>d</span><br><span class=\"line\">        section 测试</span><br><span class=\"line\">        功能测试                              <span class=\"punctuation\">:</span>active<span class=\"punctuation\">,</span> a1<span class=\"punctuation\">,</span> after des3<span class=\"punctuation\">,</span> <span class=\"number\">3</span>d</span><br><span class=\"line\">        压力测试                               <span class=\"punctuation\">:</span>after a1  <span class=\"punctuation\">,</span> <span class=\"number\">20</span>h</span><br><span class=\"line\">        测试报告                               <span class=\"punctuation\">:</span> <span class=\"number\">48</span>h</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">%% 语法示例</span><br><span class=\"line\">        gantt</span><br><span class=\"line\">        dateFormat  YYYY-MM-DD</span><br><span class=\"line\">        title 软件开发甘特图</span><br><span class=\"line\">        section 设计</span><br><span class=\"line\">        需求                      :done,    des1, 2014-01-06,2014-01-08</span><br><span class=\"line\">        原型                      :active,  des2, 2014-01-09, 3d</span><br><span class=\"line\">        UI设计                     :         des3, after des2, 5d</span><br><span class=\"line\">    未来任务                     :         des4, after des3, 5d</span><br><span class=\"line\">        section 开发</span><br><span class=\"line\">        学习准备理解需求                      :crit, done, 2014-01-06,24h</span><br><span class=\"line\">        设计框架                             :crit, done, after des2, 2d</span><br><span class=\"line\">        开发                                 :crit, active, 3d</span><br><span class=\"line\">        未来任务                              :crit, 5d</span><br><span class=\"line\">        耍                                   :2d</span><br><span class=\"line\">        section 测试</span><br><span class=\"line\">        功能测试                              :active, a1, after des3, 3d</span><br><span class=\"line\">        压力测试                               :after a1  , 20h</span><br><span class=\"line\">        测试报告                               : 48h</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Mermaid-实用教程\"><a href=\"#Mermaid-实用教程\" class=\"headerlink\" title=\"Mermaid 实用教程\"></a>Mermaid 实用教程</h3><p>Mermaid 是一个用于画流程图、状态图、时序图、甘特图的库，使用 JS 进行本地渲染，广泛集成于许多 Markdown 编辑器中。</p>\n<p>Mermaid 作为一个使用 JS 渲染的库，生成的不是一个“图片”，而是一段 HTML 代码，因此安全许多。</p>\n<p>官网：<a class=\"link\"   href=\"https://mermaidjs.github.io/\" >https://mermaidjs.github.io/<i class=\"fas fa-external-link-alt\"></i></a><br>Github 项目地址：<a class=\"link\"   href=\"https://github.com/knsv/mermaid\" >https://github.com/knsv/mermaid<i class=\"fas fa-external-link-alt\"></i></a></p>\n<p>接下来介绍 Mermaid 的流程图及序列图的语法，也就是大家在工作中常使用的图表。</p>\n<h4 id=\"流程图\"><a href=\"#流程图\" class=\"headerlink\" title=\"流程图\"></a>流程图</h4><h5 id=\"图表方向\"><a href=\"#图表方向\" class=\"headerlink\" title=\"图表方向\"></a>图表方向</h5><p>Mermaid 支持多种图表的方向，语法如下：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">graph 方向描述</span><br><span class=\"line\">    图表中的其他语句...</span><br></pre></td></tr></table></figure>\n\n<p>其中“方向描述”为：</p>\n<table>\n<thead>\n<tr>\n<th>用词</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>TB</td>\n<td>从上到下</td>\n</tr>\n<tr>\n<td>BT</td>\n<td>从下到上</td>\n</tr>\n<tr>\n<td>RL</td>\n<td>从右到左</td>\n</tr>\n<tr>\n<td>LR</td>\n<td>从左到右</td>\n</tr>\n</tbody></table>\n<h5 id=\"节点定义\"><a href=\"#节点定义\" class=\"headerlink\" title=\"节点定义\"></a>节点定义</h5><p>即流程图中每个文本块，包括开始、结束、处理、判断等。Mermaid 中每个节点都有一个 id，以及节点的文字。</p>\n<table>\n<thead>\n<tr>\n<th>表述</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>id[文字]</td>\n<td>矩形节点</td>\n</tr>\n<tr>\n<td>id(文字)</td>\n<td>圆角矩形节点</td>\n</tr>\n<tr>\n<td>id((文字))</td>\n<td>圆形节点</td>\n</tr>\n<tr>\n<td>id&gt;文字]</td>\n<td>右向旗帜状节点</td>\n</tr>\n<tr>\n<td>id{文字}</td>\n<td>菱形节点</td>\n</tr>\n</tbody></table>\n<p>需要注意的是，如果节点的文字中包含标点符号，需要时用双引号包裹起来。<br>另外如果希望在文字中使用换行，请使用替换换行</p>\n<h5 id=\"节点间的连线\"><a href=\"#节点间的连线\" class=\"headerlink\" title=\"节点间的连线\"></a>节点间的连线</h5><table>\n<thead>\n<tr>\n<th>表述</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>&gt;</td>\n<td>添加尾部箭头</td>\n</tr>\n<tr>\n<td>-</td>\n<td>不添加尾部箭头</td>\n</tr>\n<tr>\n<td>–</td>\n<td>单线</td>\n</tr>\n<tr>\n<td>–text–</td>\n<td>单线上加文字</td>\n</tr>\n<tr>\n<td>&#x3D;&#x3D;</td>\n<td>粗线</td>\n</tr>\n<tr>\n<td>&#x3D;&#x3D;text&#x3D;&#x3D;</td>\n<td>粗线加文字</td>\n</tr>\n<tr>\n<td>-.-</td>\n<td>虚线</td>\n</tr>\n<tr>\n<td>-.text.-</td>\n<td>虚线加文字</td>\n</tr>\n</tbody></table>\n<h5 id=\"子图表\"><a href=\"#子图表\" class=\"headerlink\" title=\"子图表\"></a>子图表</h5><p>使用以下语法添加子图表</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">subgraph 子图表名称</span><br><span class=\"line\">    子图表中的描述语句...</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"对-fontawesome-的支持\"><a href=\"#对-fontawesome-的支持\" class=\"headerlink\" title=\"对 fontawesome 的支持\"></a>对 fontawesome 的支持</h5><p>使用 fa: #图表名称# 的语法添加 fontawesome。</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">graph TB</span><br><span class=\"line\">    id1(圆角矩形)--普通线--&gt;id2<span class=\"punctuation\">[</span>矩形<span class=\"punctuation\">]</span></span><br><span class=\"line\">    subgraph 子图表</span><br><span class=\"line\">        id2==粗线==&gt;id3<span class=\"punctuation\">&#123;</span>菱形<span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">        id3-.虚线.-&gt;id4&gt;右向旗帜<span class=\"punctuation\">]</span></span><br><span class=\"line\">        id3--无箭头---id5((圆形))</span><br><span class=\"line\">    end</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"序列图\"><a href=\"#序列图\" class=\"headerlink\" title=\"序列图\"></a>序列图</h5><p>使用以下语法开始序列图</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">sequenceDiagram</span><br><span class=\"line\">    <span class=\"punctuation\">[</span>参与者<span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span>消息线<span class=\"punctuation\">]</span><span class=\"punctuation\">[</span>参与者<span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">:</span>消息体</span><br><span class=\"line\">    ...</span><br></pre></td></tr></table></figure>\n\n<p>例如</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">sequenceDiagram</span><br><span class=\"line\">    张三-&gt;&gt;李四<span class=\"punctuation\">:</span> 吃了吗？</span><br><span class=\"line\">    李四-&gt;&gt;张三<span class=\"punctuation\">:</span> 吃了</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"参与者\"><a href=\"#参与者\" class=\"headerlink\" title=\"参与者\"></a>参与者</h5><p>上例中的张三、李四都是参与者，上例中的语法是最简单的，也可以明显表明参与者有哪些</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">sequenceDiagram</span><br><span class=\"line\">    participant 参与者 <span class=\"number\">1</span></span><br><span class=\"line\">    participant 参与者 <span class=\"number\">2</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">    participant 简称 as 参与者 <span class=\"number\">3</span> #该语法可以在接下来的描述中使用简称来代替参与者 <span class=\"number\">3</span></span><br></pre></td></tr></table></figure>\n\n<h5 id=\"消息线\"><a href=\"#消息线\" class=\"headerlink\" title=\"消息线\"></a>消息线</h5><table>\n<thead>\n<tr>\n<th>类型</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>-&gt;</td>\n<td>无箭头的实线</td>\n</tr>\n<tr>\n<td>–&gt;</td>\n<td>无箭头的虚线</td>\n</tr>\n<tr>\n<td>-&gt;&gt;</td>\n<td>有箭头的实线</td>\n</tr>\n<tr>\n<td>–&gt;&gt;</td>\n<td>有箭头的虚线</td>\n</tr>\n<tr>\n<td>-x</td>\n<td>末端为叉的实线（表示异步）</td>\n</tr>\n<tr>\n<td>–x</td>\n<td>末端为叉的虚线（表示异步）</td>\n</tr>\n</tbody></table>\n<h5 id=\"处理中\"><a href=\"#处理中\" class=\"headerlink\" title=\"处理中\"></a>处理中</h5><p>在消息线末尾增加 + ，则消息接收者进入当前消息的“处理中”状态；<br>在消息线末尾增加 - ，则消息接收者离开当前消息的“处理中”状态。</p>\n<p>或者使用以下语法直接说明某个参与者进入“处理中”状态</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">activate 参与者</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"标注\"><a href=\"#标注\" class=\"headerlink\" title=\"标注\"></a>标注</h5><p>语法如下</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">Note 位置表述 参与者<span class=\"punctuation\">:</span> 标注文字</span><br></pre></td></tr></table></figure>\n\n<p>其中位置表述可以为</p>\n<table>\n<thead>\n<tr>\n<th>表述</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>right of</td>\n<td>右侧</td>\n</tr>\n<tr>\n<td>left of</td>\n<td>左侧</td>\n</tr>\n<tr>\n<td>over</td>\n<td>在当中，可以横跨多个参与者</td>\n</tr>\n</tbody></table>\n<h5 id=\"循环\"><a href=\"#循环\" class=\"headerlink\" title=\"循环\"></a>循环</h5><p>语法</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">loop 循环的条件</span><br><span class=\"line\">    循环体描述语句</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n\n<h5 id=\"判断\"><a href=\"#判断\" class=\"headerlink\" title=\"判断\"></a>判断</h5><figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">alt 条件 <span class=\"number\">1</span> 描述</span><br><span class=\"line\">    分支 <span class=\"number\">1</span> 描述语句</span><br><span class=\"line\">else 条件 <span class=\"number\">2</span> 描述 # else 分支可选</span><br><span class=\"line\">    分支 <span class=\"number\">2</span> 描述语句</span><br><span class=\"line\">else ...</span><br><span class=\"line\">    ...</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n\n<p>如果遇到可选的情况，即没有 else 分支的情况，使用如下语法：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">opt 条件描述</span><br><span class=\"line\">    分支描述语句</span><br><span class=\"line\">end</span><br></pre></td></tr></table></figure>\n\n<p>例如</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">sequenceDiagram</span><br><span class=\"line\">    participant z as 张三</span><br><span class=\"line\">    participant l as 李四</span><br><span class=\"line\">    loop 日复一日</span><br><span class=\"line\">        z-&gt;&gt;l<span class=\"punctuation\">:</span> 吃了吗您呐？</span><br><span class=\"line\">        l--&gt;&gt;z<span class=\"punctuation\">:</span> 吃了，您呢？</span><br><span class=\"line\">        activate z</span><br><span class=\"line\">        Note left of z<span class=\"punctuation\">:</span> 想了一下</span><br><span class=\"line\">        alt 还没吃</span><br><span class=\"line\">            z-xl<span class=\"punctuation\">:</span> 还没呢，正准备回去吃</span><br><span class=\"line\">        else 已经吃了</span><br><span class=\"line\">            z-xl<span class=\"punctuation\">:</span> 我也吃过了，哈哈</span><br><span class=\"line\">        end</span><br><span class=\"line\">        opt 大过年的</span><br><span class=\"line\">            l--&gt;z<span class=\"punctuation\">:</span> 祝您新年好啊</span><br><span class=\"line\">        end</span><br><span class=\"line\">    end</span><br></pre></td></tr></table></figure>\n","categories":["markdown"],"tags":["markdown"]},{"title":"架构师图谱","url":"/docs/architect.html","content":"<h2 id=\"架构师技术图谱，助你早日成为架构师\"><a href=\"#架构师技术图谱，助你早日成为架构师\" class=\"headerlink\" title=\"架构师技术图谱，助你早日成为架构师\"></a>架构师技术图谱，助你早日成为架构师</h2><p><strong>架构师技术图谱包括</strong>：分布式、前端、大数据、存储、微服务、推荐系统、框架 、消息队列、编程语言、设计模式、重构、集群等内容。<br/></p>\n<span id=\"more\"></span>\n<ul>\n<li><a href=\"#%E5%88%86%E5%B8%83%E5%BC%8F\">分布式</a></li>\n<li><a href=\"#%E5%89%8D%E7%AB%AF\">前端</a></li>\n<li><a href=\"#%E5%A4%A7%E6%95%B0%E6%8D%AE\">大数据</a></li>\n<li><a href=\"#%E5%AD%98%E5%82%A8\">存储</a></li>\n<li><a href=\"#%E5%BE%AE%E6%9C%8D%E5%8A%A1\">微服务</a></li>\n<li><a href=\"#%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F\">推荐系统</a></li>\n<li><a href=\"#%E6%A1%86%E6%9E%B6\">框架</a></li>\n<li><a href=\"#%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97\">消息队列</a></li>\n<li><a href=\"#%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80\">编程语言</a></li>\n<li><a href=\"#%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F\">设计模式</a></li>\n<li><a href=\"#%E9%87%8D%E6%9E%84\">重构</a></li>\n<li><a href=\"#%E9%9B%86%E7%BE%A4\">集群</a></li>\n</ul>\n<h2 id=\"分布式\"><a href=\"#分布式\" class=\"headerlink\" title=\"分布式\"></a>分布式</h2><ul>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/nsv5xu&aid=17015&nid=271\" >[译] 分布式系统经典论文：Google Bigtable 的设计和实现 (OSDI 2006)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/hoonp5&aid=17008&nid=270\" >[译] 分布式系统经典论文：Amazon Dynamo 的设计和实现 (SOSP 2007)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4jtfat&aid=16979&nid=270\" >Apollo 配置中心：分布式部署<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5popmw&aid=16859&nid=269\" >分布式系统原理介绍<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/hp43pq&aid=16685&nid=267\" >高并发场景下分布式实时信令系统的架构实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/t421lk&aid=16627&nid=266\" >8 个月打磨，一份送给程序员的 “分布式系统” 合集<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1tyy60&aid=16540&nid=265\" >分布式系统关注点：360° 的全方位监控<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/99ydes&aid=16414&nid=264\" >分布式时序数据库 QTSDB 的设计与实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2ml4xz&aid=16474&nid=264\" >分布式系统关注点：构建易测试系统的 “六脉神剑”<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/o84er8&aid=16470&nid=264\" >轻松构建微服务之分布式配置中心<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/56ji5m&aid=16443&nid=264\" >个推基于 Zipkin 的分布式链路追踪实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dret83&aid=16439&nid=264\" >设计一个分布式 RPC 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/x0yb12&aid=16378&nid=263\" >MXNet 结合 kubeflow 进行分布式训练<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/mndgeq&aid=16293&nid=262\" >分布式数据缓存中的一致性哈希算法<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/npum4m&aid=16291&nid=262\" >聊一聊分布式对象存储解决方案<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/cczcuh&aid=16290&nid=262\" >分布式系统关注点：阻塞与非阻塞有什么区别？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/xhcewg&aid=16120&nid=260\" >UidGenerator：百度开源的分布式 ID 服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/lmuvic&aid=16085&nid=260\" >如何设计一个优秀的分布式系统？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2jy9rw&aid=16040&nid=259\" >分布式 ID 生成策略<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8yxaot&aid=16021&nid=259\" >从一个真实的分布式 ID 案例看如何做架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/s1kxx2&aid=16004&nid=259\" >近万字长文，设计分布式系统需要考虑因素的都在这里<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/36j135&aid=15949&nid=258\" >分布式 TensorFlow 编程模型演进<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/88u0ec&aid=15883&nid=257\" >基于 Redis 和 Lua 的分布式限流<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gu0vn2&aid=15786&nid=255\" >Aloha：一个分布式调度框架的设计与实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/c63w76&aid=15773&nid=255\" >可线性化检查：与 NP 完全问题做斗争<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0v90x2&aid=15664&nid=254\" >分布式架构设计之架构演进之路<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/c94mq1&aid=15707&nid=254\" >分布式系统设计经典论文<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/o5ng3q&aid=15647&nid=253\" >Leaf：美团分布式 ID 生成服务开源<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/x7ls8w&aid=15568&nid=252\" >宜信分布式安全服务编排实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/anbf4z&aid=15506&nid=251\" >xxl-registry：轻量级分布式服务注册中心<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/n7c6kj&aid=15424&nid=250\" >CAP 一致性协议及应用实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qnm4xm&aid=15406&nid=250\" >分布式系统关注点：弹性架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/hneodn&aid=15343&nid=249\" >Etcd Raft 使用入门及原理解析<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/jyot9s&aid=15280&nid=248\" >滴滴开源分布式消息中间件产品 DDMQ<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qdc5bq&aid=15271&nid=248\" >企业实施分布式架构的挑战以及应对建议<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/xsxyl5&aid=15240&nid=248\" >云端分布式架构下的编程语言：elixir; pattern matching<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/r7nlaa&aid=15210&nid=247\" >让 Raft 变快 100 倍：Dragonboat 的写优化<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ds18q6&aid=15197&nid=247\" >GMKV：分布式 kv 在更美 App 的落地<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qk23db&aid=15148&nid=247\" >基于 Licode 的 WebRTC 全球分布式架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/xf4vhf&aid=15133&nid=246\" >手绘 raft 一致性算法<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qh17sc&aid=15134&nid=246\" >为自己搭建一个分布式 IM（即时通讯）系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/lwb5b3&aid=15139&nid=246\" >kingbus：基于 Raft 的分布式 MySQL binlog 存储系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dos8cl&aid=15072&nid=245\" >[译] 伯克利开源多数据流实时分布式分析系统 Confluo，吞吐超 Kafka 4-10 倍<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/u4c7lv&aid=15068&nid=245\" >分布式系统的基石：深入浅出共识算法<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/l8oghr&aid=14990&nid=244\" >Ambry：LinkedIn 对象存储论文翻译<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/etrnyn&aid=14984&nid=244\" >Go 分布式实时服务架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/smpor6&aid=14918&nid=243\" >自己写分布式配置中心（上）：单机模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qlz79l&aid=14878&nid=242\" >唯品会分布式强一致日志存储系统 VDL 正式对外开源<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/u97o5l&aid=14876&nid=242\" >浅谈分布式最终一致性<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gpg6tz&aid=14873&nid=242\" >MIT 6.824 学习笔记（一）：MapReduce 详解<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ubh2z8&aid=14811&nid=241\" >用 Redis 实现分布式幂等服务中间件<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4ujc6y&aid=14662&nid=239\" >[译] 深度神经网络的分布式训练概述：常用方法和技巧全面总结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bb4qwr&aid=14585&nid=238\" >分布式系统关注点：做了负载均衡就可以随便加机器了吗？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/rnojsa&aid=14628&nid=238\" >分布式基础，通俗易懂 CAP？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vx5em2&aid=14543&nid=237\" >自己写分布式限流组件：基于 Redis 的 RateLimter<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1kid2f&aid=14510&nid=237\" >大规模 MySQL 运维陷阱之基于 MyCat 的伪分布式架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/yosx21&aid=14551&nid=237\" >分布式之消息队列复习精讲<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/fxnlcx&aid=14485&nid=236\" >分布式高性能 Redis 集群线上常见问题<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/nmeenq&aid=14366&nid=234\" >详解分布式协调服务 ZooKeeper<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4uqsp5&aid=14346&nid=234\" >如果再有人问你分布式 ID，这篇文章丢给他<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/sd7ohp&aid=14295&nid=233\" >带着问题学习分布式系统之数据分片<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/we1x5r&aid=14184&nid=232\" >[译] 构建大型支付系统时学到的分布式体系结构概念<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/99yztm&aid=14086&nid=230\" >分布式数据库 MVCC 技术探秘（二）：混合逻辑时钟<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pglb72&aid=14028&nid=229\" >分布式系统关注点：通过 “共识” 达成数据一致性<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qbsr5a&aid=14017&nid=229\" >如何设计分布式系统开关<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4jr8iz&aid=14016&nid=229\" >分布式系统与消息的投递<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/09bshx&aid=13957&nid=228\" >使用开源技术构建有赞分布式 KV 存储服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/y9caq7&aid=13878&nid=227\" >美图分布式 Bitmap 实践：Naix<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/lqz7i8&aid=13806&nid=226\" >Node.js：浅析高并发与分布式集群<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2cvy58&aid=13813&nid=226\" >分布式数据库 MVCC 技术探秘（一）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zphvz1&aid=13747&nid=225\" >扯什么区块链，应该是分布式账本和面向通证架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ifnec1&aid=13705&nid=224\" >学习分布式不得不会的 CAP 理论<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qjw2zk&aid=13528&nid=222\" >知乎十万级容器规模的分布式镜像仓库实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/08bm31&aid=13448&nid=221\" >主流分布式架构的风流韵事<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qxec8r&aid=13436&nid=220\" >如何快速开发一个 Dubbo 应用？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7w2ccy&aid=13428&nid=220\" >Google F1 是如何做 Schema 变更的<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8tgl38&aid=13398&nid=220\" >[译] 浅显易懂的分布式 TensorFlow 入门教程<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6jvkbu&aid=13297&nid=218\" >Raft 协议学习笔记<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/28xhz5&aid=13190&nid=217\" >基于可靠消息方案的分布式事务（二）：Java 中的事务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/h4do84&aid=13023&nid=214\" >青云新一代分布式数据库 RadonDB 开源了<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/tgun7k&aid=13007&nid=214\" >分布式跟踪工具 Pinpoint 初探<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/cptbrx&aid=13020&nid=214\" >一个 Raft 开源项目的结构分析<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3kiiw1&aid=12877&nid=212\" >分布式强一致性数据库的灵魂：Raft 算法<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/v74dxm&aid=12826&nid=211\" >分布式系统：一致性 hash 算法的应用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/lwkoz4&aid=12754&nid=210\" >分布式单点登录框架 XXL-SSO<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2a9ayg&aid=12667&nid=209\" >MPP 的进化：深入理解 Batch 和 MPP 优缺点<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6cr0xa&aid=12661&nid=209\" >同为分布式缓存，为何 Redis 更胜一筹？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/d0szfl&aid=12628&nid=209\" >[译] Uber 是如何用 Kafka 构建可靠的重试处理保证数据不丢失<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/rc9df3&aid=12597&nid=208\" >Zookeeper 源码：总体流程概览<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/r0izu8&aid=12580&nid=208\" >分布式系统设计：批处理模式之作业队列系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/m73fu0&aid=12579&nid=208\" >分布式理论：CAP 是三选二吗？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ehk25r&aid=12525&nid=207\" >GlusterFS 纠删码最佳实践应用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/sox15f&aid=12505&nid=207\" >加密货币和区块链（二）：分布式共识与去中心化<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qvrp0i&aid=12406&nid=206\" >饿了么异地多活技术实现（三）：GZS &amp; DAL<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/nucswn&aid=12333&nid=205\" >分布式技术集锦<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dbunl6&aid=12267&nid=204\" >漫谈分布式系统、拜占庭将军问题与区块链<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/e0h0tu&aid=12254&nid=203\" >Zeppelin：奇虎 360 出品的高性能分布式 KV 存储平台<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/m0se1z&aid=12191&nid=203\" >分布式系统数据层设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/nqxt5d&aid=12177&nid=202\" >跟繁琐的命令行说拜拜，Gerapy 分布式爬虫管理框架来袭<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/u64f4z&aid=12116&nid=202\" >分布式 Redis 架构设计简介<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/k8b72k&aid=11995&nid=200\" >分布式文件系统 FastDFS 详解<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/t5avsp&aid=11925&nid=199\" >ELK 6.0 部署：Elasticsearch + Logstash + Kibana 搭建分布式日志平台<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pjgx6k&aid=11861&nid=198\" >VDL：唯品会强一致、高可用、高性能分布式日志存储介绍<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3j0nur&aid=11857&nid=198\" >分布式一致性与共识算法<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dqfevp&aid=11851&nid=198\" >RAID 6 应用于消息队列<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/m45adb&aid=11764&nid=197\" >分布式系统中的必备良药：RPC<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/jpxhgu&aid=11701&nid=196\" >区块链：利用 IPFS 构建自己的去中心化分布式 Wiki 系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/enlfg4&aid=11707&nid=196\" >分布式消息队列实现概要<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ij76vu&aid=11631&nid=195\" >分布式实时日志分析解决方案 ELK 部署架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/yz54cq&aid=11634&nid=195\" >dedid：为分布式数据库而设计的全局唯一 ID（主键）生成器<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ltrkvn&aid=11592&nid=195\" >OceanBase 1.0 分布式技术架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5j581f&aid=11551&nid=194\" >分布式数据库的故障和常见处理机制<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1w3gk0&aid=11537&nid=194\" >日志：分布式系统的核心<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/xmm8rr&aid=11403&nid=192\" >Netflix Archaius 分布式配置管理依赖构件<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7yen01&aid=11351&nid=191\" >Pegasus：小米出品的分布式 Key-Value 存储系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8408lv&aid=11348&nid=191\" >XXL-CRAWLER：灵活高效、面向对象的分布式爬虫框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8h65sd&aid=11335&nid=191\" >使用 Redis 实现分布式锁及其优化<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/46dmov&aid=11333&nid=191\" >Kafka 的复制机制<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/seveyq&aid=11328&nid=191\" >Zookeeper：分布式过程协同技术详解<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vnqayf&aid=11281&nid=191\" >浅谈大规模分布式系统中那些技术点<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gkwe82&aid=11251&nid=190\" >分布式键值存储 Dynamo 的实现原理<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5fktt9&aid=11242&nid=190\" >浅谈分布式存储系统中的数据一致性要求<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/890p4c&aid=11124&nid=188\" >[译] 创建一个分布式网络爬虫的故事<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/m7g6fg&aid=11125&nid=188\" >分布式文件管理系统 JDFS（五）：整体架构描述<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7vtyw7&aid=11092&nid=187\" >使用 Chaos 测试分布式系统线性一致性<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/v74im8&aid=11090&nid=187\" >分布式搜索数据库性能探究<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9hmeq6&aid=10935&nid=185\" >微信开源 PhxQueue：高可用、高可靠、高性能的分布式队列<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/mdp3vq&aid=10751&nid=183\" >一文教你迅速解决分布式事务 XA 一致性问题<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/020ikb&aid=10749&nid=183\" >分布式 ID 生成方案概述<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/e1q2rc&aid=10640&nid=182\" >分布式系统架构设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/sntl6i&aid=10587&nid=181\" >如何用 Go 打造亿级实时分布式出行平台<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6hslm0&aid=10545&nid=180\" >分布式流式处理的新贵 Kafka Stream<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dk2by4&aid=10486&nid=180\" >微服务架构上云最佳实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3ijcsx&aid=10558&nid=180\" >molten：PHP 应用透明链路追踪工具<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/a2vhin&aid=10427&nid=179\" >[译] 如何选择合适的分布式机器学习平台<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/nthju4&aid=10454&nid=179\" >漫谈分布式系统：三种通信范型<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ceqbdy&aid=10470&nid=179\" >如何在 Spring Cloud 分布式系统中实现分布式锁？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/tvnj08&aid=10398&nid=178\" >Hystrix 实现分布式系统中的故障容错<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/cbmvci&aid=10381&nid=178\" >浅谈分布式服务协调技术 Zookeeper<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ve6tex&aid=10323&nid=177\" >[译] Metrics, tracing 和 logging 的关系<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3egyo2&aid=10243&nid=176\" >使用 DDAL 快速构建分布式数据库应用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qky7vp&aid=10242&nid=176\" >etcd raft 如何实现成员变更<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gqu0j2&aid=10237&nid=176\" >单体中心代码库 vs. 分布式代码库<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/o9e9gh&aid=10095&nid=174\" >Laravel + go-micro + grpc 实践基于 Zipkin 的分布式链路追踪系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gja08a&aid=10092&nid=174\" >分布式系统概念<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5vo24o&aid=10048&nid=173\" >例解 Poxos 算法<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/d1vrcq&aid=10059&nid=173\" >jd_spider：两只蠢萌京东的分布式爬虫<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0p8zys&aid=9932&nid=172\" >Angel：腾讯出品的基于参数服务器理念开发的高性能分布式机器学习平台<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/opdnzv&aid=9960&nid=172\" >分布式调用链监控资源总结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/462xte&aid=9698&nid=168\" >针对 PHP 做的 Ragnar Fiery 分布式性能跟踪系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ckl80f&aid=9696&nid=168\" >GFS 阅读笔记<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4hoeqi&aid=9681&nid=168\" >自己动手扩展分布式调用链<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/66jwr8&aid=9640&nid=167\" >分布式系统常见的事务处理机制<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/z5bsmr&aid=9619&nid=167\" >[译] 再谈 CAP 理论<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/jj0kd7&aid=9601&nid=167\" >KAFKA：如何做到 1 秒发布百万级条消息<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/d9f2pk&aid=9554&nid=166\" >Kudu：一个融合低延迟写入和高性能分析的存储系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/fyq4pz&aid=9423&nid=164\" >Leaf：美团点评分布式 ID 生成系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/sf3p9s&aid=9412&nid=164\" >MapReduce 阅读笔记<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/u894hm&aid=9229&nid=162\" >微博百万用户分布式压测实践手记<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/liwba6&aid=9228&nid=162\" >如何打造支撑百万用户的分布式代码托管平台<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ubeub6&aid=9197&nid=161\" >Spark 自己的分布式存储系统：BlockManager<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1ej2bx&aid=9150&nid=161\" >最大努力通知？No，事务消息<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/aclw19&aid=9215&nid=161\" >Voyage：Java 实现的基于 Netty 的轻量、高性能分布式 RPC 服务框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/s6wy1e&aid=9078&nid=160\" >分布式服务化系统一致性的 “最佳实干”<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/g0j0hh&aid=9114&nid=160\" >分布式事务之聊聊 TCC<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/utsyhi&aid=9119&nid=160\" >分布式任务队列 Celery 介绍<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ozty3i&aid=9043&nid=159\" >一个简单的分布式 Web 扫描器的设计与实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/90t7zh&aid=9005&nid=159\" >微服务架构下的分布式数据管理<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/grr0d3&aid=8993&nid=158\" >XXL-JOB：分布式任务调度平台<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gxhx9w&aid=8978&nid=158\" >Spark 分布式的基础：通信系统 rpc<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/n7qpkw&aid=8945&nid=158\" >腾讯云分布式高可靠消息队列 CMQ 架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5wma7d&aid=8911&nid=157\" >Golang 高性能分布式游戏服务器框架 mqant<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dufjn5&aid=8893&nid=157\" >分布式系统研发心得<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0w8lyo&aid=8776&nid=155\" >Antares：分布式任务调度平台<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2ifjzc&aid=8763&nid=155\" >RPC 基本原理与 Apache Thrift 初体验<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/p21ck6&aid=8646&nid=154\" >OceanBase 1.0 分布式技术架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/mnuuvd&aid=8579&nid=153\" >万亿级数据洪峰下的分布式消息引擎<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/exoywq&aid=8356&nid=149\" >分布式系统调用链监控<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zqe5ru&aid=8310&nid=148\" >从 ACID 到 CAP&#x2F;BASE<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gfsopo&aid=8224&nid=147\" >NewSQL 究竟新在哪里？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/v1fi3e&aid=8118&nid=145\" >分布式系统本质论（3&#x2F;3）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/k0srwe&aid=8054&nid=144\" >不妥协：分布式事务的一致性、可用性和性能<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qziz1m&aid=8042&nid=144\" >CAP 初窥<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ttqk69&aid=7995&nid=143\" >一名分布式存储工程师的技能树是怎样的？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/cu6dnv&aid=7993&nid=143\" >分布式锁总结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/i5raq9&aid=7980&nid=143\" >深度剖析开源分布式监控 CAT<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/jdlch0&aid=7914&nid=142\" >浅析分布式系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/864at1&aid=7871&nid=141\" >RSF 分布式 RPC 服务框架的分层设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/jgeeg9&aid=7777&nid=140\" >自己动手写分布式 KV 存储引擎（二）：网络框架中的定时器原理和实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2nh7g6&aid=7761&nid=139\" >JLiteSpider：轻量级的分布式 Java 爬虫框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/fmco5p&aid=7708&nid=139\" >分布式会话跟踪系统架构设计与实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/epyfg1&aid=7094&nid=130\" >分布式队列编程（优化篇）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/b8cwtq&aid=7138&nid=130\" >分布式事务（一）：两阶段提交及 JTA<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qaxd7m&aid=7046&nid=129\" >探秘阿里分布式任务调度服务 SchedulerX<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5llwer&aid=7035&nid=129\" >分布式队列编程：模型、实战<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/blkw89&aid=7001&nid=128\" >Dora RPC：PHP 的分布式 RPC，支持微服务、服务发现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/w5dp8u&aid=6908&nid=127\" >不懂点 CAP 理论，你好意思说你是做分布式的吗？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/t70i21&aid=6809&nid=125\" >SeimiCrawler：敏捷、独立部署、支持分布式的 Java 爬虫框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/s1tb5m&aid=6748&nid=125\" >分布式系统设计的求生之路<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bj8f2u&aid=6724&nid=124\" >[PPT] 一次重构引发的分布式服务管理<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/sf6ol6&aid=6661&nid=123\" >基于 Dubbo 框架构建分布式服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/kvr7zf&aid=6492&nid=121\" >深入理解分布式系统的 2PC 和 3PC<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/prwrns&aid=6399&nid=120\" >分布式搜索引擎（二）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zyeuuk&aid=6443&nid=120\" >RPCX：类似 Dubbo 的分布式 RPC 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/fbb5j5&aid=6258&nid=118\" >可靠分布式系统基础 Paxos 的直观解释<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/95qo0b&aid=6060&nid=116\" >高性能分布式 Mock 平台的框架与设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1kmh7y&aid=6047&nid=115\" >Zipkin：分布式追踪系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bowh0f&aid=6010&nid=115\" >一名分布式存储工程师的技能树是怎样的？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/45m47x&aid=5696&nid=111\" >使用 DRPC 构建分布式多语言编程架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/73xmbk&aid=5559&nid=109\" >美团云分布式块存储系统 Ursa 的设计与实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/agpnck&aid=5541&nid=109\" >Sky Walking：对 Java 分布式应用程序集群业务运行情况进行追踪、告警和分析的系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8uhegb&aid=5463&nid=108\" >几个分布式基础算法<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/debq0t&aid=5181&nid=104\" >zerg：基于 Docker 的分布式爬虫服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/q9mtan&aid=5146&nid=104\" >微博分布式存储考试题：案例讲解及作业精选<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/uu90n0&aid=5099&nid=104\" >[译] Dapper，大规模分布式系统的跟踪系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/es7m4x&aid=4864&nid=101\" >日志系统之基于 Zookeeper 的分布式协同设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vs2yhz&aid=4769&nid=100\" >[译] 当讨论分布式系统时，我们都会讨论些什么？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dwli3k&aid=4453&nid=97\" >[译] 设计全球级的分布式、任务关键型应用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/64hdc0&aid=4143&nid=94\" >分布式文件系统 FastDFS 架构剖析<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/t9ytxc&aid=4079&nid=93\" >.NET 大型分布式电子商务架构说明<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/94etx&aid=3946&nid=91\" >开源分布式计算系统框架比较<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7sjbj&aid=3930&nid=91\" >系统分布式情况下最终一致性方案梳理<i class=\"fas fa-external-link-alt\"></i></a></li>\n</ul>\n<h2 id=\"前端\"><a href=\"#前端\" class=\"headerlink\" title=\"前端\"></a>前端</h2><ul>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8sctee&aid=17145&nid=272\" >Serverless 掀起新的前端技术变革<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/nzomb0&aid=17135&nid=272\" >前端要知道的 RESTful API 架构风格<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/p20k50&aid=16887&nid=269\" >记一次前端项目重构要点总结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/cosds3&aid=16432&nid=264\" >大型项目前端架构浅谈<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zm5v0z&aid=15137&nid=246\" >简单高性能的 JavaScript 组件框架 Ale.js<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1f9hjy&aid=14289&nid=233\" >前端重构范式之 position<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/yw7ikn&aid=14232&nid=232\" >面向体验的重构优化<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/j6ow58&aid=14152&nid=231\" >用微前端的方式搭建类单页应用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/if6kcd&aid=13886&nid=227\" >前端重构范式之 float layout<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/djks43&aid=13835&nid=226\" >[译] Uber 开源 Fusion.js：一个基于插件架构的通用 Web 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/lqz7i8&aid=13806&nid=226\" >Node.js：浅析高并发与分布式集群<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/tevbzv&aid=13837&nid=226\" >size-sensor：开源高性能 DOM 元素尺寸监听器<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/g2nb3j&aid=13703&nid=224\" >微前端快速选型指南<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ctjcpt&aid=13580&nid=223\" >移动应用架构演变及泛前端趋势下移动团队破局<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/z50khd&aid=13525&nid=222\" >实施前端微服务化的六七种方式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pmw8k9&aid=13468&nid=221\" >重构 React 组件的实用清单<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1orta0&aid=13207&nid=217\" >[译] 你需要了解的 23 种 JavaScript 设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/o3pp4d&aid=13206&nid=217\" >Web 框架的架构模式探讨（JavaScript 语言）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0bdvnn&aid=12942&nid=213\" >Webpack 基本架构浅析<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/n96o20&aid=12747&nid=210\" >浅谈 Chromium 中的设计模式（一）：Chromium 中模块分层和进程模型<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7lfr8v&aid=12317&nid=204\" >技术雷达之 “微前端”：将微服务理念扩展到前端开发<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/q3q80x&aid=12083&nid=201\" >从 Nuxt.js 学习到了什么<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gjtz0e&aid=11921&nid=199\" >React 应用架构设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/arjm1p&aid=11928&nid=199\" >技术雷达之 “微前端”：将微服务理念扩展到前端开发<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bkm8ln&aid=11862&nid=198\" >基于 Egg 的高可靠高性能 React 同构解决方案 beidou 开源了<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/t3rpu2&aid=11127&nid=188\" >当 Web 前端架构方案遇上《金瓶梅》<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/009rtd&aid=11072&nid=187\" >[译] 实现达到 60FPS 的高性能交互动画<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/78clyh&aid=10593&nid=181\" >[译] 探索 ReactJS 中的 CSS 架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9cmumb&aid=10467&nid=179\" >[译] 如何实现前端微服务化？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gwys2d&aid=10401&nid=178\" >webpack 多页应用架构系列（十六）：善用浏览器缓存，该去则去，该留则留<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vzmo7j&aid=10088&nid=174\" >你了解 CSS 设计模式吗？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/z3a1xm&aid=10034&nid=173\" >前端高并发策略的更深层思考<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0vgh5v&aid=9614&nid=167\" >美团点评酒旅前端的技术体系<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/u9fwu3&aid=9469&nid=165\" >[译] 解析 Twitter 前端架构，学习复杂场景数据设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6lihs5&aid=9296&nid=163\" >[译] Twitter Lite 以及大规模的高性能 React 渐进式网络应用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0v0kpa&aid=9079&nid=160\" >小程序底层框架实现原理解析<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/n0gdvg&aid=8790&nid=156\" >[译] Google 是如何开发 Web 框架的<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/54dv15&aid=8823&nid=156\" >API 设计之道<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/u4ugs5&aid=7881&nid=141\" >《webpack 多页应用架构系列》电子书<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pq17kb&aid=7739&nid=139\" >在重构脚手架中掌握 React &#x2F; Redux &#x2F; Webpack2 基本套路<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/spvwfm&aid=6833&nid=126\" >支付宝前端应用架构的发展和选择<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/oqk60t&aid=6813&nid=126\" >[译] Node.js 架构概览<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vypknr&aid=6604&nid=123\" >如何重构一个大型历史项目：百度经验改版总结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/b6vsm5&aid=6008&nid=115\" >公司前端开发架构改造<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/c4gdsh&aid=5764&nid=112\" >58 同城前后端分离开发模式实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/wt0rm6&aid=5734&nid=111\" >[译] Redux：一个启发自 Flux 的架构风格<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1kk7rx&aid=5504&nid=109\" >从两个角度，一个小例子浅析 Node.js 架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/wuj4vg&aid=5151&nid=104\" >前端也应该了解点 Docker 知识：Docker 架构（上）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ihikv&aid=2710&nid=77\" >前端技能训练：重构一 (@Phodal)<i class=\"fas fa-external-link-alt\"></i></a></li>\n</ul>\n<h2 id=\"大数据\"><a href=\"#大数据\" class=\"headerlink\" title=\"大数据\"></a>大数据</h2><ul>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/kpzid9&aid=16684&nid=267\" >每秒千万级的实时数据处理是怎么实现的？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0lqb9u&aid=16615&nid=266\" >流沙：宜信安全数据平台实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/621wdc&aid=16469&nid=264\" >数据与广告系列（七）：广告与推荐系统技术架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/mndgeq&aid=16293&nid=262\" >分布式数据缓存中的一致性哈希算法<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/b78d1l&aid=16277&nid=262\" >从零开始入门推荐算法工程师<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/mlh95d&aid=16009&nid=259\" >Alluxio 创始成员范斌：AI 与开源背景下数据架构的演变<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/88u0ec&aid=15883&nid=257\" >基于 Redis 和 Lua 的分布式限流<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/padg21&aid=15650&nid=253\" >NutsDB：纯 Go 编写的高性能内嵌型 KV 数据库<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bx4tiy&aid=15297&nid=249\" >那些年用过的 Redis 集群架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/44rb55&aid=15000&nid=244\" >为什么使用主数据思维构建微服务是一种好方式？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/mp156e&aid=14893&nid=243\" >业务库负载翻了百倍，我做了什么来拯救 MySQL 架构？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/rm0hc6&aid=14832&nid=242\" >毫秒级从百亿大表任意维度筛选数据是怎么做到的？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gpg6tz&aid=14873&nid=242\" >MIT 6.824 学习笔记（一）：MapReduce 详解<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ubh2z8&aid=14811&nid=241\" >用 Redis 实现分布式幂等服务中间件<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1w7ee1&aid=14650&nid=239\" >携程数据库高可用和容灾架构演进<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vx5em2&aid=14543&nid=237\" >自己写分布式限流组件：基于 Redis 的 RateLimter<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1kid2f&aid=14510&nid=237\" >大规模 MySQL 运维陷阱之基于 MyCat 的伪分布式架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/fxnlcx&aid=14485&nid=236\" >分布式高性能 Redis 集群线上常见问题<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3ki1zs&aid=14383&nid=235\" >海量数据的挑战：微博直播答题架构实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/kwdn9d&aid=14382&nid=235\" >大数据推荐系统实时架构和离线架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7klmai&aid=14358&nid=234\" >ZooKeeper 架构设计与角色分工<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zpyhlq&aid=14251&nid=233\" >从单机到 2000 万 QPS：知乎 Redis 平台发展与演进之路<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/w8pn06&aid=14250&nid=233\" >阿里如何实现秒级百万 TPS？搜索离线大数据平台架构解读<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/99yztm&aid=14086&nid=230\" >分布式数据库 MVCC 技术探秘（二）：混合逻辑时钟<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/kwj7pg&aid=13979&nid=229\" >美图大数据平台架构实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/114cq1&aid=13916&nid=228\" >360 大数据中心平台化的演进与实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qbsxb1&aid=13850&nid=227\" >金融级数据库的多活架构实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2cvy58&aid=13813&nid=226\" >分布式数据库 MVCC 技术探秘（一）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2wekdm&aid=13792&nid=226\" >58 速运架构实战：拆分服务与 DB，突破 “中心化” 瓶颈<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/svnpvi&aid=13694&nid=224\" >[译] Flink 创始人谈流计算核心架构演化和现状<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zvkt04&aid=13657&nid=224\" >面向机器学习数据平台的设计与搭建<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pdwme8&aid=13581&nid=223\" >京东推荐系统架构揭秘：大数据时代下的智能化改造<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/r6hzop&aid=13536&nid=222\" >HBase 高性能随机查询之道：HFile 原理解析<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4sc1s0&aid=13520&nid=222\" >沪江订单系统分表项目实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/joh2qt&aid=13484&nid=221\" >快速理解 OpenTSDB 的 Schema 设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7w2ccy&aid=13428&nid=220\" >Google F1 是如何做 Schema 变更的<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/xgjvf4&aid=13357&nid=219\" >理解索引：HBase 介绍和架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bbcpjn&aid=13252&nid=218\" >PB 级海量数据服务平台架构设计实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/cazqgv&aid=13222&nid=217\" >MySQL 高可用集群方案之 PXC<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/h4do84&aid=13023&nid=214\" >青云新一代分布式数据库 RadonDB 开源了<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1usznh&aid=12949&nid=213\" >[译] 使用 Redis 实现高流量的限速器<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/hf599t&aid=12902&nid=213\" >BigTable 系统的设计与实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3kiiw1&aid=12877&nid=212\" >分布式强一致性数据库的灵魂：Raft 算法<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/t7jma7&aid=12769&nid=211\" >史上最全 Redis 高可用技术解决方案大全<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2a9ayg&aid=12667&nid=209\" >MPP 的进化：深入理解 Batch 和 MPP 优缺点<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6cr0xa&aid=12661&nid=209\" >同为分布式缓存，为何 Redis 更胜一筹？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ezmax6&aid=12626&nid=209\" >每天数百亿用户行为数据，美团点评怎么实现秒级转化分析？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/rpo5x5&aid=12584&nid=208\" >浅谈大数据平台基建的逻辑<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/m0se1z&aid=12191&nid=203\" >分布式系统数据层设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/u64f4z&aid=12116&nid=202\" >分布式 Redis 架构设计简介<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/wvm2jp&aid=11879&nid=199\" >Hulu 大数据架构与应用经验<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/yz54cq&aid=11634&nid=195\" >dedid：为分布式数据库而设计的全局唯一 ID（主键）生成器<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ltrkvn&aid=11592&nid=195\" >OceanBase 1.0 分布式技术架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5j581f&aid=11551&nid=194\" >分布式数据库的故障和常见处理机制<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/j0n7id&aid=11517&nid=194\" >如何打造千万级 Feed 流系统？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/lztm2c&aid=11432&nid=193\" >基于 Redis 的限流系统的设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8h65sd&aid=11335&nid=191\" >使用 Redis 实现分布式锁及其优化<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5fktt9&aid=11242&nid=190\" >浅谈分布式存储系统中的数据一致性要求<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/v74im8&aid=11090&nid=187\" >分布式搜索数据库性能探究<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pf86r4&aid=10955&nid=186\" >人工智能在线特征系统中的生产调度<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2znejs&aid=10488&nid=180\" >Redis 在京东到家的订单中的使用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/m7wnyn&aid=10411&nid=179\" >PhxSQL 设计与实现（详细版）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2tvmmk&aid=10205&nid=176\" >基于大数据平台的实时质量监控平台的架构设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/d7b2z4&aid=10260&nid=176\" >1 对多业务，数据库水平切分架构一次搞定<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3egyo2&aid=10243&nid=176\" >使用 DDAL 快速构建分布式数据库应用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/icvg0r&aid=10159&nid=175\" >一张思维导图学会如何构建高性能 MySQL 系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5bst03&aid=10065&nid=174\" >美团点评数据库高可用架构的演进与设想<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dlkoz9&aid=9897&nid=171\" >揭秘网易大数据实践与基于微服务的应用架构设计实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/jo3rvs&aid=9812&nid=170\" >典型数据库架构设计与实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3bfosy&aid=9715&nid=169\" >360 海量数据存储 Zeppelin 设计与实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/b3mj7w&aid=9655&nid=168\" >搭建一个 Redis 高可用系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/k5vzku&aid=9654&nid=168\" >滴滴出行海量数据背后的高可用架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/q1j0l1&aid=9611&nid=167\" >大数据环境下该如何优雅地设计数据分层<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/j4639h&aid=9588&nid=167\" >iOS 无埋点数据 SDK 的整体设计与技术实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/73n6pb&aid=9519&nid=166\" >美团的大数据平台架构实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/131fd5&aid=9446&nid=165\" >日处理 20 亿数据，实时用户行为服务系统架构实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/io6pkb&aid=9472&nid=165\" >CRS：腾讯云 Redis 产品架构解析<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/90t7zh&aid=9005&nid=159\" >微服务架构下的分布式数据管理<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4j5kpq&aid=9003&nid=159\" >中华万年历大数据平台演进<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/lteldm&aid=9038&nid=159\" >京东发布 MySQL Group Replication 官方文档中文版<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5in72j&aid=8791&nid=156\" >微店索引数据 dump 架构演进<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/p21ck6&aid=8646&nid=154\" >OceanBase 1.0 分布式技术架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/mnuuvd&aid=8579&nid=153\" >万亿级数据洪峰下的分布式消息引擎<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pts7bc&aid=8569&nid=152\" >Gores：Go 语言编写的基于 Redis 的消息队列系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ucy4jn&aid=8289&nid=148\" >MySQL 高性能存储引擎：TokuDB 初探<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/tsuyz4&aid=8226&nid=147\" >[译] 不使用 Trigger 的设计理念<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gfsopo&aid=8224&nid=147\" >NewSQL 究竟新在哪里？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0bmanu&aid=8016&nid=144\" >神策分析的技术选型与架构实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7iewb4&aid=7125&nid=130\" >MySQL 数据库中间件的高可用方案<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gx5hfc&aid=6965&nid=128\" >用 MHA 轻松实现 MySQL 高可用（一）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/eonf0v&aid=6971&nid=128\" >数据系统架构：Lambda architecture<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8u2o1a&aid=6973&nid=128\" >大数据环境下互联网行业数据仓库&#x2F;数据平台的架构之漫谈（续）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0kzpxa&aid=6811&nid=126\" >海量高性能列式数据库 HiStore 技术架构解析<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9y8l7q&aid=6713&nid=124\" >MySQL 架构优化实战系列（二）：主从复制同步与查询性能调优<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8b4zfw&aid=6311&nid=119\" >iOS MVVM 架构：界面与数据 I&#x2F;O 逻辑分离的实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6cx07b&aid=6248&nid=118\" >Redis 字符串类型实现内幕<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/m1z3dv&aid=6138&nid=117\" >乐视秒杀：每秒十万笔交易的数据架构解读<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/mgyqgq&aid=6096&nid=116\" >从日志统计到大数据分析（十六）：元<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/b5wu4n&aid=6019&nid=115\" >秒级处理海量数据，浙江移动大数据平台是怎么做到的？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3tr1ro&aid=5901&nid=114\" >Hadoop NameNode 高可用 (High Availability) 实现解析<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/lf5p2m&aid=5361&nid=107\" >用 Swift 搭建数据驱动型 iOS 架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/x4459x&aid=5329&nid=106\" >[译] 数据处理平台架构中的 SMACK 组合<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ynunyg&aid=4857&nid=101\" >大数据 &#x2F; 数据挖掘 &#x2F; 推荐系统 &#x2F; 机器学习相关资源<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/nb0fio&aid=4299&nid=95\" >我所理解的大数据个性化推荐<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/m5b8fh&aid=4063&nid=93\" >数据库软件架构设计些什么<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/i7s7se&aid=4062&nid=93\" >基于用户画像大数据的电商防刷架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n</ul>\n<h2 id=\"存储\"><a href=\"#存储\" class=\"headerlink\" title=\"存储\"></a>存储</h2><ul>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/l8oghr&aid=14990&nid=244\" >Ambry：LinkedIn 对象存储论文翻译<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qlz79l&aid=14878&nid=242\" >唯品会分布式强一致日志存储系统 VDL 正式对外开源<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/09bshx&aid=13957&nid=228\" >使用开源技术构建有赞分布式 KV 存储服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/505qkj&aid=13851&nid=227\" >天池中间件大赛：单机百万消息队列存储分享<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ehk25r&aid=12525&nid=207\" >GlusterFS 纠删码最佳实践应用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/e0h0tu&aid=12254&nid=203\" >Zeppelin：奇虎 360 出品的高性能分布式 KV 存储平台<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pjgx6k&aid=11861&nid=198\" >VDL：唯品会强一致、高可用、高性能分布式日志存储介绍<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7yen01&aid=11351&nid=191\" >Pegasus：小米出品的分布式 Key-Value 存储系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gkwe82&aid=11251&nid=190\" >分布式键值存储 Dynamo 的实现原理<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5fktt9&aid=11242&nid=190\" >浅谈分布式存储系统中的数据一致性要求<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/amj0xn&aid=11203&nid=189\" >badger：一个高性能的 LSM K&#x2F;V store<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5qqd3w&aid=10990&nid=186\" >我跟存储的这 10 年<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3bfosy&aid=9715&nid=169\" >360 海量数据存储 Zeppelin 设计与实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/d9f2pk&aid=9554&nid=166\" >Kudu：一个融合低延迟写入和高性能分析的存储系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ubeub6&aid=9197&nid=161\" >Spark 自己的分布式存储系统：BlockManager<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8v4dgh&aid=8647&nid=154\" >微信红包订单存储架构变迁的最佳实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ucy4jn&aid=8289&nid=148\" >MySQL 高性能存储引擎：TokuDB 初探<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ttqk69&aid=7995&nid=143\" >一名分布式存储工程师的技能树是怎样的？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/jgeeg9&aid=7777&nid=140\" >自己动手写分布式 KV 存储引擎（二）：网络框架中的定时器原理和实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/h1z7r3&aid=7020&nid=129\" >Android 存储系统之架构篇<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bowh0f&aid=6010&nid=115\" >一名分布式存储工程师的技能树是怎样的？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/73xmbk&aid=5559&nid=109\" >美团云分布式块存储系统 Ursa 的设计与实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/q9mtan&aid=5146&nid=104\" >微博分布式存储考试题：案例讲解及作业精选<i class=\"fas fa-external-link-alt\"></i></a></li>\n</ul>\n<h2 id=\"微服务\"><a href=\"#微服务\" class=\"headerlink\" title=\"微服务\"></a>微服务</h2><ul>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/tq492f&aid=17102&nid=272\" >微服务中使用 OpenJ9 JVM 内存占用降 60%（相对 HotSpot）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/hn0ni4&aid=17003&nid=270\" >高性能微服务网关 .NETCore 客户端 Kong.Net 开源发布<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/t5kl7a&aid=16740&nid=267\" >微服务任务调度平台 SIA-TASK 入手实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0iwp7w&aid=16601&nid=266\" >[译] 为什么微服务适合我们<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/527e3y&aid=16600&nid=266\" >微服务架构与领域驱动设计应用实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/p54rbk&aid=16547&nid=265\" >[译] 容器、微服务和服务网格简史<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/56ji5m&aid=16443&nid=264\" >个推基于 Zipkin 的分布式链路追踪实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vwjg5c&aid=16440&nid=264\" >可落地的 DDD（三）：如何利用 DDD 进行微服务的划分<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/o84er8&aid=16470&nid=264\" >轻松构建微服务之分布式配置中心<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/57dduv&aid=16356&nid=263\" >轻松构建微服务之远程调用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/x7mni2&aid=16287&nid=262\" >微服务架构下的配置管理：Apollo<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/meg1cl&aid=16252&nid=262\" >土味微服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7q0a3u&aid=16189&nid=261\" >微服务化后缓存怎么做<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/lzegj5&aid=16108&nid=260\" >最全的微服务知识科普<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/f1k7wv&aid=16052&nid=259\" >聊一聊微服务网关 kong 近期的模型变迁<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/37u12h&aid=16020&nid=259\" >小团队微服务落地实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6018jy&aid=15887&nid=257\" >[译] 混合微服务模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/oopku4&aid=15866&nid=257\" >[译] 未来我们对微服务和 Serverless 架构有什么期望<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/fnp7wn&aid=15727&nid=255\" >微保 API 网关的探索与实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/awfudg&aid=15641&nid=253\" >[译] 使用 Grab 的实验平台进行混沌实验编排<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/74yprd&aid=15520&nid=252\" >离不开的微服务架构，脱不开的 RPC 细节<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/jldsgp&aid=15500&nid=251\" >小团队的微服务之路<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/43p70f&aid=15428&nid=250\" >对没有监控的微服务 Say No<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6ymuhx&aid=15401&nid=250\" >虎牙直播在微服务改造方面的实践和总结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/odbfuv&aid=15397&nid=250\" >B 站基于大仓库的 CI&#x2F;CD 及微服务实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/f0uwf1&aid=15360&nid=250\" >从 “挖光缆” 到 “剪网线”：蚂蚁金服异地多活单元化架构下的微服务体系<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/65zho9&aid=15186&nid=247\" >重新理解 Martin Fowler 对微服务的定义<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/z1n2qv&aid=15086&nid=246\" >小型系统如何 “微服务” 开发<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/piiy8y&aid=15057&nid=245\" >Kafka 如何解决常见的微服务通信问题<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/44rb55&aid=15000&nid=244\" >为什么使用主数据思维构建微服务是一种好方式？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vnvqk7&aid=14937&nid=243\" >[译] 微服务通信的设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/cai7gs&aid=14932&nid=243\" >随行付微服务之数据同步 Porter<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4ju4tg&aid=14892&nid=243\" >[译] 微服务设计指南<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/yp0jtz&aid=14874&nid=242\" >走进 Service Mesh<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/jzn3sg&aid=14801&nid=241\" >Restful API 监控实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ms81by&aid=14770&nid=241\" >DAGOR：微信微服务过载控制系统（附论文）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/cwhh48&aid=14714&nid=240\" >基于 Spring Cloud 的微服务架构演变史<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4gy52r&aid=14747&nid=240\" >微服务测试的思考与实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/odkk8i&aid=14651&nid=239\" >致传统企业朋友：不够痛就别微服务，有坑<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/39utp2&aid=14561&nid=237\" >讨论微服务之前，你知道微服务的 4 个定义吗？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3n201x&aid=14549&nid=237\" >个推基于 Docker 和 Kubernetes 的微服务实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9o4d71&aid=14311&nid=234\" >爱奇艺视频后台从 “单兵作战” 到 “团队协作” 的微服务实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/l2jvii&aid=14234&nid=232\" >基于 consul 实现微服务的服务发现和负载均衡<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/d7394m&aid=14161&nid=231\" >认证鉴权与 API 权限控制在微服务架构中的设计与实现：升级<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qu5cwp&aid=14160&nid=231\" >SOFA 微服务多语言演进<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/j6ow58&aid=14152&nid=231\" >用微前端的方式搭建类单页应用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/yrntvt&aid=14052&nid=230\" >为啥我用了微服务架构，软件还是不好修改啊？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6vcdxh&aid=14032&nid=229\" >携程微服务架构下的测试浅谈<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bcqfzr&aid=13918&nid=228\" >[译] 微服务的 10 个挑战和解决方案<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/mwhpkm&aid=13968&nid=228\" >[译] 推荐 30 个用于微服务的顶级工具<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/e35r0j&aid=13769&nid=225\" >服务框架的技术栈<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0hkfi4&aid=13706&nid=224\" >Spring Cloud 微服务版本灰度发布新神器<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/g2nb3j&aid=13703&nid=224\" >微前端快速选型指南<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/n15ny2&aid=13692&nid=224\" >如何构建安全的微服务应用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/cy05s1&aid=13687&nid=224\" >深入解读 Service Mesh 背后的技术细节<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2bho18&aid=13613&nid=223\" >微服务设计模式之 API 网关<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/u5779u&aid=13529&nid=222\" >微服务架构实践：API Gateway<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vtdynn&aid=13513&nid=222\" >蚂蚁金服大规模微服务架构下的 Service Mesh 探索之路<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/s4e7gh&aid=13539&nid=222\" >基于 Restful 的微服务架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/z50khd&aid=13525&nid=222\" >实施前端微服务化的六七种方式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pa4438&aid=13449&nid=221\" >苏宁数据中台基于 Spring Cloud 微服务架构实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zjf7v8&aid=13390&nid=220\" >微服务化的基石：持续集成<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ng7jym&aid=13356&nid=219\" >Go 微服务实战汇总<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3ew1fe&aid=13331&nid=219\" >基于微服务的日志中心设计、实现与关键配置<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8fhmhg&aid=13253&nid=218\" >微服务化之缓存的设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/w2hntl&aid=13224&nid=217\" >API 管理的正确姿势：API Gateway<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dymu8x&aid=13212&nid=217\" >Netflix 的微服务是如何分层的<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/15f6ny&aid=13111&nid=216\" >微服务 2.0 技术栈选型手册<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bkh1sp&aid=13122&nid=216\" >如何基于 Golang 设计一套微服务架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/glzqvq&aid=13131&nid=216\" >Eureka + Zuul + Feign + Hystrix 构建微服务架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1ragmw&aid=13098&nid=215\" >从跨语言调用到 dubbo2.js<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/lv7vry&aid=13042&nid=215\" >51 信用卡在微服务架构下的监控平台架构实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/i5wznu&aid=12970&nid=214\" >[译] 事件溯源|日志记录：一个基础的微服务模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/hipgg3&aid=12969&nid=214\" >无服务器架构下的运维<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/rsa4iv&aid=12947&nid=213\" >从零搭建一个基于 Istio 的服务网格<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/hiwdeq&aid=12943&nid=213\" >Service Mesh 及其主流开源实现解析<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1kjbj5&aid=12924&nid=213\" >罗辑思维 Go 语言微服务改造实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/x9ffwo&aid=12828&nid=211\" >腾讯出品的微服务框架的名字服务解决方案 TSeer 正式开源<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6xqcpp&aid=12789&nid=211\" >基于 Spring Cloud 的 Microservices 架构实战案例：配置文件属性内容加解密<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/hkawin&aid=12817&nid=211\" >为什么 Kubernetes 天然适合微服务？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/206sbe&aid=12739&nid=210\" >从 Spring Cloud 看一个微服务框架的 “五脏六腑”<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/wozb21&aid=12750&nid=210\" >微服务化的不同阶段 Kubernetes 的不同玩法<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zpvlor&aid=12710&nid=210\" >基于 Spring Cloud 的 Microservices 架构实战案例：架构拆解<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/x0w7ai&aid=12709&nid=210\" >基于 Spring Cloud 的微服务落地<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/wdgigp&aid=12691&nid=210\" >认证鉴权与 API 权限控制在微服务架构中的设计与实现：授权码模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8284lx&aid=12512&nid=207\" >微网关与服务啮合<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9t19hj&aid=12446&nid=206\" >手把手教你搭建一套可自动化构建的微服务框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2jqfk6&aid=12407&nid=206\" >微服务架构下的立体监控系统设计和实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/38d3c9&aid=12405&nid=206\" >全面解析京东微服务平台<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7lfr8v&aid=12317&nid=204\" >技术雷达之 “微前端”：将微服务理念扩展到前端开发<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/mfs5yn&aid=12312&nid=204\" >基于 Sanic 的微服务基础架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/46f4t0&aid=12248&nid=203\" >使用 Istio 治理微服务入门<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/h7i1x8&aid=11888&nid=199\" >TDD 开发容器化的 Python 微服务应用（一）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/arjm1p&aid=11928&nid=199\" >技术雷达之 “微前端”：将微服务理念扩展到前端开发<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9we6bi&aid=11532&nid=194\" >Go 使用 grpc + http 打造高性能微服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/yuww62&aid=11355&nid=192\" >[译] 如何设计实现真正的响应式微服务系统？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8s8pwz&aid=11344&nid=191\" >腾讯与阅文技术合作，微服务框架 Tars 再添 PHP<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/yxd30b&aid=11170&nid=189\" >阿里云基于 Go 的微服务架构分享<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vii7xj&aid=11077&nid=187\" >[译] 微服务从设计到部署（七）：重构单体为微服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0wtw8o&aid=10992&nid=186\" >Kubernetes、微服务以及 Service Mesh<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vwuc9h&aid=11008&nid=186\" >[译] 微服务生态系统的 4 层模型<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ttmk3n&aid=10790&nid=184\" >微服务 API 级权限的技术架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bq83y1&aid=10789&nid=184\" >微服务的 4 个设计原则和 19 个解决方案<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bbht62&aid=10855&nid=184\" >php-msf：基于 Swoole 的工程级企业微服务框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/g5t9sg&aid=10715&nid=183\" >轻量级微服务架构及最佳部署<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/v1bkhw&aid=10752&nid=183\" >[译] 微服务从设计到部署（二）：使用 API 网关<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2ah8ig&aid=10694&nid=182\" >连接管理安全化微服务的利器 Istio<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/m8aqw3&aid=10673&nid=182\" >[译] 微服务从设计到部署（一）：微服务简介 <i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/uxkvw4&aid=10639&nid=182\" >[译] 设计一个容错的微服务架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/iu24f0&aid=10565&nid=181\" >如何构建微服务架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dk2by4&aid=10486&nid=180\" >微服务架构上云最佳实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/y7w5yu&aid=10553&nid=180\" >swoft：基于 Swoole 协程 2.x 的高性能 PHP 微服务框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9cmumb&aid=10467&nid=179\" >[译] 如何实现前端微服务化？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pkmy3j&aid=10457&nid=179\" >[译] 使用 Spring Cloud 和 Docker 构建微服务架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8ds6fl&aid=10390&nid=178\" >微服务注册发现集群搭建：Registrator + Consul + Consul-template + nginx<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4p2ebe&aid=10375&nid=178\" >几种常见的微服务架构方案简述：ZeroC IceGrid、Spring Cloud、基于消息队列<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/b9yrio&aid=10206&nid=176\" >[译] REST？RPC？是时候改变你对微服务的认知了<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/yhnr3d&aid=10148&nid=175\" >京麦微服务技术架构演变之下的 618 备战实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/r6w3t5&aid=10117&nid=174\" >NHMicro：脚本化微服务框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8f7m6l&aid=10091&nid=174\" >详解微服务实践从架构到部署<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2nfcfl&aid=10058&nid=173\" >Istio：Google、IBM 和 Lyft 联合开源的微服务 Service Mesh 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/wlbiz6&aid=10001&nid=173\" >微服务初级设计指南<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/l7pnoz&aid=9929&nid=172\" >多研究些架构，少谈些框架（二）：微服务和充血模型<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dlkoz9&aid=9897&nid=171\" >揭秘网易大数据实践与基于微服务的应用架构设计实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3sly7l&aid=9762&nid=169\" >解析微软微服务架构 eShopOnContainers（一）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4hoeqi&aid=9681&nid=168\" >自己动手扩展分布式调用链<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ver9l5&aid=9669&nid=168\" >[译] 为了更好地支持微服务，我们从 PHP 迁移到了 Go<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2hkd12&aid=9594&nid=167\" >华尔街见闻基于 Golang 的微服务实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qhtx0d&aid=9480&nid=165\" >《微服务设计》之演化式架构师<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/o010bl&aid=9477&nid=165\" >基于 Spring Cloud 的微服务架构 v1.0<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3twx8z&aid=9411&nid=164\" >StatsD 使用小结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vf4npv&aid=9335&nid=163\" >《微服务设计》读书笔记之微服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/d56pib&aid=9275&nid=162\" >腾讯自用的微服务架构 Tars 正式开源<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/15dua9&aid=9277&nid=162\" >为基于 Spring Boot 的微服务架构搭建一套自动化、集中管理的 API 文档中心<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/90t7zh&aid=9005&nid=159\" >微服务架构下的分布式数据管理<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/j99pg0&aid=8947&nid=158\" >使用微服务架构重构支付网关<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qazq46&aid=8910&nid=157\" >Faas，又一个未来？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pzx5mb&aid=8789&nid=156\" >[译] Uber 微服务经验谈<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/j224c4&aid=8692&nid=154\" >Spring Cloud 构建微服务架构（一）：服务注册与发现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/izkqoe&aid=8678&nid=154\" >微服务部署：蓝绿部署、滚动部署、灰度发布等部署方案对比与总结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/m124s5&aid=8292&nid=148\" >微服务架构的基础框架选择：Spring Cloud 还是 Dubbo？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9s7cua&aid=8014&nid=144\" >微服务的反模式和陷阱<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/c9i3ia&aid=7979&nid=143\" >阿里巴巴前架构师 360 度无死角剖析微服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/r2tazu&aid=7947&nid=142\" >spring-cloud-netflix-example：基于 Spring Cloud 的微服务实例<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/fya6n5&aid=7775&nid=140\" >产品级微服务的八大原则<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5hs6kt&aid=7728&nid=139\" >微服务场景下的自动化测试<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dcn6tj&aid=7118&nid=130\" >[译] REST 和微服务：用异步交互分解单体系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/hpzb3p&aid=7056&nid=129\" >[译] 微服务到头了？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/blkw89&aid=7001&nid=128\" >Dora RPC：PHP 的分布式 RPC，支持微服务、服务发现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0jbmp8&aid=6992&nid=128\" >[译] 用 Spring Cloud 治理微服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/w0loo0&aid=6924&nid=127\" >微服务的团队应对之道<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4v4dms&aid=6880&nid=127\" >[译] NGINX 微服务参考架构简介<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5aqvuh&aid=6654&nid=123\" >微服务独家笔记<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gkij7u&aid=6464&nid=121\" >[译] 微服务即演进式架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8u3bb8&aid=6358&nid=119\" >[译] 介绍 Nginx 微服务参考架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/owysr9&aid=6261&nid=118\" >[译] 从微服务同步 REST 的天然缺陷说起<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3nzj6y&aid=5603&nid=110\" >[译] Cookpad 基于 Docker 的微服务经验总结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1d5zn4&aid=5405&nid=107\" >Golang 微服务工具包<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/hroumz&aid=4904&nid=102\" >实施微服务，我们需要哪些基础框架？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/grxphx&aid=4569&nid=98\" >[译] Rails 微服务架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1kndxf&aid=4106&nid=93\" >[译] 无服务器的微服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gmaes&aid=3588&nid=87\" >极速切入 Spring Boot 微服务框架 (float.lu)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6v74s&aid=3136&nid=82\" >谈谈微服务 (王福强)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qfusw&aid=2889&nid=79\" >[译] Martin Folwer 谈微服务的优缺点 (黄帅)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0bsp4&aid=2796&nid=78\" >[译] 构建微服务：使用 API Gateway (陈杰)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/80pg6&aid=2430&nid=73\" >[译] 微服务实战（一）：微服务架构的优势与不足 (杨峰)<i class=\"fas fa-external-link-alt\"></i></a></li>\n</ul>\n<h2 id=\"推荐系统\"><a href=\"#推荐系统\" class=\"headerlink\" title=\"推荐系统\"></a>推荐系统</h2><ul>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/xv0mpu&aid=17031&nid=271\" >《推荐系统开发实战》之冷启动问题<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/whj4eb&aid=16980&nid=270\" >《推荐系统开发实战》之推荐系统的灵魂伴侣：数据挖掘<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1whved&aid=16953&nid=270\" >基于 Erlang 语言的视频相似推荐系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zf3wie&aid=16543&nid=265\" >推荐系统之矩阵分解模型（原理篇）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/621wdc&aid=16469&nid=264\" >数据与广告系列（七）：广告与推荐系统技术架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/oj35u4&aid=16450&nid=264\" >构建可解释的推荐系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/b78d1l&aid=16277&nid=262\" >从零开始入门推荐算法工程师<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/eo59x2&aid=15891&nid=257\" >推荐系统冷启动<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/u5o1mp&aid=15670&nid=254\" >深度召回模型在 QQ 看点推荐中的应用实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/yc6ldf&aid=15599&nid=253\" >机器学习在微博信息流推荐中的应用实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/w1rb09&aid=15256&nid=248\" >推荐系统融合排序之 LR<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vwad6r&aid=15084&nid=246\" >重读 YouTube 深度学习推荐系统论文<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/wvtv9f&aid=14547&nid=237\" >58 部落帖子推荐系统的抬手动作<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/kwdn9d&aid=14382&nid=235\" >大数据推荐系统实时架构和离线架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/l21nbg&aid=14220&nid=232\" >2018 年最全的推荐系统干货<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/hszitv&aid=13611&nid=223\" >[译] 2018 年推荐系统入门指南<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pdwme8&aid=13581&nid=223\" >京东推荐系统架构揭秘：大数据时代下的智能化改造<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1tmfmy&aid=13326&nid=219\" >推荐系统遇上深度学习（十五）：强化学习在京东推荐中的探索<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/cm6hka&aid=13187&nid=217\" >推荐系统遇上深度学习（十一）：神经协同过滤 NCF 原理及实战<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9t354k&aid=12819&nid=211\" >从先进走向普遍的广告和推荐系统方法之一：在线学习<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4l1kex&aid=12282&nid=204\" >微软亚洲研究院论文解读：GAN 在网络特征学习中的应用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/thubku&aid=12278&nid=204\" >深度学习在 58 同城智能推荐系统中的应用实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pmd2v1&aid=12203&nid=203\" >深度学习在推荐系统上的应用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vm05h0&aid=12157&nid=202\" >今日头条推荐算法原理全文详解<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/n2powm&aid=12115&nid=202\" >从原理到策略算法再到架构产品看推荐系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6jz32a&aid=11998&nid=200\" >[译] 一分钟整明白 Netflix 的 Contextual Bandits 的推荐探索策略<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/p5z08l&aid=11855&nid=198\" >融合了用户兴趣的推荐系统才更具个性<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/v62411&aid=11761&nid=197\" >就算是非技术人员也都有必要了解的一些推荐系统常识<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bgzhaw&aid=11724&nid=197\" >推荐系统之用户行为分析<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3wkrrg&aid=10953&nid=186\" >推荐系统那些事儿<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qfijcf&aid=10816&nid=184\" >3 亿会员、4 亿商品，深度学习在大型电商商品推荐的应用实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/thx7o8&aid=10348&nid=178\" >深度学习在美团点评推荐平台排序中的运用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/35tpcy&aid=10176&nid=175\" >蘑菇街推荐工程实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/h1peov&aid=10147&nid=175\" >[译] 亚马逊推荐二十年<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/nvao7r&aid=10146&nid=175\" >今日头条成功的核心技术秘诀是什么？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dn9rsm&aid=9865&nid=171\" >写给设计师的人工智能指南：推荐系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/44yl8e&aid=9862&nid=171\" >Pinterest 推荐系统四年进化之路<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/h1ey0b&aid=9850&nid=170\" >深度学习在推荐领域的应用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vlgip3&aid=9732&nid=169\" >Deep Learning for Recommendation Systems<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7uziol&aid=9559&nid=166\" >Bandit 算法与推荐系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9x52nx&aid=9463&nid=165\" >深度学习在推荐算法上的应用进展<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/x4c15d&aid=9445&nid=165\" >魅族推荐平台的架构演进之路<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qpp7e2&aid=8803&nid=156\" >淘宝搜索&#x2F;推荐系统背后深度强化学习与自适应在线学习的实践之路<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/munr12&aid=8369&nid=149\" >[译] 工作职位推荐系统的算法与架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/d9s3vx&aid=8240&nid=147\" >基于用户画像的实时异步化视频推荐系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zjt9kg&aid=8079&nid=145\" >兴趣 Feed 技术架构与实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/upftbt&aid=8036&nid=144\" >推荐系统老司机的十条经验<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8pyzkt&aid=7139&nid=130\" >推荐系统的苟且和远方<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3cvjl9&aid=4928&nid=102\" >[译] 如何从零构建实时的个性化推荐系统？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ynunyg&aid=4857&nid=101\" >大数据 &#x2F; 数据挖掘 &#x2F; 推荐系统 &#x2F; 机器学习相关资源<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/h6dlgb&aid=4602&nid=98\" >为豆瓣电影实现 User-based 协同过滤的推荐系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0za23w&aid=4393&nid=96\" >推荐系统基础知识<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/jq47s&aid=3239&nid=84\" >美团推荐系统整体框架与关键工作 (沈国阳)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/cfc1t&aid=2132&nid=67\" >使用 Python 实现一个简单的推荐系统 (Kai Zhou)<i class=\"fas fa-external-link-alt\"></i></a></li>\n</ul>\n<h2 id=\"框架\"><a href=\"#框架\" class=\"headerlink\" title=\"框架\"></a>框架</h2><ul>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dret83&aid=16439&nid=264\" >设计一个分布式 RPC 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/etr6qg&aid=16096&nid=260\" >[译] Linkerd or Istio？哪个 Service Mesh 框架更适合你？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/wmwus4&aid=15910&nid=257\" >Golang 轻量级高并发 socket 框架 chitchat<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gu0vn2&aid=15786&nid=255\" >Aloha：一个分布式调度框架的设计与实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/sgkxah&aid=15556&nid=252\" >架构认知（二）：企业架构的框架和作用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zm5v0z&aid=15137&nid=246\" >简单高性能的 JavaScript 组件框架 Ale.js<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/17gc7q&aid=14690&nid=239\" >[译] 评估 Kubernetes 中的 Serverless 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/djks43&aid=13835&nid=226\" >[译] Uber 开源 Fusion.js：一个基于插件架构的通用 Web 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/e35r0j&aid=13769&nid=225\" >服务框架的技术栈<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/44ltuw&aid=13276&nid=218\" >Scala 实现 DSL 的框架案例<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/o3pp4d&aid=13206&nid=217\" >Web 框架的架构模式探讨（JavaScript 语言）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/x9ffwo&aid=12828&nid=211\" >腾讯出品的微服务框架的名字服务解决方案 TSeer 正式开源<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/lwkoz4&aid=12754&nid=210\" >分布式单点登录框架 XXL-SSO<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/gs1tff&aid=12748&nid=210\" >蚂蚁通信框架实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/206sbe&aid=12739&nid=210\" >从 Spring Cloud 看一个微服务框架的 “五脏六腑”<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pm3wgu&aid=12535&nid=207\" >swoolefy：基于 Swoole 扩展实现的高性能 MVC 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9t19hj&aid=12446&nid=206\" >手把手教你搭建一套可自动化构建的微服务框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/nqxt5d&aid=12177&nid=202\" >跟繁琐的命令行说拜拜，Gerapy 分布式爬虫管理框架来袭<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/xd00zo&aid=12081&nid=201\" >设计和实现一款轻量级的爬虫框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/l8iqmy&aid=11784&nid=197\" >Blade：高性能、简洁优雅的 Java Web 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1dr63d&aid=11715&nid=196\" >Log4a：基于 mmap 的高性能、高可用的 Android 日志收集框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/v04t13&aid=11576&nid=195\" >Android 高级进阶（源码剖析篇）：Twitter 的高性能序列化框架 Serial（一）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8408lv&aid=11348&nid=191\" >XXL-CRAWLER：灵活高效、面向对象的分布式爬虫框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8s8pwz&aid=11344&nid=191\" >腾讯与阅文技术合作，微服务框架 Tars 再添 PHP<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/x5mx32&aid=11269&nid=190\" >TSF：腾讯出品的基于协程和 Swoole 驱动的高性能 PHP 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ltj9um&aid=11140&nid=188\" >Colly：Go 实现的快速、优雅的高性能网页采集框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pixeg9&aid=11099&nid=187\" >Biny：腾讯出品的高性能的超轻量级 PHP 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bbht62&aid=10855&nid=184\" >php-msf：基于 Swoole 的工程级企业微服务框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/fc0f0p&aid=10731&nid=183\" >基于 Java、Kafka、ElasticSearch 的搜索框架的设计与实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/y7w5yu&aid=10553&nid=180\" >swoft：基于 Swoole 协程 2.x 的高性能 PHP 微服务框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/r7yjio&aid=10214&nid=176\" >iOS 从 0 到 1 搭建高可用 App 框架（二）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/r6w3t5&aid=10117&nid=174\" >NHMicro：脚本化微服务框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2nfcfl&aid=10058&nid=173\" >Istio：Google、IBM 和 Lyft 联合开源的微服务 Service Mesh 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2d8ovt&aid=9974&nid=172\" >Google 应用框架实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/l7pnoz&aid=9929&nid=172\" >多研究些架构，少谈些框架（二）：微服务和充血模型<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/o010bl&aid=9477&nid=165\" >基于 Spring Cloud 的微服务架构 v1.0<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/g7ion2&aid=9189&nid=161\" >[译] 用分层结构打造苗条 MVC 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/aclw19&aid=9215&nid=161\" >Voyage：Java 实现的基于 Netty 的轻量、高性能分布式 RPC 服务框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0v0kpa&aid=9079&nid=160\" >小程序底层框架实现原理解析<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5wma7d&aid=8911&nid=157\" >Golang 高性能分布式游戏服务器框架 mqant<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/n0gdvg&aid=8790&nid=156\" >[译] Google 是如何开发 Web 框架的<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/g5ghje&aid=8708&nid=154\" >FastD：PHP 高性能 API 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/m124s5&aid=8292&nid=148\" >微服务架构的基础框架选择：Spring Cloud 还是 Dubbo？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2nh7g6&aid=7761&nid=139\" >JLiteSpider：轻量级的分布式 Java 爬虫框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/t70i21&aid=6809&nid=125\" >SeimiCrawler：敏捷、独立部署、支持分布式的 Java 爬虫框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/sf6ol6&aid=6661&nid=123\" >基于 Dubbo 框架构建分布式服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zyeuuk&aid=6443&nid=120\" >RPCX：类似 Dubbo 的分布式 RPC 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6fdzp6&aid=6383&nid=120\" >魅族 C++ 协程框架 Kiev 技术内幕<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/95qo0b&aid=6060&nid=116\" >高性能分布式 Mock 平台的框架与设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/atdywd&aid=5746&nid=112\" >深入分析 iBATIS 框架之系统架构与映射原理<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/hroumz&aid=4904&nid=102\" >实施微服务，我们需要哪些基础框架？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/o1pgk&aid=1996&nid=63\" >kiteq - 一个多种持久化方案的 MQ 框架 (@Beta版厨子)<i class=\"fas fa-external-link-alt\"></i></a></li>\n</ul>\n<h2 id=\"消息队列\"><a href=\"#消息队列\" class=\"headerlink\" title=\"消息队列\"></a>消息队列</h2><ul>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ov5cay&aid=15449&nid=251\" >金融行业消息队列选型及实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3qehx7&aid=14951&nid=243\" >QMQ：去哪儿网内部广泛使用的消息中间件<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/yosx21&aid=14551&nid=237\" >分布式之消息队列复习精讲<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/505qkj&aid=13851&nid=227\" >天池中间件大赛：单机百万消息队列存储分享<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/q348q1&aid=13764&nid=225\" >消息队列实现概要：深度解读分区 Topic 的实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/afyqe5&aid=13148&nid=216\" >消息队列事务型消息原理浅析<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dqfevp&aid=11851&nid=198\" >RAID 6 应用于消息队列<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/enlfg4&aid=11707&nid=196\" >分布式消息队列实现概要<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4p2ebe&aid=10375&nid=178\" >几种常见的微服务架构方案简述：ZeroC IceGrid、Spring Cloud、基于消息队列<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ctccgi&aid=10177&nid=175\" >LocalMQ：从零构建类 RocketMQ 高性能消息队列<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vvw3eq&aid=9763&nid=169\" >消息队列的对比调研<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/siyjen&aid=9151&nid=161\" >Message Queue 的设计和实现（七）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/n7qpkw&aid=8945&nid=158\" >腾讯云分布式高可靠消息队列 CMQ 架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2jr0pt&aid=8862&nid=157\" >Message Queue 的设计和实现（三）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pts7bc&aid=8569&nid=152\" >Gores：Go 语言编写的基于 Redis 的消息队列系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4tr157&aid=7892&nid=141\" >php-queue：PHP 开发的磁盘存储消息队列服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/q5p960&aid=7023&nid=129\" >PHP 高级编程之消息队列<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7bcgog&aid=6747&nid=125\" >消息队列设计精要<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3cszs&aid=2230&nid=69\" >Disque - 一个分布式消息队列 (antirez)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6742y&aid=2148&nid=67\" >可靠消息队列浅谈 (@招牌疯子)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/o1pgk&aid=1996&nid=63\" >kiteq - 一个多种持久化方案的 MQ 框架 (@Beta版厨子)<i class=\"fas fa-external-link-alt\"></i></a></li>\n</ul>\n<h2 id=\"编程语言\"><a href=\"#编程语言\" class=\"headerlink\" title=\"编程语言\"></a>编程语言</h2><ul>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/tq492f&aid=17102&nid=272\" >微服务中使用 OpenJ9 JVM 内存占用降 60%（相对 HotSpot）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/asw5qp&aid=17073&nid=271\" >Go 并发设计模式之 Active Object<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/o09i73&aid=16878&nid=269\" >函数式编程让你忘记设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/88qvcp&aid=16648&nid=266\" >AAC 系列（四）：深入理解架构组件 ViewModel<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7ko3iw&aid=16434&nid=264\" >自治对象才是好对象<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4r2m99&aid=16389&nid=263\" >iOS、Swift 基础开发架构思考<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/57dduv&aid=16356&nid=263\" >轻松构建微服务之远程调用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/x5qrda&aid=16336&nid=263\" >拍拍贷消息系统原理与应用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7q0a3u&aid=16189&nid=261\" >微服务化后缓存怎么做<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ep1en9&aid=16148&nid=260\" >Golang Failpoint 的设计与实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/wmwus4&aid=15910&nid=257\" >Golang 轻量级高并发 socket 框架 chitchat<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/macdlu&aid=15921&nid=257\" >[译] 高性能 Go 服务的内存优化<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bu5td2&aid=15817&nid=256\" >马蜂窝搜索基于 Golang 并发代理的一次架构升级<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6jrqfl&aid=15745&nid=255\" >Android 技术架构演进与未来<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0qt8jk&aid=15678&nid=254\" >Android 架构组件：让天下没有难做的 App<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/padg21&aid=15650&nid=253\" >NutsDB：纯 Go 编写的高性能内嵌型 KV 数据库<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/brbe04&aid=15306&nid=249\" >指令集架构、机器码与 Go 语言<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/w8yenz&aid=15231&nid=248\" >Android 架构之高可用移动网络连接<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/r7nlaa&aid=15210&nid=247\" >让 Raft 变快 100 倍：Dragonboat 的写优化<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/wn7eo5&aid=15047&nid=245\" >Flutter 混合开发组件化与工程化架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/etrnyn&aid=14984&nid=244\" >Go 分布式实时服务架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/heduhs&aid=14905&nid=243\" >Android 架构之长连接技术<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pgarge&aid=14906&nid=243\" >被滥用的 GUI 设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/j7nzmk&aid=14837&nid=242\" >Android Architecture Component 和架构升级在铭师堂的实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/s16bsw&aid=13843&nid=239\" >杭州有赞招聘资深 Java 开发工程师&#x2F;垂直业务架构师<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2qyv4h&aid=14640&nid=238\" >gorouter：简单高性能的 Go router<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/puxwzs&aid=14066&nid=230\" >最佳实践：重构 AppDelegate（iOS）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/b7eq8v&aid=14065&nid=230\" >Android 架构：ViewModel 与 View 之间的通信<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/egpgxv&aid=13936&nid=228\" >从 Go 高性能日志库 zap 看如何实现高性能 Go 组件<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bftpm0&aid=13930&nid=228\" >Android 架构组件<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bcqfzr&aid=13918&nid=228\" >[译] 微服务的 10 个挑战和解决方案<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/xcvqdy&aid=13803&nid=226\" >天池中间件大赛 Golang 版 Service Mesh 思路分享<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/fn4v62&aid=13774&nid=225\" >MyPerf4J：针对高并发、低延迟应用设计的高性能且无侵入的实时 Java 方法性能监控和统计工具<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0hkfi4&aid=13706&nid=224\" >Spring Cloud 微服务版本灰度发布新神器<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/v3s2la&aid=13674&nid=224\" >Python 后端架构演进<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/sdb5jf&aid=13668&nid=224\" >使用 Android 架构组件实现 MVVM 模式的应用<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9808ju&aid=13591&nid=223\" >Go 代码重构：23 倍的性能爆增<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/09oh4x&aid=13551&nid=222\" >继承和面向接口（iOS 架构思想篇）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pa4438&aid=13449&nid=221\" >苏宁数据中台基于 Spring Cloud 微服务架构实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ng7jym&aid=13356&nid=219\" >Go 微服务实战汇总<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/28xhz5&aid=13190&nid=217\" >基于可靠消息方案的分布式事务（二）：Java 中的事务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bkh1sp&aid=13122&nid=216\" >如何基于 Golang 设计一套微服务架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/beyk5y&aid=13075&nid=215\" >什么时候能用上设计模式？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1ragmw&aid=13098&nid=215\" >从跨语言调用到 dubbo2.js<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zavy6s&aid=12999&nid=214\" >秒杀架构实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1kjbj5&aid=12924&nid=213\" >罗辑思维 Go 语言微服务改造实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/w0d16z&aid=12922&nid=213\" >[译] PHP-FPM 调优：为了高性能使用 pm static<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/xq9rcw&aid=12846&nid=212\" >Android 工程模块化平台的设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/155gol&aid=12800&nid=211\" >Golang 高性能实战<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dvul4d&aid=12795&nid=211\" >浅析 iOS 中的设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/i992v2&aid=12792&nid=211\" >苏宁易购 Android 架构演进史<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/x0w7ai&aid=12709&nid=210\" >基于 Spring Cloud 的微服务落地<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/jz9zjj&aid=12744&nid=210\" >跨平台长连接组件设计及可插拔改造<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/206sbe&aid=12739&nid=210\" >从 Spring Cloud 看一个微服务框架的 “五脏六腑”<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zpvlor&aid=12710&nid=210\" >基于 Spring Cloud 的 Microservices 架构实战案例：架构拆解<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/uimy8i&aid=12675&nid=209\" >MMKV：基于 mmap 的 iOS 高性能通用 key-value 组件<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qikhdp&aid=12559&nid=208\" >阿里架构师分享的 Java 程序员需要突破的技术要点<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pm3wgu&aid=12535&nid=207\" >swoolefy：基于 Swoole 扩展实现的高性能 MVC 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/38d3c9&aid=12405&nid=206\" >全面解析京东微服务平台<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/mfs5yn&aid=12312&nid=204\" >基于 Sanic 的微服务基础架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/xvtqse&aid=12287&nid=204\" >Android Architecture Component 解析之 ViewModel<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/i3wyqv&aid=12214&nid=203\" >Android Architecture Components 和可测试代码<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/r0qfju&aid=12180&nid=202\" >guard：高性能熔断器 + 代理服务器（Golang）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3vleiv&aid=12037&nid=201\" >Dubbo 作者聊设计原则（2011）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/jllh7k&aid=12054&nid=201\" >Android 应用架构前世今生<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/h7i1x8&aid=11888&nid=199\" >TDD 开发容器化的 Python 微服务应用（一）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/cqhkb2&aid=11892&nid=199\" >[译] 2018 PHP 应用程序安全设计指北<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/kenqnn&aid=11814&nid=198\" >探索 Android 架构组件 Room<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/l8iqmy&aid=11784&nid=197\" >Blade：高性能、简洁优雅的 Java Web 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/t6jibs&aid=11767&nid=197\" >搭建 Keepalived + Nginx + Tomcat 的高可用负载均衡架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/nf3zsh&aid=11744&nid=197\" >读懂唱吧 KTVHTTPCache 设计思想（iOS）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3jmpx4&aid=11786&nid=197\" >MultiHttp：高性能 PHP 封装的 HTTP Restful 多线程并发请求库<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1dr63d&aid=11715&nid=196\" >Log4a：基于 mmap 的高性能、高可用的 Android 日志收集框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/v04t13&aid=11576&nid=195\" >Android 高级进阶（源码剖析篇）：Twitter 的高性能序列化框架 Serial（一）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/my98uz&aid=11518&nid=194\" >gkvdb 的介绍及设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9we6bi&aid=11532&nid=194\" >Go 使用 grpc + http 打造高性能微服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/nickqt&aid=11530&nid=194\" >一文读懂连接池技术原理、设计与实现（Python）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8h65sd&aid=11335&nid=191\" >使用 Redis 实现分布式锁及其优化<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/nxrzow&aid=11323&nid=191\" >gRPC &amp; Protocol Buffer 构建高性能接口实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8s8pwz&aid=11344&nid=191\" >腾讯与阅文技术合作，微服务框架 Tars 再添 PHP<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/x5mx32&aid=11269&nid=190\" >TSF：腾讯出品的基于协程和 Swoole 驱动的高性能 PHP 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ajuu54&aid=11192&nid=189\" >带你领略 Clean 架构的魅力<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/yxd30b&aid=11170&nid=189\" >阿里云基于 Go 的微服务架构分享<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ltj9um&aid=11140&nid=188\" >Colly：Go 实现的快速、优雅的高性能网页采集框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pixeg9&aid=11099&nid=187\" >Biny：腾讯出品的高性能的超轻量级 PHP 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ri3tnj&aid=11097&nid=187\" >MultiHttp：高性能的 PHP 封装的 HTTP Restful 多线程并发请求库<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/g6a3fw&aid=11000&nid=186\" >dubbo 源码解析：集群容错架构设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/u6hhfn&aid=10977&nid=186\" >用 500 行 Golang 代码实现高性能的消息回调中间件<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bbht62&aid=10855&nid=184\" >php-msf：基于 Swoole 的工程级企业微服务框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/fc0f0p&aid=10731&nid=183\" >基于 Java、Kafka、ElasticSearch 的搜索框架的设计与实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6kb78y&aid=10737&nid=183\" >深入理解 iOS 设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/mp85ri&aid=10653&nid=182\" >Android 应用架构组件实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/sntl6i&aid=10587&nid=181\" >如何用 Go 打造亿级实时分布式出行平台<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/uk2he1&aid=10582&nid=181\" >[译] 基于 Android Architecture Components 的应用架构指南<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3ijcsx&aid=10558&nid=180\" >molten：PHP 应用透明链路追踪工具<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/y7w5yu&aid=10553&nid=180\" >swoft：基于 Swoole 协程 2.x 的高性能 PHP 微服务框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/y2np6x&aid=10539&nid=180\" >浅谈 MVC、MVP 和 MVVM 架构模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/hhl4bd&aid=10314&nid=177\" >谈谈 Tomcat 架构及启动过程<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/r7yjio&aid=10214&nid=176\" >iOS 从 0 到 1 搭建高可用 App 框架（二）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dnygab&aid=10166&nid=175\" >再谈 WebSocket，论架构设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/jzvfgf&aid=10083&nid=174\" >两年 PHPer 聊下架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/o9e9gh&aid=10095&nid=174\" >Laravel + go-micro + grpc 实践基于 Zipkin 的分布式链路追踪系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qji3ft&aid=10003&nid=173\" >Base 封装（一）：我的最简 MVP 架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2x5xil&aid=10007&nid=173\" >iOS 架构实践：The Right Way to Architect iOS App with Swift<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7k6g5g&aid=9945&nid=172\" >iOS 动态功能部署我们是这样实现的：理论设计篇<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/f42gp4&aid=9879&nid=171\" >iOS 架构设计：URL 缓存<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bun0rg&aid=9747&nid=169\" >[译] Google 官方推出应用开发架构指南<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/462xte&aid=9698&nid=168\" >针对 PHP 做的 Ragnar Fiery 分布式性能跟踪系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ver9l5&aid=9669&nid=168\" >[译] 为了更好地支持微服务，我们从 PHP 迁移到了 Go<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/j4639h&aid=9588&nid=167\" >iOS 无埋点数据 SDK 的整体设计与技术实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2hkd12&aid=9594&nid=167\" >华尔街见闻基于 Golang 的微服务实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vtovqv&aid=9591&nid=167\" >PHP 应用性能优化指南<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6ch3h7&aid=9385&nid=164\" >58 同城 iOS 客户端组件化演变历程<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4grbn9&aid=9310&nid=163\" >沪江学习 Android 端应用架构重构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qoz4i6&aid=9313&nid=163\" >天弘基金 iOS App 架构优化之路<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/aclw19&aid=9215&nid=161\" >Voyage：Java 实现的基于 Netty 的轻量、高性能分布式 RPC 服务框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1f5d0d&aid=9203&nid=161\" >iOS 设计模式资料整理<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/g7ion2&aid=9189&nid=161\" >[译] 用分层结构打造苗条 MVC 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ljxg0a&aid=9167&nid=161\" >[译] GitHub 上 star 超过 2k 的 Android MVP 架构指南<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/utsyhi&aid=9119&nid=160\" >分布式任务队列 Celery 介绍<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0qntq9&aid=8930&nid=158\" >安居客 Android 项目架构演进<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5wma7d&aid=8911&nid=157\" >Golang 高性能分布式游戏服务器框架 mqant<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/215rg8&aid=8738&nid=155\" >Android 架构思考<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0w8lyo&aid=8776&nid=155\" >Antares：分布式任务调度平台<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/j224c4&aid=8692&nid=154\" >Spring Cloud 构建微服务架构（一）：服务注册与发现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/g5ghje&aid=8708&nid=154\" >FastD：PHP 高性能 API 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pts7bc&aid=8569&nid=152\" >Gores：Go 语言编写的基于 Redis 的消息队列系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/z8sdtl&aid=8512&nid=152\" >人人车 Android 客户端架构演进实录<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/yua3wh&aid=8459&nid=151\" >后台任务处理系统的架构演进和优化（Golang）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/m124s5&aid=8292&nid=148\" >微服务架构的基础框架选择：Spring Cloud 还是 Dubbo？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ba1gvr&aid=8275&nid=148\" >PHP 完整实战 23 种设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/svue4s&aid=8266&nid=148\" >Mybatis 源码解读：设计模式总结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/a654o2&aid=8201&nid=147\" >你知道途牛 Android 客户端架构是怎么优化的吗？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/atxbdh&aid=8142&nid=146\" >如何使用 PHP 构建一个高性能的弹幕后端服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6b2lsp&aid=8093&nid=145\" >The Clean Architecture in PHP 读书笔记（九）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9c7psr&aid=8059&nid=144\" >没有单元测试，何谈重构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4tr157&aid=7892&nid=141\" >php-queue：PHP 开发的磁盘存储消息队列服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2nh7g6&aid=7761&nid=139\" >JLiteSpider：轻量级的分布式 Java 爬虫框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/7dmd30&aid=7133&nid=130\" >MVP 架构系列：豆瓣电影 Top 250<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/q5p960&aid=7023&nid=129\" >PHP 高级编程之消息队列<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/h1z7r3&aid=7020&nid=129\" >Android 存储系统之架构篇<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/blkw89&aid=7001&nid=128\" >Dora RPC：PHP 的分布式 RPC，支持微服务、服务发现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/aja47z&aid=6868&nid=126\" >BLog4go：Go 实现的高性能日志库<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/t70i21&aid=6809&nid=125\" >SeimiCrawler：敏捷、独立部署、支持分布式的 Java 爬虫框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/t65e9q&aid=6792&nid=125\" >Android 架构资源集合<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/igxyp5&aid=6781&nid=125\" >用设计模式解析 RecyclerView<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2bmhmb&aid=6741&nid=124\" >HackerNews_Kotlin：Google MVP 架构的 Kotlin 实践 Hacker News Android 客户端<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/epgdgs&aid=6519&nid=121\" >设计模式：PHP 和 Go 语言实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zyeuuk&aid=6443&nid=120\" >RPCX：类似 Dubbo 的分布式 RPC 框架<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8b4zfw&aid=6311&nid=119\" >iOS MVVM 架构：界面与数据 I&#x2F;O 逻辑分离的实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5jrs39&aid=5827&nid=113\" >[译] PHP 中的设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bw0v4g&aid=5773&nid=112\" >[译] 面向协议的 MVVM 架构介绍<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2kdmng&aid=5752&nid=112\" >App 环境分离的实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/cvphc9&aid=5751&nid=112\" >Service Oriented 的 iOS 应用架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/fuoqeh&aid=5747&nid=112\" >微信 Android 客户端后台保活经验分享<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/atdywd&aid=5746&nid=112\" >深入分析 iBATIS 框架之系统架构与映射原理<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/i5mf23&aid=5725&nid=111\" >实践移动端的 Flux 架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0jkeod&aid=5665&nid=111\" >Java 单例真的写对了么？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/nlyfll&aid=5563&nid=110\" >滴滴出行 iOS 客户端架构演进之路<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/72fu1o&aid=5569&nid=110\" >Android App 的设计架构：MVC, MVP, MVVM 与架构经验谈<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/s9jf1i&aid=5546&nid=109\" >iOS 应用架构谈：组件化方案<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/agpnck&aid=5541&nid=109\" >Sky Walking：对 Java 分布式应用程序集群业务运行情况进行追踪、告警和分析的系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/b5947s&aid=5431&nid=108\" >iOS 开发性能提高<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1d5zn4&aid=5405&nid=107\" >Golang 微服务工具包<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/lf5p2m&aid=5361&nid=107\" >用 Swift 搭建数据驱动型 iOS 架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zfu1m1&aid=5237&nid=105\" >设计模式实现（Java、C++、Golang）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/o92cr2&aid=5223&nid=105\" >端游、手游服务端常用的架构是什么样的？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/icutt3&aid=5222&nid=105\" >微信红包的随机算法是怎样实现的？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/uu90n0&aid=5099&nid=104\" >[译] Dapper，大规模分布式系统的跟踪系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/xtl4i9&aid=5175&nid=104\" >Nucleus - 一个 Android MVP 架构库<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6qjp90&aid=5009&nid=103\" >[译] iOS 架构模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/n9rpfr&aid=4990&nid=103\" >Android 应用开发架构概述<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/kj0g4l&aid=4655&nid=99\" >[译] 如何利用 Python 中的 @property 装饰器快速重构代码？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qptaph&aid=4459&nid=97\" >Java Web 架构知识整理：记一次阿里面试经历<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/v339kl&aid=4152&nid=94\" >Java 应用一般架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/g6l2kb&aid=4068&nid=93\" >[译] Android 架构演化之路<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/nn74b&aid=3907&nid=91\" >iOS 高性能图片架构与设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qck4b&aid=3347&nid=85\" >如何实现支持数亿用户的长连消息系统 (周洋)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zkdfq&aid=2489&nid=74\" >Android 系统架构之微服务架构 (MrSimple)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/213vr&aid=2431&nid=73\" >iOS 应用架构谈：网络层设计方案 (CasaTaloyum)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zb6d8&aid=2168&nid=68\" >iOS 应用架构谈：view 层的组织和调用方案 (@CasaTaloyum)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zrno2&aid=2124&nid=67\" >iOS 应用架构谈 (@CasaTaloyum)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qpbmg&aid=2006&nid=64\" >Android 源码设计模式分析 (@MrSimp1e)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/p60yz&aid=3&nid=1\" >iOS 设计模式解析<i class=\"fas fa-external-link-alt\"></i></a></li>\n</ul>\n<h2 id=\"设计模式\"><a href=\"#设计模式\" class=\"headerlink\" title=\"设计模式\"></a>设计模式</h2><ul>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/eq68nw&aid=17116&nid=272\" >Go 并发设计模式之 Half-Sync&#x2F;Half-Async<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/asw5qp&aid=17073&nid=271\" >Go 并发设计模式之 Active Object<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/o09i73&aid=16878&nid=269\" >函数式编程让你忘记设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vnvqk7&aid=14937&nid=243\" >[译] 微服务通信的设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pgarge&aid=14906&nid=243\" >被滥用的 GUI 设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2bho18&aid=13613&nid=223\" >微服务设计模式之 API 网关<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1orta0&aid=13207&nid=217\" >[译] 你需要了解的 23 种 JavaScript 设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/beyk5y&aid=13075&nid=215\" >什么时候能用上设计模式？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/dvul4d&aid=12795&nid=211\" >浅析 iOS 中的设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/n96o20&aid=12747&nid=210\" >浅谈 Chromium 中的设计模式（一）：Chromium 中模块分层和进程模型<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/m0se1z&aid=12191&nid=203\" >分布式系统数据层设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6kb78y&aid=10737&nid=183\" >深入理解 iOS 设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vzmo7j&aid=10088&nid=174\" >你了解 CSS 设计模式吗？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1f5d0d&aid=9203&nid=161\" >iOS 设计模式资料整理<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/j99pg0&aid=8947&nid=158\" >使用微服务架构重构支付网关<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/yphsdo&aid=8899&nid=157\" >当函数成为一等公民时，设计模式的变化<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ba1gvr&aid=8275&nid=148\" >PHP 完整实战 23 种设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/svue4s&aid=8266&nid=148\" >Mybatis 源码解读：设计模式总结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9ea82e&aid=7024&nid=129\" >[译] 深入理解 React &amp; Redux 原理套路<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/igxyp5&aid=6781&nid=125\" >用设计模式解析 RecyclerView<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/mw1p2q&aid=6560&nid=122\" >别人再问你设计模式，叫他看这篇文章<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/epgdgs&aid=6519&nid=121\" >设计模式：PHP 和 Go 语言实现<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/wux6na&aid=6415&nid=120\" >图说设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/5jrs39&aid=5827&nid=113\" >[译] PHP 中的设计模式<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/0jkeod&aid=5665&nid=111\" >Java 单例真的写对了么？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/rryx7t&aid=5566&nid=110\" >服务化设计模式实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zfu1m1&aid=5237&nid=105\" >设计模式实现（Java、C++、Golang）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ukeg6&aid=2700&nid=77\" >这就是观察者模式 (@Android月)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qpbmg&aid=2006&nid=64\" >Android 源码设计模式分析 (@MrSimp1e)<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/p60yz&aid=3&nid=1\" >iOS 设计模式解析<i class=\"fas fa-external-link-alt\"></i></a></li>\n</ul>\n<h2 id=\"重构\"><a href=\"#重构\" class=\"headerlink\" title=\"重构\"></a>重构</h2><ul>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/zm7h0w&aid=17007&nid=270\" >领域驱动设计在马蜂窝优惠中心重构中的实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/p20k50&aid=16887&nid=269\" >记一次前端项目重构要点总结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/sni80t&aid=16295&nid=262\" >快看！原来重构如此简单<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1a73tz&aid=14350&nid=234\" >携程国际 BU 的 SEO 重构实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/1f9hjy&aid=14289&nid=233\" >前端重构范式之 position<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/yw7ikn&aid=14232&nid=232\" >面向体验的重构优化<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/xvllvd&aid=14157&nid=231\" >[译] 什么是代码整理？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/puxwzs&aid=14066&nid=230\" >最佳实践：重构 AppDelegate（iOS）<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/if6kcd&aid=13886&nid=227\" >前端重构范式之 float layout<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9808ju&aid=13591&nid=223\" >Go 代码重构：23 倍的性能爆增<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pmw8k9&aid=13468&nid=221\" >重构 React 组件的实用清单<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4g28uc&aid=11929&nid=199\" >IntelliJ IDEA 复杂的重构操作<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/m6223t&aid=11839&nid=198\" >IntelliJ IDEA 复杂的重构技巧<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2z2c8a&aid=11516&nid=194\" >6 个月清洗近千亿条微信支付交易记录，他们要搞什么大事情？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/3s1cb0&aid=11469&nid=193\" >电商工作后台首页的商业价值重构与产品化设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/36bkj5&aid=11128&nid=188\" >巧用匿名函数重构你的代码<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vii7xj&aid=11077&nid=187\" >[译] 微服务从设计到部署（七）：重构单体为微服务<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/koyyyl&aid=10952&nid=186\" >系统重构的 10 点经验总结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/2bts6n&aid=10888&nid=185\" >Spark 技术在唯品会财务系统重构中的实践总结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/l0vos2&aid=9898&nid=171\" >重构：靠谱程序员的必备技能<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/wrkil7&aid=9618&nid=167\" >重构之十六字心法<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/hqoj3c&aid=9324&nid=163\" >如何重构 “箭头型” 代码<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/4grbn9&aid=9310&nid=163\" >沪江学习 Android 端应用架构重构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/j99pg0&aid=8947&nid=158\" >使用微服务架构重构支付网关<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9c7psr&aid=8059&nid=144\" >没有单元测试，何谈重构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/pq17kb&aid=7739&nid=139\" >在重构脚手架中掌握 React &#x2F; Redux &#x2F; Webpack2 基本套路<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bj8f2u&aid=6724&nid=124\" >[PPT] 一次重构引发的分布式服务管理<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/vypknr&aid=6604&nid=123\" >如何重构一个大型历史项目：百度经验改版总结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/m7pko4&aid=6462&nid=121\" >重构过程中的过度设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/msc7fg&aid=5694&nid=111\" >重构的七宗罪<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/tsm29i&aid=4926&nid=102\" >CSS 代码重构与优化之路<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/kj0g4l&aid=4655&nid=99\" >[译] 如何利用 Python 中的 @property 装饰器快速重构代码？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/ihikv&aid=2710&nid=77\" >前端技能训练：重构一 (@Phodal)<i class=\"fas fa-external-link-alt\"></i></a></li>\n</ul>\n<h2 id=\"集群\"><a href=\"#集群\" class=\"headerlink\" title=\"集群\"></a>集群</h2><ul>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/psflvg&aid=16363&nid=263\" >Zookeeper 集群如何高可用部署？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/6ywapq&aid=16250&nid=262\" >滴滴 Elasticsearch 多集群架构实践<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/bx4tiy&aid=15297&nid=249\" >那些年用过的 Redis 集群架构<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/fxnlcx&aid=14485&nid=236\" >分布式高性能 Redis 集群线上常见问题<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/lqz7i8&aid=13806&nid=226\" >Node.js：浅析高并发与分布式集群<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/9g5txc&aid=13722&nid=225\" >你不知道的 RabbitMQ 集群架构全解<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/cazqgv&aid=13222&nid=217\" >MySQL 高可用集群方案之 PXC<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/qgjwm8&aid=12690&nid=210\" >集群资源调度系统设计架构总结<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/g6a3fw&aid=11000&nid=186\" >dubbo 源码解析：集群容错架构设计<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/8ds6fl&aid=10390&nid=178\" >微服务注册发现集群搭建：Registrator + Consul + Consul-template + nginx<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/cao9bv&aid=7144&nid=130\" >ActiveMQ 高可用集群方案<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/tbdmv6&aid=5491&nid=109\" >如果有 10000 台机器，你想怎么玩？<i class=\"fas fa-external-link-alt\"></i></a></li>\n<li><a class=\"link\"   href=\"https://weekly.manong.io/bounce?url=https://toutiao.io/k/agpnck&aid=5541&nid=109\" >Sky Walking：对 Java 分布式应用程序集群业务运行情况进行追踪、告警和分析的系统<i class=\"fas fa-external-link-alt\"></i></a></li>\n</ul>\n<br/>\n\n<p><a href=\"https://creativecommons.org/publicdomain/zero/1.0/\"><img  \n                     lazyload\n                     src=\"/images/loading.svg\"\n                     data-src=\"https://i.creativecommons.org/p/zero/1.0/88x31.png\"\n                      alt=\"CC0\"\n                ></a></p>\n","categories":["go"],"tags":["go"]}]